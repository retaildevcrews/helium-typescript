{"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/index.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":24},"end":{"line":3,"column":52}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":60}},"3":{"start":{"line":5,"column":27},"end":{"line":5,"column":58}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":69}},"5":{"start":{"line":7,"column":24},"end":{"line":7,"column":52}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":60}},"7":{"start":{"line":9,"column":26},"end":{"line":9,"column":56}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":66}},"9":{"start":{"line":11,"column":24},"end":{"line":11,"column":52}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":60}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/index.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/index.ts"],"names":[],"mappings":";;AAAA,qDAAoD;AAA3C,4CAAA,eAAe,CAAA;AACxB,2DAA0D;AAAjD,kDAAA,kBAAkB,CAAA;AAC3B,qDAAoD;AAA3C,4CAAA,eAAe,CAAA;AACxB,yDAAwD;AAA/C,gDAAA,iBAAiB,CAAA;AAC1B,qDAAoD;AAA3C,4CAAA,eAAe,CAAA","sourcesContent":["export { ActorController } from \"./ActorController\";\nexport { FeaturedController } from \"./FeaturedController\";\nexport { GenreController } from \"./GenreController\";\nexport { HealthzController } from \"./HealthzController\";\nexport { MovieController } from \"./MovieController\";\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e459c371b361a27e86a1b9d8ca42b869a9e79f3e"},"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/ActorController.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/ActorController.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":73}},"15":{"start":{"line":12,"column":36},"end":{"line":12,"column":71}},"16":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"17":{"start":{"line":15,"column":28},"end":{"line":15,"column":110}},"18":{"start":{"line":15,"column":91},"end":{"line":15,"column":106}},"19":{"start":{"line":16,"column":4},"end":{"line":21,"column":7}},"20":{"start":{"line":17,"column":36},"end":{"line":17,"column":97}},"21":{"start":{"line":17,"column":42},"end":{"line":17,"column":70}},"22":{"start":{"line":17,"column":85},"end":{"line":17,"column":95}},"23":{"start":{"line":18,"column":35},"end":{"line":18,"column":100}},"24":{"start":{"line":18,"column":41},"end":{"line":18,"column":73}},"25":{"start":{"line":18,"column":88},"end":{"line":18,"column":98}},"26":{"start":{"line":19,"column":32},"end":{"line":19,"column":116}},"27":{"start":{"line":20,"column":8},"end":{"line":20,"column":78}},"28":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"29":{"start":{"line":25,"column":20},"end":{"line":25,"column":40}},"30":{"start":{"line":26,"column":34},"end":{"line":26,"column":68}},"31":{"start":{"line":27,"column":18},"end":{"line":27,"column":36}},"32":{"start":{"line":28,"column":19},"end":{"line":28,"column":47}},"33":{"start":{"line":29,"column":22},"end":{"line":29,"column":56}},"34":{"start":{"line":30,"column":21},"end":{"line":30,"column":54}},"35":{"start":{"line":31,"column":16},"end":{"line":31,"column":42}},"36":{"start":{"line":32,"column":30},"end":{"line":32,"column":73}},"37":{"start":{"line":34,"column":22},"end":{"line":154,"column":1}},"38":{"start":{"line":37,"column":8},"end":{"line":37,"column":39}},"39":{"start":{"line":38,"column":8},"end":{"line":38,"column":29}},"40":{"start":{"line":79,"column":8},"end":{"line":98,"column":11}},"41":{"start":{"line":81,"column":63},"end":{"line":81,"column":130}},"42":{"start":{"line":82,"column":12},"end":{"line":86,"column":13}},"43":{"start":{"line":83,"column":16},"end":{"line":83,"column":60}},"44":{"start":{"line":84,"column":16},"end":{"line":84,"column":88}},"45":{"start":{"line":85,"column":16},"end":{"line":85,"column":65}},"46":{"start":{"line":87,"column":26},"end":{"line":87,"column":39}},"47":{"start":{"line":90,"column":12},"end":{"line":96,"column":13}},"48":{"start":{"line":91,"column":16},"end":{"line":91,"column":72}},"49":{"start":{"line":94,"column":16},"end":{"line":94,"column":103}},"50":{"start":{"line":95,"column":16},"end":{"line":95,"column":59}},"51":{"start":{"line":97,"column":12},"end":{"line":97,"column":46}},"52":{"start":{"line":128,"column":8},"end":{"line":152,"column":11}},"53":{"start":{"line":130,"column":28},"end":{"line":130,"column":41}},"54":{"start":{"line":131,"column":63},"end":{"line":131,"column":129}},"55":{"start":{"line":132,"column":12},"end":{"line":136,"column":13}},"56":{"start":{"line":133,"column":16},"end":{"line":133,"column":60}},"57":{"start":{"line":134,"column":16},"end":{"line":134,"column":77}},"58":{"start":{"line":135,"column":16},"end":{"line":135,"column":65}},"59":{"start":{"line":137,"column":26},"end":{"line":137,"column":39}},"60":{"start":{"line":139,"column":12},"end":{"line":150,"column":13}},"61":{"start":{"line":140,"column":16},"end":{"line":140,"column":88}},"62":{"start":{"line":143,"column":16},"end":{"line":143,"column":40}},"63":{"start":{"line":144,"column":16},"end":{"line":149,"column":17}},"64":{"start":{"line":145,"column":20},"end":{"line":145,"column":51}},"65":{"start":{"line":148,"column":20},"end":{"line":148,"column":63}},"66":{"start":{"line":151,"column":12},"end":{"line":151,"column":45}},"67":{"start":{"line":155,"column":0},"end":{"line":160,"column":52}},"68":{"start":{"line":161,"column":0},"end":{"line":166,"column":52}},"69":{"start":{"line":167,"column":0},"end":{"line":173,"column":20}},"70":{"start":{"line":174,"column":0},"end":{"line":174,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":40},"end":{"line":11,"column":41}},"loc":{"start":{"line":11,"column":73},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":11},"end":{"line":12,"column":12}},"loc":{"start":{"line":12,"column":34},"end":{"line":12,"column":73}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":44},"end":{"line":14,"column":45}},"loc":{"start":{"line":14,"column":89},"end":{"line":22,"column":1}},"line":14},"5":{"name":"adopt","decl":{"start":{"line":15,"column":13},"end":{"line":15,"column":18}},"loc":{"start":{"line":15,"column":26},"end":{"line":15,"column":112}},"line":15},"6":{"name":"(anonymous_6)","decl":{"start":{"line":15,"column":70},"end":{"line":15,"column":71}},"loc":{"start":{"line":15,"column":89},"end":{"line":15,"column":108}},"line":15},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":36},"end":{"line":16,"column":37}},"loc":{"start":{"line":16,"column":63},"end":{"line":21,"column":5}},"line":16},"8":{"name":"fulfilled","decl":{"start":{"line":17,"column":17},"end":{"line":17,"column":26}},"loc":{"start":{"line":17,"column":34},"end":{"line":17,"column":99}},"line":17},"9":{"name":"rejected","decl":{"start":{"line":18,"column":17},"end":{"line":18,"column":25}},"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":102}},"line":18},"10":{"name":"step","decl":{"start":{"line":19,"column":17},"end":{"line":19,"column":21}},"loc":{"start":{"line":19,"column":30},"end":{"line":19,"column":118}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":37},"end":{"line":39,"column":5}},"line":36},"12":{"name":"(anonymous_12)","decl":{"start":{"line":78,"column":4},"end":{"line":78,"column":5}},"loc":{"start":{"line":78,"column":27},"end":{"line":99,"column":5}},"line":78},"13":{"name":"(anonymous_13)","decl":{"start":{"line":79,"column":47},"end":{"line":79,"column":48}},"loc":{"start":{"line":79,"column":60},"end":{"line":98,"column":9}},"line":79},"14":{"name":"(anonymous_14)","decl":{"start":{"line":127,"column":4},"end":{"line":127,"column":5}},"loc":{"start":{"line":127,"column":27},"end":{"line":153,"column":5}},"line":127},"15":{"name":"(anonymous_15)","decl":{"start":{"line":128,"column":47},"end":{"line":128,"column":48}},"loc":{"start":{"line":128,"column":60},"end":{"line":152,"column":9}},"line":128}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":15},"end":{"line":11,"column":19}},{"start":{"line":11,"column":23},"end":{"line":11,"column":35}},{"start":{"line":11,"column":40},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":17},"end":{"line":14,"column":21}},{"start":{"line":14,"column":25},"end":{"line":14,"column":39}},{"start":{"line":14,"column":44},"end":{"line":22,"column":1}}],"line":14},"15":{"loc":{"start":{"line":15,"column":35},"end":{"line":15,"column":109}},"type":"cond-expr","locations":[{"start":{"line":15,"column":56},"end":{"line":15,"column":61}},{"start":{"line":15,"column":64},"end":{"line":15,"column":109}}],"line":15},"16":{"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":34}},"type":"binary-expr","locations":[{"start":{"line":16,"column":16},"end":{"line":16,"column":17}},{"start":{"line":16,"column":22},"end":{"line":16,"column":33}}],"line":16},"17":{"loc":{"start":{"line":19,"column":32},"end":{"line":19,"column":115}},"type":"cond-expr","locations":[{"start":{"line":19,"column":46},"end":{"line":19,"column":67}},{"start":{"line":19,"column":70},"end":{"line":19,"column":115}}],"line":19},"18":{"loc":{"start":{"line":20,"column":51},"end":{"line":20,"column":67}},"type":"binary-expr","locations":[{"start":{"line":20,"column":51},"end":{"line":20,"column":61}},{"start":{"line":20,"column":65},"end":{"line":20,"column":67}}],"line":20},"19":{"loc":{"start":{"line":82,"column":12},"end":{"line":86,"column":13}},"type":"if","locations":[{"start":{"line":82,"column":12},"end":{"line":86,"column":13}},{"start":{"line":82,"column":12},"end":{"line":86,"column":13}}],"line":82},"20":{"loc":{"start":{"line":132,"column":12},"end":{"line":136,"column":13}},"type":"if","locations":[{"start":{"line":132,"column":12},"end":{"line":136,"column":13}},{"start":{"line":132,"column":12},"end":{"line":136,"column":13}}],"line":132},"21":{"loc":{"start":{"line":144,"column":16},"end":{"line":149,"column":17}},"type":"if","locations":[{"start":{"line":144,"column":16},"end":{"line":149,"column":17}},{"start":{"line":144,"column":16},"end":{"line":149,"column":17}}],"line":144},"22":{"loc":{"start":{"line":158,"column":37},"end":{"line":158,"column":141}},"type":"cond-expr","locations":[{"start":{"line":158,"column":130},"end":{"line":158,"column":132}},{"start":{"line":158,"column":135},"end":{"line":158,"column":141}}],"line":158},"23":{"loc":{"start":{"line":158,"column":50},"end":{"line":158,"column":111}},"type":"binary-expr","locations":[{"start":{"line":158,"column":50},"end":{"line":158,"column":90}},{"start":{"line":158,"column":94},"end":{"line":158,"column":111}}],"line":158},"24":{"loc":{"start":{"line":172,"column":37},"end":{"line":172,"column":157}},"type":"cond-expr","locations":[{"start":{"line":172,"column":146},"end":{"line":172,"column":148}},{"start":{"line":172,"column":151},"end":{"line":172,"column":157}}],"line":172},"25":{"loc":{"start":{"line":172,"column":50},"end":{"line":172,"column":127}},"type":"binary-expr","locations":[{"start":{"line":172,"column":50},"end":{"line":172,"column":98}},{"start":{"line":172,"column":102},"end":{"line":172,"column":127}}],"line":172},"26":{"loc":{"start":{"line":172,"column":159},"end":{"line":172,"column":275}},"type":"cond-expr","locations":[{"start":{"line":172,"column":264},"end":{"line":172,"column":266}},{"start":{"line":172,"column":269},"end":{"line":172,"column":275}}],"line":172},"27":{"loc":{"start":{"line":172,"column":172},"end":{"line":172,"column":245}},"type":"binary-expr","locations":[{"start":{"line":172,"column":172},"end":{"line":172,"column":218}},{"start":{"line":172,"column":222},"end":{"line":172,"column":245}}],"line":172}},"s":{"0":1,"1":3,"2":3,"3":3,"4":3,"5":0,"6":0,"7":0,"8":0,"9":3,"10":1,"11":7,"12":7,"13":1,"14":2,"15":2,"16":1,"17":4,"18":0,"19":22,"20":3,"21":3,"22":0,"23":1,"24":1,"25":0,"26":26,"27":22,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":23,"39":23,"40":14,"41":14,"42":14,"43":12,"44":12,"45":12,"46":2,"47":2,"48":2,"49":0,"50":0,"51":2,"52":8,"53":8,"54":8,"55":8,"56":6,"57":6,"58":6,"59":2,"60":2,"61":2,"62":1,"63":1,"64":1,"65":0,"66":2,"67":1,"68":1,"69":1,"70":1},"f":{"0":3,"1":7,"2":2,"3":2,"4":22,"5":4,"6":0,"7":22,"8":3,"9":1,"10":26,"11":23,"12":14,"13":14,"14":8,"15":8},"b":{"0":[1,1,1],"1":[1,2],"2":[2,0],"3":[3,0],"4":[3,3],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[3,2,2],"10":[1,1,1],"11":[7,0],"12":[7,7],"13":[1,1,1],"14":[1,1,1],"15":[4,0],"16":[22,22],"17":[22,4],"18":[22,22],"19":[12,2],"20":[6,2],"21":[1,0],"22":[0,1],"23":[1,0],"24":[0,1],"25":[1,0],"26":[0,1],"27":[1,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/ActorController.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/ActorController.ts"],"names":[],"mappings":"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","sourcesContent":["import { inject, injectable } from \"inversify\";\nimport { Controller, Get, interfaces } from \"inversify-restify-utils\";\nimport { Request } from \"restify\";\nimport * as HttpStatus from \"http-status-codes\";\nimport { DataService } from \"../services/DataService\";\nimport { LogService } from \"../services/LogService\";\nimport { Actor } from \"../models/Actor\";\nimport { ValidationUtilities } from \"../utilities/validationUtilities\";\n\n// Controller implementation for our actors endpoint\n@Controller(\"/api/actors\")\n@injectable()\nexport class ActorController implements interfaces.Controller {\n\n    // Instantiate the actor controller\n    constructor(\n        @inject(\"DataService\") private dataService: DataService,\n        @inject(\"LogService\") private logger: LogService\n    ) {\n        \n    }\n\n    /**\n     * @swagger\n     *\n     * /api/actors:\n     *   get:\n     *     description: Retrieve and return all actors.\n     *     tags:\n     *       - Actors\n     *     parameters:\n     *       - name: q\n     *         description: The actor name to filter by.\n     *         in: query\n     *         schema:\n     *           type: string\n     *       - name: pageNumber\n     *         description: 1 based page index\n     *         in: query\n     *         schema:\n     *           type: integer\n     *           default: 1\n     *       - name: pageSize\n     *         description: page size (1000 max)\n     *         in: query\n     *         schema:\n     *           type: integer\n     *           default: 100\n     *     responses:\n     *       '200':\n     *         description: List of actor objects\n     *         content:\n     *           application/json:\n     *             schema:\n     *               type: array\n     *               items:\n     *                 $ref: '#/components/schemas/Actor'\n     *       default:\n     *         description: Unexpected error\n     */\n    @Get(\"/\")\n    public async getAllActors(req: Request, res) {\n        // Validate query parameters\n        const { validated: validated, message: message } = ValidationUtilities.validateCommon(req.query);\n        \n        if (!validated) {\n            res.setHeader(\"Content-Type\", \"text/plain\");\n            this.logger.trace(\"InvalidParameter|\" + \"getAllActors\" + \"|\" + message);\n            return res.send(HttpStatus.BAD_REQUEST, message);\n        }\n\n        let resCode: number = HttpStatus.OK;\n        let results: Actor[];\n\n        // Execute query\n        try {\n            results = await this.dataService.queryActors(req.query);\n        } catch (err) {\n            \n            this.logger.error(Error(), \"DataService exception: Healthz: \" + err.code + \"\\n\" + err);\n            resCode = HttpStatus.INTERNAL_SERVER_ERROR;\n        }\n\n        return res.send(resCode, results);\n    }\n\n    /**\n     * @swagger\n     *\n     * /api/actors/{id}:\n     *   get:\n     *     description: Retrieve and return a single actor by actor ID.\n     *     tags:\n     *       - Actors\n     *     parameters:\n     *       - name: id\n     *         description: The ID of the actor to look for.\n     *         in: path\n     *         required: true\n     *         schema:\n     *           type: string\n     *     responses:\n     *       '200':\n     *         description: The actor object\n     *         content:\n     *           application/json:\n     *             schema:\n     *               $ref: '#/components/schemas/Actor'\n     *       '404':\n     *         description: An actor with the specified ID was not found.\n     *       default:\n     *         description: Unexpected error\n     */\n    @Get(\"/:id\")\n    public async getActorById(req, res) {\n        // Validate Actor Id parameter\n        const actorId: string = req.params.id;\n        const { validated: validated, message: message } = ValidationUtilities.validateActorId(actorId);\n        \n        if (!validated) {\n            res.setHeader(\"Content-Type\", \"text/plain\");\n            this.logger.trace(\"getActorById|\" + actorId + \"|\" + message);\n            return res.send(HttpStatus.BAD_REQUEST, message);\n        }\n\n        let resCode: number = HttpStatus.OK;\n        let result: Actor;\n        try {\n            result = new Actor(await this.dataService.getDocument(actorId));\n        } catch (err) {\n            result = err.toString();\n\n            if (err.toString().includes(\"404\")) {\n                resCode = HttpStatus.NOT_FOUND;\n            } else {\n                resCode = HttpStatus.INTERNAL_SERVER_ERROR;\n            }\n        }\n\n        return res.send(resCode, result);\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3b86472da6838e1dcf2118278099373a875b78d1"},"/mnt/c/code/retaildevcrews/helium-typescript/src/services/DataService.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/DataService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/DataService.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/services/DataService.ts"],"names":[],"mappings":"","sourcesContent":["export interface DataService {\n    ready: Promise<void>;\n    /**\n     * Initialize the Cosmos DB Container.\n     * This is handled in a separate method to avoid calling async operations in the constructor.\n     */\n    initialize();\n\n    /**\n     * Runs the given query against CosmosDB.\n     * @param query The query to select the documents.\n     */\n    queryDocuments(query: string): Promise<any[]>;\n\n    /**\n     * Retrieves a specific document by Id.\n     * @param documentId The id of the document to query.\n     */\n    getDocument(documentId: string): Promise<any>;\n\n    /**\n     * Runs the given query for actors against the database.\n     * @param queryParams The query params used to select the actor documents.\n     */\n    queryActors(queryParams: any): Promise<any[]>;\n\n    /**\n     * Runs the given query for movies against the database.\n     * @param queryParams The query params used to select the movie documents.\n     */\n    queryMovies(queryParams: any): Promise<any[]>;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"091368aefb6267fec83f9bf2ed556bf892650260"},"/mnt/c/code/retaildevcrews/helium-typescript/src/services/LogService.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/LogService.ts","statementMap":{"0":{"start":{"line":6,"column":0},"end":{"line":6,"column":62}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/LogService.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/services/LogService.ts"],"names":[],"mappings":";AAAA;;;GAGG","sourcesContent":["/**\n * Logging and Tracing Service Interface\n * that abstracts logging/tracing\n */\n\nexport interface LogService {\n    /**\n     * Logs tracing information\n     * @param message message to trace\n     * @param id custom id to correlate traces\n     */\n\n     trace(message: string, id?: string): void;\n    /**\n     * Logs an error with the error code and the error message string specified\n     * @param error error to log\n     * @param errorMessage Message to log\n     */\n    error(error: Error, errorMessage: string): void;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"55064ce95f5173345b3f9d0bb6fbe83ab5c3c234"},"/mnt/c/code/retaildevcrews/helium-typescript/src/models/Actor.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/models/Actor.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":47,"column":8},"end":{"line":58,"column":9}},"2":{"start":{"line":48,"column":12},"end":{"line":48,"column":30}},"3":{"start":{"line":49,"column":12},"end":{"line":49,"column":40}},"4":{"start":{"line":50,"column":12},"end":{"line":50,"column":34}},"5":{"start":{"line":51,"column":12},"end":{"line":51,"column":46}},"6":{"start":{"line":52,"column":12},"end":{"line":52,"column":34}},"7":{"start":{"line":53,"column":12},"end":{"line":53,"column":50}},"8":{"start":{"line":54,"column":12},"end":{"line":54,"column":44}},"9":{"start":{"line":55,"column":12},"end":{"line":55,"column":44}},"10":{"start":{"line":56,"column":12},"end":{"line":56,"column":46}},"11":{"start":{"line":57,"column":12},"end":{"line":57,"column":38}},"12":{"start":{"line":61,"column":0},"end":{"line":61,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":46,"column":4},"end":{"line":46,"column":5}},"loc":{"start":{"line":46,"column":22},"end":{"line":59,"column":5}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":47,"column":8},"end":{"line":58,"column":9}},"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":58,"column":9}},{"start":{"line":47,"column":8},"end":{"line":58,"column":9}}],"line":47}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":1},"b":{"0":[1,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/models/Actor.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/models/Actor.ts"],"names":[],"mappings":";;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAyCG;AACH,MAAa,KAAK;IAad,YAAY,IAAU;QAClB,IAAI,IAAI,EAAE;YACN,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;YAClB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YAC5B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAClC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACtB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YACtC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YAChC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;YAChC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAClC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;SAC7B;IACL,CAAC;CACJ;AA3BD,sBA2BC","sourcesContent":["import { Movie } from \"./Movie\";\n\n/**\n * @swagger\n *\n * components:\n *   schemas:\n *     Actor:\n *       type: object\n *       required:\n *         - id\n *         - actorId\n *         - textSearch\n *         - name\n *         - type\n *         - partitionKey\n *       properties:\n *         id:\n *           type: string\n *         actorId:\n *           type: string\n *         textSearch:\n *           type: string\n *         name:\n *           type: string\n *         type:\n *           type: string\n *           enum:\n *             - Actor\n *         partitionKey:\n *           type: string\n *         birthYear:\n *           type: number\n *         deathYear:\n *           type: number\n *         profession:\n *           type: array\n *           items:\n *             type: string\n *         movies:\n *           type: array\n *           items:\n *             $ref: '#/components/schemas/Movie'\n */\nexport class Actor {\n\n    public id: string;\n    public actorId: string;\n    public name: string;\n    public textSearch: string;\n    public type: string;\n    public partitionKey: string;\n    public birthYear?: number;\n    public deathYear?: number;\n    public profession?: string[];\n    public movies?: Movie[];\n\n    constructor(data?: any) {\n        if (data) {\n            this.id = data.id;\n            this.actorId = data.actorId;\n            this.name = data.name;\n            this.textSearch = data.textSearch;\n            this.type = data.type;\n            this.partitionKey = data.partitionKey;\n            this.birthYear = data.birthYear;\n            this.deathYear = data.deathYear;\n            this.profession = data.profession;\n            this.movies = data.movies;\n        }\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a2a5a9b9ee54fe4b9f0bb5862d70335894a51fac"},"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/validationUtilities.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/validationUtilities.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":50}},"2":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"3":{"start":{"line":11,"column":12},"end":{"line":11,"column":39}},"4":{"start":{"line":13,"column":8},"end":{"line":17,"column":9}},"5":{"start":{"line":14,"column":12},"end":{"line":16,"column":13}},"6":{"start":{"line":15,"column":16},"end":{"line":15,"column":88}},"7":{"start":{"line":18,"column":8},"end":{"line":23,"column":9}},"8":{"start":{"line":19,"column":31},"end":{"line":19,"column":61}},"9":{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},"10":{"start":{"line":21,"column":16},"end":{"line":21,"column":91}},"11":{"start":{"line":24,"column":8},"end":{"line":29,"column":9}},"12":{"start":{"line":25,"column":29},"end":{"line":25,"column":57}},"13":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"14":{"start":{"line":27,"column":16},"end":{"line":27,"column":89}},"15":{"start":{"line":30,"column":8},"end":{"line":30,"column":35}},"16":{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},"17":{"start":{"line":34,"column":12},"end":{"line":34,"column":39}},"18":{"start":{"line":36,"column":71},"end":{"line":36,"column":97}},"19":{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},"20":{"start":{"line":38,"column":12},"end":{"line":38,"column":64}},"21":{"start":{"line":40,"column":8},"end":{"line":44,"column":9}},"22":{"start":{"line":41,"column":12},"end":{"line":43,"column":13}},"23":{"start":{"line":42,"column":16},"end":{"line":42,"column":86}},"24":{"start":{"line":45,"column":8},"end":{"line":50,"column":9}},"25":{"start":{"line":46,"column":25},"end":{"line":46,"column":49}},"26":{"start":{"line":47,"column":12},"end":{"line":49,"column":13}},"27":{"start":{"line":48,"column":16},"end":{"line":48,"column":85}},"28":{"start":{"line":51,"column":8},"end":{"line":56,"column":9}},"29":{"start":{"line":52,"column":27},"end":{"line":52,"column":51}},"30":{"start":{"line":53,"column":12},"end":{"line":55,"column":13}},"31":{"start":{"line":54,"column":16},"end":{"line":54,"column":87}},"32":{"start":{"line":57,"column":8},"end":{"line":62,"column":9}},"33":{"start":{"line":58,"column":77},"end":{"line":58,"column":112}},"34":{"start":{"line":59,"column":12},"end":{"line":61,"column":13}},"35":{"start":{"line":60,"column":16},"end":{"line":60,"column":80}},"36":{"start":{"line":63,"column":8},"end":{"line":63,"column":35}},"37":{"start":{"line":66,"column":22},"end":{"line":66,"column":24}},"38":{"start":{"line":67,"column":24},"end":{"line":67,"column":28}},"39":{"start":{"line":68,"column":8},"end":{"line":82,"column":9}},"40":{"start":{"line":73,"column":12},"end":{"line":73,"column":56}},"41":{"start":{"line":74,"column":12},"end":{"line":74,"column":30}},"42":{"start":{"line":77,"column":24},"end":{"line":77,"column":58}},"43":{"start":{"line":78,"column":12},"end":{"line":81,"column":13}},"44":{"start":{"line":79,"column":16},"end":{"line":79,"column":60}},"45":{"start":{"line":80,"column":16},"end":{"line":80,"column":34}},"46":{"start":{"line":83,"column":8},"end":{"line":83,"column":58}},"47":{"start":{"line":86,"column":22},"end":{"line":86,"column":24}},"48":{"start":{"line":87,"column":24},"end":{"line":87,"column":28}},"49":{"start":{"line":88,"column":8},"end":{"line":102,"column":9}},"50":{"start":{"line":93,"column":12},"end":{"line":93,"column":56}},"51":{"start":{"line":94,"column":12},"end":{"line":94,"column":30}},"52":{"start":{"line":97,"column":24},"end":{"line":97,"column":58}},"53":{"start":{"line":98,"column":12},"end":{"line":101,"column":13}},"54":{"start":{"line":99,"column":16},"end":{"line":99,"column":60}},"55":{"start":{"line":100,"column":16},"end":{"line":100,"column":34}},"56":{"start":{"line":103,"column":8},"end":{"line":103,"column":58}},"57":{"start":{"line":106,"column":0},"end":{"line":106,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":33},"end":{"line":31,"column":5}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":32,"column":4},"end":{"line":32,"column":5}},"loc":{"start":{"line":32,"column":33},"end":{"line":64,"column":5}},"line":32},"2":{"name":"(anonymous_2)","decl":{"start":{"line":65,"column":4},"end":{"line":65,"column":5}},"loc":{"start":{"line":65,"column":36},"end":{"line":84,"column":5}},"line":65},"3":{"name":"(anonymous_3)","decl":{"start":{"line":85,"column":4},"end":{"line":85,"column":5}},"loc":{"start":{"line":85,"column":36},"end":{"line":104,"column":5}},"line":85}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"type":"if","locations":[{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},{"start":{"line":10,"column":8},"end":{"line":12,"column":9}}],"line":10},"1":{"loc":{"start":{"line":10,"column":12},"end":{"line":10,"column":49}},"type":"binary-expr","locations":[{"start":{"line":10,"column":12},"end":{"line":10,"column":26}},{"start":{"line":10,"column":30},"end":{"line":10,"column":49}}],"line":10},"2":{"loc":{"start":{"line":13,"column":8},"end":{"line":17,"column":9}},"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":17,"column":9}},{"start":{"line":13,"column":8},"end":{"line":17,"column":9}}],"line":13},"3":{"loc":{"start":{"line":14,"column":12},"end":{"line":16,"column":13}},"type":"if","locations":[{"start":{"line":14,"column":12},"end":{"line":16,"column":13}},{"start":{"line":14,"column":12},"end":{"line":16,"column":13}}],"line":14},"4":{"loc":{"start":{"line":14,"column":16},"end":{"line":14,"column":102}},"type":"binary-expr","locations":[{"start":{"line":14,"column":16},"end":{"line":14,"column":32}},{"start":{"line":14,"column":36},"end":{"line":14,"column":57}},{"start":{"line":14,"column":61},"end":{"line":14,"column":79}},{"start":{"line":14,"column":83},"end":{"line":14,"column":102}}],"line":14},"5":{"loc":{"start":{"line":18,"column":8},"end":{"line":23,"column":9}},"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":23,"column":9}},{"start":{"line":18,"column":8},"end":{"line":23,"column":9}}],"line":18},"6":{"loc":{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},"type":"if","locations":[{"start":{"line":20,"column":12},"end":{"line":22,"column":13}},{"start":{"line":20,"column":12},"end":{"line":22,"column":13}}],"line":20},"7":{"loc":{"start":{"line":20,"column":16},"end":{"line":20,"column":107}},"type":"binary-expr","locations":[{"start":{"line":20,"column":16},"end":{"line":20,"column":33}},{"start":{"line":20,"column":37},"end":{"line":20,"column":67}},{"start":{"line":20,"column":71},"end":{"line":20,"column":85}},{"start":{"line":20,"column":89},"end":{"line":20,"column":107}}],"line":20},"8":{"loc":{"start":{"line":24,"column":8},"end":{"line":29,"column":9}},"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":29,"column":9}},{"start":{"line":24,"column":8},"end":{"line":29,"column":9}}],"line":24},"9":{"loc":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"type":"if","locations":[{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},{"start":{"line":26,"column":12},"end":{"line":28,"column":13}}],"line":26},"10":{"loc":{"start":{"line":26,"column":16},"end":{"line":26,"column":96}},"type":"binary-expr","locations":[{"start":{"line":26,"column":16},"end":{"line":26,"column":31}},{"start":{"line":26,"column":35},"end":{"line":26,"column":61}},{"start":{"line":26,"column":65},"end":{"line":26,"column":77}},{"start":{"line":26,"column":81},"end":{"line":26,"column":96}}],"line":26},"11":{"loc":{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},{"start":{"line":33,"column":8},"end":{"line":35,"column":9}}],"line":33},"12":{"loc":{"start":{"line":33,"column":12},"end":{"line":33,"column":49}},"type":"binary-expr","locations":[{"start":{"line":33,"column":12},"end":{"line":33,"column":26}},{"start":{"line":33,"column":30},"end":{"line":33,"column":49}}],"line":33},"13":{"loc":{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":39,"column":9}},{"start":{"line":37,"column":8},"end":{"line":39,"column":9}}],"line":37},"14":{"loc":{"start":{"line":40,"column":8},"end":{"line":44,"column":9}},"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":44,"column":9}},{"start":{"line":40,"column":8},"end":{"line":44,"column":9}}],"line":40},"15":{"loc":{"start":{"line":41,"column":12},"end":{"line":43,"column":13}},"type":"if","locations":[{"start":{"line":41,"column":12},"end":{"line":43,"column":13}},{"start":{"line":41,"column":12},"end":{"line":43,"column":13}}],"line":41},"16":{"loc":{"start":{"line":41,"column":16},"end":{"line":41,"column":118}},"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":36}},{"start":{"line":41,"column":40},"end":{"line":41,"column":65}},{"start":{"line":41,"column":69},"end":{"line":41,"column":91}},{"start":{"line":41,"column":95},"end":{"line":41,"column":118}}],"line":41},"17":{"loc":{"start":{"line":45,"column":8},"end":{"line":50,"column":9}},"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":50,"column":9}},{"start":{"line":45,"column":8},"end":{"line":50,"column":9}}],"line":45},"18":{"loc":{"start":{"line":47,"column":12},"end":{"line":49,"column":13}},"type":"if","locations":[{"start":{"line":47,"column":12},"end":{"line":49,"column":13}},{"start":{"line":47,"column":12},"end":{"line":49,"column":13}}],"line":47},"19":{"loc":{"start":{"line":47,"column":16},"end":{"line":47,"column":115}},"type":"binary-expr","locations":[{"start":{"line":47,"column":16},"end":{"line":47,"column":27}},{"start":{"line":47,"column":31},"end":{"line":47,"column":49}},{"start":{"line":47,"column":53},"end":{"line":47,"column":64}},{"start":{"line":47,"column":68},"end":{"line":47,"column":115}}],"line":47},"20":{"loc":{"start":{"line":51,"column":8},"end":{"line":56,"column":9}},"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":56,"column":9}},{"start":{"line":51,"column":8},"end":{"line":56,"column":9}}],"line":51},"21":{"loc":{"start":{"line":53,"column":12},"end":{"line":55,"column":13}},"type":"if","locations":[{"start":{"line":53,"column":12},"end":{"line":55,"column":13}},{"start":{"line":53,"column":12},"end":{"line":55,"column":13}}],"line":53},"22":{"loc":{"start":{"line":53,"column":16},"end":{"line":53,"column":84}},"type":"binary-expr","locations":[{"start":{"line":53,"column":16},"end":{"line":53,"column":29}},{"start":{"line":53,"column":33},"end":{"line":53,"column":55}},{"start":{"line":53,"column":59},"end":{"line":53,"column":69}},{"start":{"line":53,"column":73},"end":{"line":53,"column":84}}],"line":53},"23":{"loc":{"start":{"line":57,"column":8},"end":{"line":62,"column":9}},"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":62,"column":9}},{"start":{"line":57,"column":8},"end":{"line":62,"column":9}}],"line":57},"24":{"loc":{"start":{"line":59,"column":12},"end":{"line":61,"column":13}},"type":"if","locations":[{"start":{"line":59,"column":12},"end":{"line":61,"column":13}},{"start":{"line":59,"column":12},"end":{"line":61,"column":13}}],"line":59},"25":{"loc":{"start":{"line":68,"column":8},"end":{"line":82,"column":9}},"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":82,"column":9}},{"start":{"line":68,"column":8},"end":{"line":82,"column":9}}],"line":68},"26":{"loc":{"start":{"line":68,"column":12},"end":{"line":72,"column":44}},"type":"binary-expr","locations":[{"start":{"line":68,"column":12},"end":{"line":68,"column":28}},{"start":{"line":69,"column":12},"end":{"line":69,"column":33}},{"start":{"line":70,"column":12},"end":{"line":70,"column":30}},{"start":{"line":71,"column":12},"end":{"line":71,"column":31}},{"start":{"line":72,"column":12},"end":{"line":72,"column":44}}],"line":68},"27":{"loc":{"start":{"line":78,"column":12},"end":{"line":81,"column":13}},"type":"if","locations":[{"start":{"line":78,"column":12},"end":{"line":81,"column":13}},{"start":{"line":78,"column":12},"end":{"line":81,"column":13}}],"line":78},"28":{"loc":{"start":{"line":78,"column":16},"end":{"line":78,"column":38}},"type":"binary-expr","locations":[{"start":{"line":78,"column":16},"end":{"line":78,"column":26}},{"start":{"line":78,"column":30},"end":{"line":78,"column":38}}],"line":78},"29":{"loc":{"start":{"line":88,"column":8},"end":{"line":102,"column":9}},"type":"if","locations":[{"start":{"line":88,"column":8},"end":{"line":102,"column":9}},{"start":{"line":88,"column":8},"end":{"line":102,"column":9}}],"line":88},"30":{"loc":{"start":{"line":88,"column":12},"end":{"line":92,"column":44}},"type":"binary-expr","locations":[{"start":{"line":88,"column":12},"end":{"line":88,"column":28}},{"start":{"line":89,"column":12},"end":{"line":89,"column":33}},{"start":{"line":90,"column":12},"end":{"line":90,"column":30}},{"start":{"line":91,"column":12},"end":{"line":91,"column":31}},{"start":{"line":92,"column":12},"end":{"line":92,"column":44}}],"line":88},"31":{"loc":{"start":{"line":98,"column":12},"end":{"line":101,"column":13}},"type":"if","locations":[{"start":{"line":98,"column":12},"end":{"line":101,"column":13}},{"start":{"line":98,"column":12},"end":{"line":101,"column":13}}],"line":98},"32":{"loc":{"start":{"line":98,"column":16},"end":{"line":98,"column":38}},"type":"binary-expr","locations":[{"start":{"line":98,"column":16},"end":{"line":98,"column":26}},{"start":{"line":98,"column":30},"end":{"line":98,"column":38}}],"line":98}},"s":{"0":1,"1":1,"2":51,"3":0,"4":51,"5":6,"6":4,"7":47,"8":10,"9":10,"10":10,"11":37,"12":10,"13":10,"14":10,"15":27,"16":37,"17":0,"18":37,"19":37,"20":12,"21":25,"22":3,"23":2,"24":23,"25":10,"26":10,"27":7,"28":16,"29":4,"30":4,"31":3,"32":13,"33":6,"34":6,"35":4,"36":9,"37":8,"38":8,"39":8,"40":4,"41":4,"42":4,"43":4,"44":2,"45":2,"46":8,"47":14,"48":14,"49":14,"50":8,"51":8,"52":6,"53":6,"54":2,"55":2,"56":14,"57":1},"f":{"0":51,"1":37,"2":8,"3":14},"b":{"0":[0,51],"1":[51,51],"2":[6,45],"3":[4,2],"4":[6,6,6,4],"5":[10,37],"6":[10,0],"7":[10,8,6,2],"8":[10,27],"9":[10,0],"10":[10,8,6,2],"11":[0,37],"12":[37,37],"13":[12,25],"14":[3,22],"15":[2,1],"16":[3,3,3,2],"17":[10,13],"18":[7,3],"19":[10,9,8,4],"20":[4,12],"21":[3,1],"22":[4,3,3,2],"23":[6,7],"24":[4,2],"25":[4,4],"26":[8,8,8,7,7],"27":[2,2],"28":[4,3],"29":[8,6],"30":[14,14,14,12,12],"31":[2,4],"32":[6,5]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/validationUtilities.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/validationUtilities.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n    invalidActorIDMessage, invalidGenreMessage, invalidMovieIDMessage, \n    invalidPageNumberMessage, invalidPageSizeMessage, invalidQSearchMessage, \n    invalidRatingMessage, invalidYearMessage\n} from \"../config/constants\";\n\n/**\n * Utilities for validating API parameters.\n */\nexport class ValidationUtilities {\n\n    // \n    public static validateCommon(query: any) {\n\n        if ( query === null || query === undefined ) {\n            return { validated: true };\n        }\n\n        if (query.hasOwnProperty(\"q\")) {\n            if (query.q === null || query.q === undefined || query.q.length < 2 || query.q.length > 20 ) {\n                return { validated: false, message: invalidQSearchMessage };\n            }\n        }\n\n        if (query.hasOwnProperty(\"pageNumber\")) {\n            const pageNumber = parseInt(query.pageNumber, 10)\n            if (isNaN(pageNumber) || pageNumber != query.pageNumber || pageNumber < 1 || pageNumber > 10000) {\n                return { validated: false, message: invalidPageNumberMessage };\n            }\n        }\n\n        if (query.hasOwnProperty(\"pageSize\")) {\n            const pageSize = parseInt(query.pageSize, 10)\n            if (isNaN(pageSize) || pageSize != query.pageSize || pageSize < 1 || pageSize > 1000) {\n                return { validated: false, message: invalidPageSizeMessage };\n            }\n        }\n\n        return { validated: true };\n    }\n\n    public static validateMovies(query: any) {\n\n        if ( query === null || query === undefined ) {\n            return { validated: true };\n        }\n\n        const { validated: validatedCommon, message: messageCommon} = this.validateCommon(query);\n        if (!validatedCommon) {\n            return { validated: false, message: messageCommon };\n        }\n\n        if (query.hasOwnProperty(\"genre\")) {\n            if (query.genre === null || query.genre === undefined || query.genre.length < 3 || query.genre.length > 20) {\n                return { validated: false, message: invalidGenreMessage };\n            }\n        }\n\n        if (query.hasOwnProperty(\"year\")) {\n            const year = parseInt(query.year, 10);\n            if (isNaN(year) || year != query.year || year < 1874 || year > (new Date(Date.now()).getFullYear() + 5)) {\n                return { validated: false, message: invalidYearMessage};\n            }\n        }\n\n        if (query.hasOwnProperty(\"rating\")) {\n            const rating = parseFloat(query.rating);\n            if (isNaN(rating) || rating != query.rating || rating < 0 || rating > 10) {\n                return { validated: false, message: invalidRatingMessage};\n            }\n        }\n\n        if (query.hasOwnProperty(\"actorId\")) {\n            const { validated: validatedActorId, message: messageActorId } = this.validateActorId(query.actorId);\n            if (!validatedActorId) {\n                return { validated: validatedActorId, message: messageActorId};\n            }\n        }\n\n        return { validated: true };\n    }\n\n    public static validateMovieId(movieId: string) {\n        let message = \"\";\n        let validated = true;\n\n        if ( movieId === null ||\n            movieId === undefined ||\n            movieId.length < 7 ||\n            movieId.length > 11 ||\n            movieId.substring(0,2) !== \"tt\" ) {\n                message = invalidMovieIDMessage;\n                validated = false;\n        } else {\n            const val = parseInt(movieId.substring(2), 10);\n            if (isNaN(val) || val <= 0) {\n                message = invalidMovieIDMessage;\n                validated = false;\n            }\n        }\n        \n        return { validated: validated, message: message };\n    }\n\n    public static validateActorId(actorId: string) {\n        let message = \"\";\n        let validated = true;\n\n        if ( actorId === null ||\n            actorId === undefined ||\n            actorId.length < 7 ||\n            actorId.length > 11 ||\n            actorId.substring(0,2) !== \"nm\" ) {\n                message = invalidActorIDMessage;\n                validated = false;\n        } else {\n            const val = parseInt(actorId.substring(2), 10);\n            if (isNaN(val) || val <= 0) {\n                message = invalidActorIDMessage;\n                validated = false;\n            }\n        }\n        \n        return { validated: validated, message: message };\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4ea14c8fc85cbe027f163064943927e4f2add401"},"/mnt/c/code/retaildevcrews/helium-typescript/src/config/constants.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/config/constants.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":27},"end":{"line":3,"column":67}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":32}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":32}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":42}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":46}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":42}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":30}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":53}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":34}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":72}},"12":{"start":{"line":14,"column":0},"end":{"line":14,"column":30}},"13":{"start":{"line":15,"column":0},"end":{"line":15,"column":27}},"14":{"start":{"line":16,"column":0},"end":{"line":16,"column":73}},"15":{"start":{"line":17,"column":0},"end":{"line":17,"column":61}},"16":{"start":{"line":18,"column":0},"end":{"line":18,"column":61}},"17":{"start":{"line":19,"column":0},"end":{"line":19,"column":63}},"18":{"start":{"line":20,"column":0},"end":{"line":20,"column":66}},"19":{"start":{"line":21,"column":0},"end":{"line":21,"column":62}},"20":{"start":{"line":22,"column":0},"end":{"line":22,"column":56}},"21":{"start":{"line":23,"column":0},"end":{"line":23,"column":54}},"22":{"start":{"line":24,"column":0},"end":{"line":24,"column":58}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/config/constants.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/config/constants.ts"],"names":[],"mappings":";;AAAA,oEAAiE;AAEpD,QAAA,YAAY,GAAG,cAAc,CAAC;AAC9B,QAAA,SAAS,GAAG,WAAW,CAAC;AACxB,QAAA,SAAS,GAAG,WAAW,CAAC;AACxB,QAAA,cAAc,GAAG,gBAAgB,CAAC;AAClC,QAAA,gBAAgB,GAAG,kBAAkB,CAAC;AACtC,QAAA,cAAc,GAAG,gBAAgB,CAAC;AAElC,QAAA,YAAY,GAAG,MAAM,CAAC;AAEtB,QAAA,eAAe,GAAG,0BAA0B,CAAC;AAC7C,QAAA,WAAW,GAAG,WAAW,CAAC;AAE1B,QAAA,OAAO,GAAG,mCAAgB,CAAC,eAAe,EAAE,CAAC;AAE7C,QAAA,eAAe,GAAG,GAAG,CAAC;AACtB,QAAA,WAAW,GAAG,IAAI,CAAC;AAEnB,QAAA,SAAS,GAAG,oDAAoD,CAAC;AAEjE,QAAA,qBAAqB,GAAG,4BAA4B,CAAC;AACrD,QAAA,qBAAqB,GAAG,4BAA4B,CAAC;AACrD,QAAA,qBAAqB,GAAG,8BAA8B,CAAC;AACvD,QAAA,wBAAwB,GAAG,8BAA8B,CAAC;AAC1D,QAAA,sBAAsB,GAAG,4BAA4B,CAAA;AACrD,QAAA,mBAAmB,GAAG,yBAAyB,CAAC;AAChD,QAAA,kBAAkB,GAAG,wBAAwB,CAAC;AAC9C,QAAA,oBAAoB,GAAG,0BAA0B,CAAC","sourcesContent":["import { VersionUtilities } from \"../utilities/versionUtilities\";\n\nexport const keyVaultName = \"KeyVaultName\";\nexport const cosmosUrl = \"CosmosUrl\";\nexport const cosmosKey = \"CosmosKey\";\nexport const cosmosDatabase = \"CosmosDatabase\";\nexport const cosmosCollection = \"CosmosCollection\";\nexport const appInsightsKey = \"AppInsightsKey\";\n\nexport const portConstant = \"4120\";\n\nexport const webInstanceRole = \"WEBSITE_ROLE_INSTANCE_ID\";\nexport const authTypeEnv = \"AUTH_TYPE\";\n\nexport const version = VersionUtilities.getBuildVersion();\n\nexport const defaultPageSize = 100;\nexport const maxPageSize = 1000;\n\nexport const sqlGenres = \"SELECT VALUE m.genre FROM m where m.type = 'Genre'\";\n\nexport const invalidMovieIDMessage = \"Invalid Movie ID parameter\";\nexport const invalidActorIDMessage = \"Invalid Actor ID parameter\";\nexport const invalidQSearchMessage = \"Invalid q (search) parameter\";\nexport const invalidPageNumberMessage = \"Invalid PageNumber parameter\";\nexport const invalidPageSizeMessage = \"Invalid PageSize parameter\"\nexport const invalidGenreMessage = \"Invalid Genre parameter\";\nexport const invalidYearMessage = \"Invalid Year parameter\";\nexport const invalidRatingMessage = \"Invalid Rating parameter\";\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f71ad3d41a0d0c1e48a204aaddb601598cc9656e"},"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/versionUtilities.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/versionUtilities.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":6,"column":11},"end":{"line":6,"column":24}},"2":{"start":{"line":11,"column":30},"end":{"line":11,"column":81}},"3":{"start":{"line":13,"column":24},"end":{"line":14,"column":85}},"4":{"start":{"line":15,"column":8},"end":{"line":15,"column":23}},"5":{"start":{"line":18,"column":0},"end":{"line":18,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":29},"end":{"line":16,"column":5}},"line":10}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/versionUtilities.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/versionUtilities.ts"],"names":[],"mappings":";;AAAA;;GAEG;AACH,yBAA0B;AAE1B,MAAa,gBAAgB;IAEzB,oEAAoE;IACpE,0CAA0C;IACnC,MAAM,CAAC,eAAe;QACzB,MAAM,aAAa,GAAG,EAAE,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;QAE1E,mBAAmB;QACnB,MAAM,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,mBAAmB,GAAG,GAAG,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC;cAChH,GAAG,GAAG,aAAa,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,aAAa,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QAE9E,OAAO,OAAO,CAAC;IACnB,CAAC;CACJ;AAbD,4CAaC","sourcesContent":["/**\n * Utilities for determining build version.\n */\nimport fs = require(\"fs\");\n\nexport class VersionUtilities {\n\n    // build and return the version string based on last build date time\n    // build time based on dist/server.js file\n    public static getBuildVersion(): string {\n        const lastBuildTime = fs.statSync(\"./dist/server.js\").mtime.toISOString();\n\n        // add \"+MMdd.HHmm\"\n        const version = process.env.npm_package_version + \"+\" + lastBuildTime.substring(5, 7) + lastBuildTime.substring(8, 10)\n            + \".\" + lastBuildTime.substring(11, 13) + lastBuildTime.substring(14, 16);\n\n        return version;\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"619e71524a41a175ada0a145a696fbb95cf2967f"},"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/FeaturedController.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/FeaturedController.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":73}},"15":{"start":{"line":12,"column":36},"end":{"line":12,"column":71}},"16":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"17":{"start":{"line":15,"column":28},"end":{"line":15,"column":110}},"18":{"start":{"line":15,"column":91},"end":{"line":15,"column":106}},"19":{"start":{"line":16,"column":4},"end":{"line":21,"column":7}},"20":{"start":{"line":17,"column":36},"end":{"line":17,"column":97}},"21":{"start":{"line":17,"column":42},"end":{"line":17,"column":70}},"22":{"start":{"line":17,"column":85},"end":{"line":17,"column":95}},"23":{"start":{"line":18,"column":35},"end":{"line":18,"column":100}},"24":{"start":{"line":18,"column":41},"end":{"line":18,"column":73}},"25":{"start":{"line":18,"column":88},"end":{"line":18,"column":98}},"26":{"start":{"line":19,"column":32},"end":{"line":19,"column":116}},"27":{"start":{"line":20,"column":8},"end":{"line":20,"column":78}},"28":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"29":{"start":{"line":25,"column":20},"end":{"line":25,"column":40}},"30":{"start":{"line":26,"column":34},"end":{"line":26,"column":68}},"31":{"start":{"line":27,"column":19},"end":{"line":27,"column":47}},"32":{"start":{"line":28,"column":22},"end":{"line":28,"column":56}},"33":{"start":{"line":29,"column":21},"end":{"line":29,"column":54}},"34":{"start":{"line":33,"column":25},"end":{"line":99,"column":1}},"35":{"start":{"line":35,"column":8},"end":{"line":35,"column":33}},"36":{"start":{"line":36,"column":8},"end":{"line":36,"column":29}},"37":{"start":{"line":59,"column":8},"end":{"line":80,"column":11}},"38":{"start":{"line":60,"column":26},"end":{"line":60,"column":39}},"39":{"start":{"line":62,"column":12},"end":{"line":78,"column":13}},"40":{"start":{"line":63,"column":16},"end":{"line":65,"column":17}},"41":{"start":{"line":64,"column":20},"end":{"line":64,"column":76}},"42":{"start":{"line":66,"column":16},"end":{"line":69,"column":17}},"43":{"start":{"line":67,"column":36},"end":{"line":67,"column":117}},"44":{"start":{"line":68,"column":20},"end":{"line":68,"column":70}},"45":{"start":{"line":72,"column":16},"end":{"line":77,"column":17}},"46":{"start":{"line":73,"column":20},"end":{"line":73,"column":51}},"47":{"start":{"line":76,"column":20},"end":{"line":76,"column":63}},"48":{"start":{"line":79,"column":12},"end":{"line":79,"column":45}},"49":{"start":{"line":83,"column":8},"end":{"line":97,"column":11}},"50":{"start":{"line":84,"column":30},"end":{"line":84,"column":32}},"51":{"start":{"line":85,"column":24},"end":{"line":85,"column":85}},"52":{"start":{"line":86,"column":27},"end":{"line":86,"column":66}},"53":{"start":{"line":87,"column":12},"end":{"line":91,"column":15}},"54":{"start":{"line":88,"column":16},"end":{"line":90,"column":17}},"55":{"start":{"line":88,"column":29},"end":{"line":88,"column":30}},"56":{"start":{"line":89,"column":20},"end":{"line":89,"column":46}},"57":{"start":{"line":93,"column":12},"end":{"line":95,"column":13}},"58":{"start":{"line":94,"column":16},"end":{"line":94,"column":44}},"59":{"start":{"line":96,"column":12},"end":{"line":96,"column":29}},"60":{"start":{"line":100,"column":0},"end":{"line":105,"column":59}},"61":{"start":{"line":106,"column":0},"end":{"line":111,"column":23}},"62":{"start":{"line":112,"column":0},"end":{"line":112,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":40},"end":{"line":11,"column":41}},"loc":{"start":{"line":11,"column":73},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":11},"end":{"line":12,"column":12}},"loc":{"start":{"line":12,"column":34},"end":{"line":12,"column":73}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":44},"end":{"line":14,"column":45}},"loc":{"start":{"line":14,"column":89},"end":{"line":22,"column":1}},"line":14},"5":{"name":"adopt","decl":{"start":{"line":15,"column":13},"end":{"line":15,"column":18}},"loc":{"start":{"line":15,"column":26},"end":{"line":15,"column":112}},"line":15},"6":{"name":"(anonymous_6)","decl":{"start":{"line":15,"column":70},"end":{"line":15,"column":71}},"loc":{"start":{"line":15,"column":89},"end":{"line":15,"column":108}},"line":15},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":36},"end":{"line":16,"column":37}},"loc":{"start":{"line":16,"column":63},"end":{"line":21,"column":5}},"line":16},"8":{"name":"fulfilled","decl":{"start":{"line":17,"column":17},"end":{"line":17,"column":26}},"loc":{"start":{"line":17,"column":34},"end":{"line":17,"column":99}},"line":17},"9":{"name":"rejected","decl":{"start":{"line":18,"column":17},"end":{"line":18,"column":25}},"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":102}},"line":18},"10":{"name":"step","decl":{"start":{"line":19,"column":17},"end":{"line":19,"column":21}},"loc":{"start":{"line":19,"column":30},"end":{"line":19,"column":118}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":34},"end":{"line":37,"column":5}},"line":34},"12":{"name":"(anonymous_12)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":31},"end":{"line":81,"column":5}},"line":58},"13":{"name":"(anonymous_13)","decl":{"start":{"line":59,"column":47},"end":{"line":59,"column":48}},"loc":{"start":{"line":59,"column":60},"end":{"line":80,"column":9}},"line":59},"14":{"name":"(anonymous_14)","decl":{"start":{"line":82,"column":4},"end":{"line":82,"column":5}},"loc":{"start":{"line":82,"column":27},"end":{"line":98,"column":5}},"line":82},"15":{"name":"(anonymous_15)","decl":{"start":{"line":83,"column":47},"end":{"line":83,"column":48}},"loc":{"start":{"line":83,"column":60},"end":{"line":97,"column":9}},"line":83},"16":{"name":"(anonymous_16)","decl":{"start":{"line":87,"column":27},"end":{"line":87,"column":28}},"loc":{"start":{"line":87,"column":32},"end":{"line":91,"column":13}},"line":87}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":15},"end":{"line":11,"column":19}},{"start":{"line":11,"column":23},"end":{"line":11,"column":35}},{"start":{"line":11,"column":40},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":17},"end":{"line":14,"column":21}},{"start":{"line":14,"column":25},"end":{"line":14,"column":39}},{"start":{"line":14,"column":44},"end":{"line":22,"column":1}}],"line":14},"15":{"loc":{"start":{"line":15,"column":35},"end":{"line":15,"column":109}},"type":"cond-expr","locations":[{"start":{"line":15,"column":56},"end":{"line":15,"column":61}},{"start":{"line":15,"column":64},"end":{"line":15,"column":109}}],"line":15},"16":{"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":34}},"type":"binary-expr","locations":[{"start":{"line":16,"column":16},"end":{"line":16,"column":17}},{"start":{"line":16,"column":22},"end":{"line":16,"column":33}}],"line":16},"17":{"loc":{"start":{"line":19,"column":32},"end":{"line":19,"column":115}},"type":"cond-expr","locations":[{"start":{"line":19,"column":46},"end":{"line":19,"column":67}},{"start":{"line":19,"column":70},"end":{"line":19,"column":115}}],"line":19},"18":{"loc":{"start":{"line":20,"column":51},"end":{"line":20,"column":67}},"type":"binary-expr","locations":[{"start":{"line":20,"column":51},"end":{"line":20,"column":61}},{"start":{"line":20,"column":65},"end":{"line":20,"column":67}}],"line":20},"19":{"loc":{"start":{"line":63,"column":16},"end":{"line":65,"column":17}},"type":"if","locations":[{"start":{"line":63,"column":16},"end":{"line":65,"column":17}},{"start":{"line":63,"column":16},"end":{"line":65,"column":17}}],"line":63},"20":{"loc":{"start":{"line":63,"column":20},"end":{"line":63,"column":83}},"type":"binary-expr","locations":[{"start":{"line":63,"column":20},"end":{"line":63,"column":47}},{"start":{"line":63,"column":51},"end":{"line":63,"column":83}}],"line":63},"21":{"loc":{"start":{"line":66,"column":16},"end":{"line":69,"column":17}},"type":"if","locations":[{"start":{"line":66,"column":16},"end":{"line":69,"column":17}},{"start":{"line":66,"column":16},"end":{"line":69,"column":17}}],"line":66},"22":{"loc":{"start":{"line":66,"column":20},"end":{"line":66,"column":81}},"type":"binary-expr","locations":[{"start":{"line":66,"column":20},"end":{"line":66,"column":47}},{"start":{"line":66,"column":51},"end":{"line":66,"column":81}}],"line":66},"23":{"loc":{"start":{"line":72,"column":16},"end":{"line":77,"column":17}},"type":"if","locations":[{"start":{"line":72,"column":16},"end":{"line":77,"column":17}},{"start":{"line":72,"column":16},"end":{"line":77,"column":17}}],"line":72},"24":{"loc":{"start":{"line":93,"column":12},"end":{"line":95,"column":13}},"type":"if","locations":[{"start":{"line":93,"column":12},"end":{"line":95,"column":13}},{"start":{"line":93,"column":12},"end":{"line":95,"column":13}}],"line":93},"25":{"loc":{"start":{"line":110,"column":37},"end":{"line":110,"column":157}},"type":"cond-expr","locations":[{"start":{"line":110,"column":146},"end":{"line":110,"column":148}},{"start":{"line":110,"column":151},"end":{"line":110,"column":157}}],"line":110},"26":{"loc":{"start":{"line":110,"column":50},"end":{"line":110,"column":127}},"type":"binary-expr","locations":[{"start":{"line":110,"column":50},"end":{"line":110,"column":98}},{"start":{"line":110,"column":102},"end":{"line":110,"column":127}}],"line":110},"27":{"loc":{"start":{"line":110,"column":159},"end":{"line":110,"column":275}},"type":"cond-expr","locations":[{"start":{"line":110,"column":264},"end":{"line":110,"column":266}},{"start":{"line":110,"column":269},"end":{"line":110,"column":275}}],"line":110},"28":{"loc":{"start":{"line":110,"column":172},"end":{"line":110,"column":245}},"type":"binary-expr","locations":[{"start":{"line":110,"column":172},"end":{"line":110,"column":218}},{"start":{"line":110,"column":222},"end":{"line":110,"column":245}}],"line":110}},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":0,"6":0,"7":0,"8":0,"9":2,"10":1,"11":4,"12":4,"13":1,"14":2,"15":2,"16":1,"17":3,"18":0,"19":2,"20":3,"21":3,"22":0,"23":0,"24":0,"25":0,"26":5,"27":2,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":2,"36":2,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":0,"46":0,"47":0,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":7,"55":7,"56":19,"57":1,"58":0,"59":1,"60":1,"61":1,"62":1},"f":{"0":2,"1":4,"2":2,"3":2,"4":2,"5":3,"6":0,"7":2,"8":3,"9":0,"10":5,"11":2,"12":1,"13":1,"14":1,"15":1,"16":7},"b":{"0":[1,1,1],"1":[1,1],"2":[1,0],"3":[2,0],"4":[2,2],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[2,1,1],"10":[1,1,1],"11":[4,0],"12":[4,4],"13":[1,1,1],"14":[1,1,1],"15":[3,0],"16":[2,2],"17":[2,3],"18":[2,2],"19":[1,0],"20":[1,0],"21":[1,0],"22":[1,1],"23":[0,0],"24":[0,1],"25":[0,1],"26":[1,0],"27":[0,1],"28":[1,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/FeaturedController.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/FeaturedController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,yCAA+C;AAC/C,qEAAsE;AACtE,gDAAgD;AAChD,yDAAsD;AACtD,uDAAoD;AAGpD;;GAEG;AAGH,IAAa,kBAAkB,GAA/B,MAAa,kBAAkB;IAI3B,YAA2C,QAAqB,EAAgC,MAAkB;QAAvE,aAAQ,GAAR,QAAQ,CAAa;QAAgC,WAAM,GAAN,MAAM,CAAY;IAElH,CAAC;IAED;;;;;;;;;;;;;;;;;;;OAmBG;IAEU,gBAAgB,CAAC,GAAG,EAAE,GAAG;;YAClC,IAAI,OAAO,GAAW,UAAU,CAAC,EAAE,CAAC;YACpC,IAAI,MAAa,CAAC;YAElB,IAAI;gBACA,IAAK,IAAI,CAAC,cAAc,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,KAAK,CAAC,EAAG;oBACnE,IAAI,CAAC,cAAc,GAAG,MAAM,IAAI,CAAC,oBAAoB,EAAE,CAAC;iBAC3D;gBAED,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,IAAI,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAG;oBAChE,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAE,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAE,CAAC,CAAE,CAAC;oBACtG,MAAM,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;iBACrD;aACJ;YAAC,OAAO,GAAG,EAAE;gBACV,IAAI,GAAG,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;oBACrC,OAAO,GAAG,UAAU,CAAC,SAAS,CAAC;iBAClC;qBAAM;oBACH,OAAO,GAAG,UAAU,CAAC,qBAAqB,CAAC;iBAC9C;aACJ;YAED,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QACrC,CAAC;KAAA;IAEa,oBAAoB;;YAC9B,MAAM,SAAS,GAAa,EAAE,CAAC;YAC/B,MAAM,GAAG,GAAG,6DAA6D,CAAC;YAE1E,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;YAEvD,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;gBACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBAC/B,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;iBAC7B;YACL,CAAC,CAAC,CAAC;YAEH,wBAAwB;YACxB,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;gBACxB,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aAC/B;YAED,OAAO,SAAS,CAAC;QACrB,CAAC;KAAA;CACJ,CAAA;AA3CG;IADC,6BAAG,CAAC,QAAQ,CAAC;;;;0DAuBb;AAnDQ,kBAAkB;IAF9B,oCAAU,CAAC,eAAe,CAAC;IAC3B,sBAAU,EAAE;IAKI,WAAA,kBAAM,CAAC,aAAa,CAAC,CAAA,EAAiC,WAAA,kBAAM,CAAC,YAAY,CAAC,CAAA;yDAAlC,yBAAW,oBAAX,yBAAW,oDAAwC,uBAAU,oBAAV,uBAAU;GAJzG,kBAAkB,CAwE9B;AAxEY,gDAAkB","sourcesContent":["import { inject, injectable } from \"inversify\";\nimport { Controller, Get, interfaces } from \"inversify-restify-utils\";\nimport * as HttpStatus from \"http-status-codes\";\nimport { DataService } from \"../services/DataService\";\nimport { LogService } from \"../services/LogService\";\nimport { Movie } from \"../models/Movie\";\n\n/**\n * controller implementation for our featured movie endpoint\n */\n@Controller(\"/api/featured\")\n@injectable()\nexport class FeaturedController implements interfaces.Controller {\n\n    private featuredMovies: string[];\n\n    constructor(@inject(\"DataService\") private cosmosDb: DataService, @inject(\"LogService\") private logger: LogService) {\n    \n    }\n\n    /**\n     * @swagger\n     *\n     * /api/featured/movie:\n     *   get:\n     *     description: Returns a random movie from the featured movie list as a JSON Movie\n     *     tags:\n     *       - Featured\n     *     responses:\n     *       '200':\n     *         description: JSON movie object\n     *         content:\n     *           application/json:\n     *             schema:\n     *               type: array\n     *               items:\n     *                 $ref: '#/components/schemas/Movie'\n     *       default:\n     *         description: Unexpected error\n     */\n    @Get(\"/movie\")\n    public async getFeaturedMovie(req, res) {\n        let resCode: number = HttpStatus.OK;\n        let result: Movie;\n\n        try {\n            if ( this.featuredMovies == null || this.featuredMovies.length === 0 ) {\n                this.featuredMovies = await this.getFeaturedMovieList();\n            }\n\n            if (this.featuredMovies != null && this.featuredMovies.length > 0 ) {\n                const movieId = this.featuredMovies[ Math.floor(Math.random() * ( this.featuredMovies.length - 1 )) ];\n                result = await this.cosmosDb.getDocument(movieId);\n            }\n        } catch (err) {\n            if (err.toString().includes(\"NotFound\")) {\n                resCode = HttpStatus.NOT_FOUND;\n            } else {\n                resCode = HttpStatus.INTERNAL_SERVER_ERROR;\n            }\n        }\n\n        return res.send(resCode, result);\n    }\n\n    private async getFeaturedMovieList(): Promise<string[]> {\n        const movieList: string[] = [];\n        const sql = \"select m.movieId, m.weight from m where m.type = 'Featured'\";\n\n        const movies = await this.cosmosDb.queryDocuments(sql);\n\n        movies.forEach(m => {\n            for (let i = 0; i < m.weight; i++) {\n                movieList.push(m.movieId);\n            }\n        });\n\n        // default to The Matrix\n        if (movieList.length === 0) {\n            movieList.push(\"tt0133093\");\n        }\n\n        return movieList;\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"17aef9203ff0b71ad9f2a3577dbf00a78fb622f8"},"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/GenreController.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/GenreController.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":73}},"15":{"start":{"line":12,"column":36},"end":{"line":12,"column":71}},"16":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"17":{"start":{"line":15,"column":28},"end":{"line":15,"column":110}},"18":{"start":{"line":15,"column":91},"end":{"line":15,"column":106}},"19":{"start":{"line":16,"column":4},"end":{"line":21,"column":7}},"20":{"start":{"line":17,"column":36},"end":{"line":17,"column":97}},"21":{"start":{"line":17,"column":42},"end":{"line":17,"column":70}},"22":{"start":{"line":17,"column":85},"end":{"line":17,"column":95}},"23":{"start":{"line":18,"column":35},"end":{"line":18,"column":100}},"24":{"start":{"line":18,"column":41},"end":{"line":18,"column":73}},"25":{"start":{"line":18,"column":88},"end":{"line":18,"column":98}},"26":{"start":{"line":19,"column":32},"end":{"line":19,"column":116}},"27":{"start":{"line":20,"column":8},"end":{"line":20,"column":78}},"28":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"29":{"start":{"line":25,"column":20},"end":{"line":25,"column":40}},"30":{"start":{"line":26,"column":34},"end":{"line":26,"column":68}},"31":{"start":{"line":27,"column":18},"end":{"line":27,"column":36}},"32":{"start":{"line":28,"column":19},"end":{"line":28,"column":47}},"33":{"start":{"line":29,"column":22},"end":{"line":29,"column":56}},"34":{"start":{"line":30,"column":21},"end":{"line":30,"column":54}},"35":{"start":{"line":31,"column":20},"end":{"line":31,"column":50}},"36":{"start":{"line":35,"column":22},"end":{"line":73,"column":1}},"37":{"start":{"line":37,"column":8},"end":{"line":37,"column":33}},"38":{"start":{"line":38,"column":8},"end":{"line":38,"column":29}},"39":{"start":{"line":61,"column":8},"end":{"line":71,"column":11}},"40":{"start":{"line":62,"column":26},"end":{"line":62,"column":39}},"41":{"start":{"line":64,"column":12},"end":{"line":69,"column":13}},"42":{"start":{"line":65,"column":16},"end":{"line":65,"column":84}},"43":{"start":{"line":68,"column":16},"end":{"line":68,"column":59}},"44":{"start":{"line":70,"column":12},"end":{"line":70,"column":46}},"45":{"start":{"line":74,"column":0},"end":{"line":79,"column":52}},"46":{"start":{"line":80,"column":0},"end":{"line":85,"column":20}},"47":{"start":{"line":86,"column":0},"end":{"line":86,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":40},"end":{"line":11,"column":41}},"loc":{"start":{"line":11,"column":73},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":11},"end":{"line":12,"column":12}},"loc":{"start":{"line":12,"column":34},"end":{"line":12,"column":73}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":44},"end":{"line":14,"column":45}},"loc":{"start":{"line":14,"column":89},"end":{"line":22,"column":1}},"line":14},"5":{"name":"adopt","decl":{"start":{"line":15,"column":13},"end":{"line":15,"column":18}},"loc":{"start":{"line":15,"column":26},"end":{"line":15,"column":112}},"line":15},"6":{"name":"(anonymous_6)","decl":{"start":{"line":15,"column":70},"end":{"line":15,"column":71}},"loc":{"start":{"line":15,"column":89},"end":{"line":15,"column":108}},"line":15},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":36},"end":{"line":16,"column":37}},"loc":{"start":{"line":16,"column":63},"end":{"line":21,"column":5}},"line":16},"8":{"name":"fulfilled","decl":{"start":{"line":17,"column":17},"end":{"line":17,"column":26}},"loc":{"start":{"line":17,"column":34},"end":{"line":17,"column":99}},"line":17},"9":{"name":"rejected","decl":{"start":{"line":18,"column":17},"end":{"line":18,"column":25}},"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":102}},"line":18},"10":{"name":"step","decl":{"start":{"line":19,"column":17},"end":{"line":19,"column":21}},"loc":{"start":{"line":19,"column":30},"end":{"line":19,"column":118}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":34},"end":{"line":39,"column":5}},"line":36},"12":{"name":"(anonymous_12)","decl":{"start":{"line":60,"column":4},"end":{"line":60,"column":5}},"loc":{"start":{"line":60,"column":27},"end":{"line":72,"column":5}},"line":60},"13":{"name":"(anonymous_13)","decl":{"start":{"line":61,"column":47},"end":{"line":61,"column":48}},"loc":{"start":{"line":61,"column":60},"end":{"line":71,"column":9}},"line":61}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":15},"end":{"line":11,"column":19}},{"start":{"line":11,"column":23},"end":{"line":11,"column":35}},{"start":{"line":11,"column":40},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":17},"end":{"line":14,"column":21}},{"start":{"line":14,"column":25},"end":{"line":14,"column":39}},{"start":{"line":14,"column":44},"end":{"line":22,"column":1}}],"line":14},"15":{"loc":{"start":{"line":15,"column":35},"end":{"line":15,"column":109}},"type":"cond-expr","locations":[{"start":{"line":15,"column":56},"end":{"line":15,"column":61}},{"start":{"line":15,"column":64},"end":{"line":15,"column":109}}],"line":15},"16":{"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":34}},"type":"binary-expr","locations":[{"start":{"line":16,"column":16},"end":{"line":16,"column":17}},{"start":{"line":16,"column":22},"end":{"line":16,"column":33}}],"line":16},"17":{"loc":{"start":{"line":19,"column":32},"end":{"line":19,"column":115}},"type":"cond-expr","locations":[{"start":{"line":19,"column":46},"end":{"line":19,"column":67}},{"start":{"line":19,"column":70},"end":{"line":19,"column":115}}],"line":19},"18":{"loc":{"start":{"line":20,"column":51},"end":{"line":20,"column":67}},"type":"binary-expr","locations":[{"start":{"line":20,"column":51},"end":{"line":20,"column":61}},{"start":{"line":20,"column":65},"end":{"line":20,"column":67}}],"line":20},"19":{"loc":{"start":{"line":77,"column":37},"end":{"line":77,"column":141}},"type":"cond-expr","locations":[{"start":{"line":77,"column":130},"end":{"line":77,"column":132}},{"start":{"line":77,"column":135},"end":{"line":77,"column":141}}],"line":77},"20":{"loc":{"start":{"line":77,"column":50},"end":{"line":77,"column":111}},"type":"binary-expr","locations":[{"start":{"line":77,"column":50},"end":{"line":77,"column":90}},{"start":{"line":77,"column":94},"end":{"line":77,"column":111}}],"line":77},"21":{"loc":{"start":{"line":84,"column":37},"end":{"line":84,"column":157}},"type":"cond-expr","locations":[{"start":{"line":84,"column":146},"end":{"line":84,"column":148}},{"start":{"line":84,"column":151},"end":{"line":84,"column":157}}],"line":84},"22":{"loc":{"start":{"line":84,"column":50},"end":{"line":84,"column":127}},"type":"binary-expr","locations":[{"start":{"line":84,"column":50},"end":{"line":84,"column":98}},{"start":{"line":84,"column":102},"end":{"line":84,"column":127}}],"line":84},"23":{"loc":{"start":{"line":84,"column":159},"end":{"line":84,"column":275}},"type":"cond-expr","locations":[{"start":{"line":84,"column":264},"end":{"line":84,"column":266}},{"start":{"line":84,"column":269},"end":{"line":84,"column":275}}],"line":84},"24":{"loc":{"start":{"line":84,"column":172},"end":{"line":84,"column":245}},"type":"binary-expr","locations":[{"start":{"line":84,"column":172},"end":{"line":84,"column":218}},{"start":{"line":84,"column":222},"end":{"line":84,"column":245}}],"line":84}},"s":{"0":1,"1":2,"2":2,"3":2,"4":2,"5":0,"6":0,"7":0,"8":0,"9":2,"10":1,"11":4,"12":4,"13":1,"14":2,"15":2,"16":1,"17":1,"18":0,"19":1,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":2,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":2,"38":2,"39":1,"40":1,"41":1,"42":1,"43":0,"44":1,"45":1,"46":1,"47":1},"f":{"0":2,"1":4,"2":2,"3":2,"4":1,"5":1,"6":0,"7":1,"8":1,"9":0,"10":2,"11":2,"12":1,"13":1},"b":{"0":[1,1,1],"1":[1,1],"2":[1,0],"3":[2,0],"4":[2,2],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[2,1,1],"10":[1,1,1],"11":[4,0],"12":[4,4],"13":[1,1,1],"14":[1,1,1],"15":[1,0],"16":[1,1],"17":[1,1],"18":[1,1],"19":[0,1],"20":[1,0],"21":[0,1],"22":[1,0],"23":[0,1],"24":[1,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/GenreController.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/GenreController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,yCAA+C;AAC/C,qEAAsE;AACtE,qCAAkC;AAClC,gDAAgD;AAChD,yDAAsD;AACtD,uDAAoD;AACpD,mDAAgD;AAEhD;;GAEG;AAGH,IAAa,eAAe,GAA5B,MAAa,eAAe;IAE1B,YAA2C,QAAqB,EAAgC,MAAkB;QAAvE,aAAQ,GAAR,QAAQ,CAAa;QAAgC,WAAM,GAAN,MAAM,CAAY;IAElH,CAAC;IAED;;;;;;;;;;;;;;;;;;;OAmBG;IAEU,YAAY,CAAC,GAAY,EAAE,GAAG;;YACzC,IAAI,OAAO,GAAW,UAAU,CAAC,EAAE,CAAC;YACpC,IAAI,OAAiB,CAAC;YACtB,IAAI;gBACF,OAAO,GAAG,MAAM,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,qBAAS,CAAC,CAAC;aACzD;YAAC,OAAO,GAAG,EAAE;gBACZ,OAAO,GAAG,UAAU,CAAC,qBAAqB,CAAC;aAC5C;YAED,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACpC,CAAC;KAAA;CACF,CAAA;AAXC;IADC,6BAAG,CAAC,GAAG,CAAC;;yDACsB,iBAAO,oBAAP,iBAAO;;mDAUrC;AArCU,eAAe;IAF3B,oCAAU,CAAC,aAAa,CAAC;IACzB,sBAAU,EAAE;IAGE,WAAA,kBAAM,CAAC,aAAa,CAAC,CAAA,EAAiC,WAAA,kBAAM,CAAC,YAAY,CAAC,CAAA;yDAAlC,yBAAW,oBAAX,yBAAW,oDAAwC,uBAAU,oBAAV,uBAAU;GAFvG,eAAe,CAsC3B;AAtCY,0CAAe","sourcesContent":["import { inject, injectable } from \"inversify\";\nimport { Controller, Get, interfaces } from \"inversify-restify-utils\";\nimport { Request } from \"restify\";\nimport * as HttpStatus from \"http-status-codes\";\nimport { DataService } from \"../services/DataService\";\nimport { LogService } from \"../services/LogService\";\nimport { sqlGenres } from \"../config/constants\";\n\n/**\n * controller implementation for our genres endpoint\n */\n@Controller(\"/api/genres\")\n@injectable()\nexport class GenreController implements interfaces.Controller {\n\n  constructor(@inject(\"DataService\") private cosmosDb: DataService, @inject(\"LogService\") private logger: LogService) {\n  \n  }\n\n  /**\n   * @swagger\n   *\n   * /api/genres:\n   *   get:\n   *     description: Retrieve and return all genres.\n   *     tags:\n   *       - Genres\n   *     responses:\n   *       '200':\n   *         description: List of genres objects\n   *         content:\n   *           application/json:\n   *             schema:\n   *               type: array\n   *               items:\n   *                 type: string\n   *       default:\n   *         description: Unexpected error\n   */\n  @Get(\"/\")\n  public async getAllGenres(req: Request, res) {\n    let resCode: number = HttpStatus.OK;\n    let results: string[];\n    try {\n      results = await this.cosmosDb.queryDocuments(sqlGenres);\n    } catch (err) {\n      resCode = HttpStatus.INTERNAL_SERVER_ERROR;\n    }\n\n    return res.send(resCode, results);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1c3735be0ffdb3cfe299060fccbd93c43fd8d421"},"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/HealthzController.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/HealthzController.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":73}},"15":{"start":{"line":12,"column":36},"end":{"line":12,"column":71}},"16":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"17":{"start":{"line":15,"column":28},"end":{"line":15,"column":110}},"18":{"start":{"line":15,"column":91},"end":{"line":15,"column":106}},"19":{"start":{"line":16,"column":4},"end":{"line":21,"column":7}},"20":{"start":{"line":17,"column":36},"end":{"line":17,"column":97}},"21":{"start":{"line":17,"column":42},"end":{"line":17,"column":70}},"22":{"start":{"line":17,"column":85},"end":{"line":17,"column":95}},"23":{"start":{"line":18,"column":35},"end":{"line":18,"column":100}},"24":{"start":{"line":18,"column":41},"end":{"line":18,"column":73}},"25":{"start":{"line":18,"column":88},"end":{"line":18,"column":98}},"26":{"start":{"line":19,"column":32},"end":{"line":19,"column":116}},"27":{"start":{"line":20,"column":8},"end":{"line":20,"column":78}},"28":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"29":{"start":{"line":25,"column":20},"end":{"line":25,"column":40}},"30":{"start":{"line":26,"column":34},"end":{"line":26,"column":68}},"31":{"start":{"line":27,"column":19},"end":{"line":27,"column":47}},"32":{"start":{"line":28,"column":22},"end":{"line":28,"column":56}},"33":{"start":{"line":29,"column":21},"end":{"line":29,"column":54}},"34":{"start":{"line":30,"column":20},"end":{"line":30,"column":50}},"35":{"start":{"line":31,"column":24},"end":{"line":31,"column":61}},"36":{"start":{"line":33,"column":0},"end":{"line":37,"column":36}},"37":{"start":{"line":34,"column":4},"end":{"line":34,"column":32}},"38":{"start":{"line":35,"column":4},"end":{"line":35,"column":32}},"39":{"start":{"line":36,"column":4},"end":{"line":36,"column":32}},"40":{"start":{"line":41,"column":24},"end":{"line":200,"column":1}},"41":{"start":{"line":43,"column":8},"end":{"line":43,"column":33}},"42":{"start":{"line":44,"column":8},"end":{"line":44,"column":29}},"43":{"start":{"line":59,"column":8},"end":{"line":64,"column":11}},"44":{"start":{"line":60,"column":38},"end":{"line":60,"column":66}},"45":{"start":{"line":61,"column":28},"end":{"line":61,"column":121}},"46":{"start":{"line":62,"column":12},"end":{"line":62,"column":56}},"47":{"start":{"line":63,"column":12},"end":{"line":63,"column":63}},"48":{"start":{"line":79,"column":8},"end":{"line":88,"column":11}},"49":{"start":{"line":80,"column":38},"end":{"line":80,"column":66}},"50":{"start":{"line":81,"column":28},"end":{"line":81,"column":121}},"51":{"start":{"line":82,"column":12},"end":{"line":82,"column":69}},"52":{"start":{"line":83,"column":12},"end":{"line":86,"column":15}},"53":{"start":{"line":87,"column":12},"end":{"line":87,"column":57}},"54":{"start":{"line":95,"column":8},"end":{"line":142,"column":11}},"55":{"start":{"line":96,"column":31},"end":{"line":96,"column":33}},"56":{"start":{"line":97,"column":12},"end":{"line":97,"column":48}},"57":{"start":{"line":98,"column":12},"end":{"line":98,"column":55}},"58":{"start":{"line":99,"column":12},"end":{"line":99,"column":70}},"59":{"start":{"line":100,"column":12},"end":{"line":100,"column":125}},"60":{"start":{"line":101,"column":12},"end":{"line":101,"column":53}},"61":{"start":{"line":103,"column":33},"end":{"line":103,"column":35}},"62":{"start":{"line":104,"column":30},"end":{"line":104,"column":32}},"63":{"start":{"line":105,"column":33},"end":{"line":105,"column":35}},"64":{"start":{"line":106,"column":33},"end":{"line":106,"column":35}},"65":{"start":{"line":107,"column":33},"end":{"line":107,"column":35}},"66":{"start":{"line":108,"column":33},"end":{"line":108,"column":35}},"67":{"start":{"line":109,"column":12},"end":{"line":141,"column":13}},"68":{"start":{"line":110,"column":16},"end":{"line":110,"column":51}},"69":{"start":{"line":111,"column":16},"end":{"line":111,"column":86}},"70":{"start":{"line":112,"column":16},"end":{"line":112,"column":57}},"71":{"start":{"line":113,"column":16},"end":{"line":113,"column":99}},"72":{"start":{"line":114,"column":16},"end":{"line":114,"column":57}},"73":{"start":{"line":115,"column":16},"end":{"line":115,"column":99}},"74":{"start":{"line":116,"column":16},"end":{"line":116,"column":57}},"75":{"start":{"line":117,"column":16},"end":{"line":117,"column":96}},"76":{"start":{"line":118,"column":16},"end":{"line":118,"column":57}},"77":{"start":{"line":119,"column":16},"end":{"line":119,"column":98}},"78":{"start":{"line":122,"column":16},"end":{"line":131,"column":17}},"79":{"start":{"line":123,"column":20},"end":{"line":130,"column":21}},"80":{"start":{"line":124,"column":24},"end":{"line":126,"column":25}},"81":{"start":{"line":125,"column":28},"end":{"line":125,"column":75}},"82":{"start":{"line":127,"column":24},"end":{"line":129,"column":25}},"83":{"start":{"line":128,"column":28},"end":{"line":128,"column":34}},"84":{"start":{"line":132,"column":16},"end":{"line":132,"column":49}},"85":{"start":{"line":133,"column":16},"end":{"line":133,"column":34}},"86":{"start":{"line":136,"column":16},"end":{"line":136,"column":79}},"87":{"start":{"line":137,"column":16},"end":{"line":137,"column":52}},"88":{"start":{"line":138,"column":16},"end":{"line":138,"column":49}},"89":{"start":{"line":139,"column":16},"end":{"line":139,"column":49}},"90":{"start":{"line":140,"column":16},"end":{"line":140,"column":34}},"91":{"start":{"line":151,"column":8},"end":{"line":198,"column":11}},"92":{"start":{"line":153,"column":30},"end":{"line":153,"column":40}},"93":{"start":{"line":154,"column":26},"end":{"line":154,"column":42}},"94":{"start":{"line":156,"column":12},"end":{"line":156,"column":55}},"95":{"start":{"line":157,"column":12},"end":{"line":157,"column":57}},"96":{"start":{"line":158,"column":12},"end":{"line":158,"column":50}},"97":{"start":{"line":159,"column":12},"end":{"line":159,"column":48}},"98":{"start":{"line":160,"column":12},"end":{"line":160,"column":51}},"99":{"start":{"line":161,"column":12},"end":{"line":161,"column":61}},"100":{"start":{"line":162,"column":12},"end":{"line":190,"column":13}},"101":{"start":{"line":164,"column":16},"end":{"line":178,"column":17}},"102":{"start":{"line":165,"column":20},"end":{"line":165,"column":78}},"103":{"start":{"line":167,"column":21},"end":{"line":178,"column":17}},"104":{"start":{"line":168,"column":20},"end":{"line":168,"column":65}},"105":{"start":{"line":170,"column":21},"end":{"line":178,"column":17}},"106":{"start":{"line":171,"column":20},"end":{"line":171,"column":65}},"107":{"start":{"line":173,"column":21},"end":{"line":178,"column":17}},"108":{"start":{"line":174,"column":20},"end":{"line":174,"column":67}},"109":{"start":{"line":177,"column":20},"end":{"line":177,"column":69}},"110":{"start":{"line":180,"column":16},"end":{"line":180,"column":117}},"111":{"start":{"line":185,"column":16},"end":{"line":185,"column":117}},"112":{"start":{"line":186,"column":16},"end":{"line":186,"column":59}},"113":{"start":{"line":187,"column":16},"end":{"line":187,"column":65}},"114":{"start":{"line":188,"column":16},"end":{"line":188,"column":46}},"115":{"start":{"line":189,"column":16},"end":{"line":189,"column":24}},"116":{"start":{"line":193,"column":12},"end":{"line":197,"column":13}},"117":{"start":{"line":194,"column":16},"end":{"line":194,"column":59}},"118":{"start":{"line":195,"column":16},"end":{"line":195,"column":65}},"119":{"start":{"line":196,"column":16},"end":{"line":196,"column":81}},"120":{"start":{"line":201,"column":0},"end":{"line":206,"column":53}},"121":{"start":{"line":207,"column":0},"end":{"line":212,"column":57}},"122":{"start":{"line":213,"column":0},"end":{"line":218,"column":22}},"123":{"start":{"line":219,"column":0},"end":{"line":219,"column":46}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":40},"end":{"line":11,"column":41}},"loc":{"start":{"line":11,"column":73},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":11},"end":{"line":12,"column":12}},"loc":{"start":{"line":12,"column":34},"end":{"line":12,"column":73}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":44},"end":{"line":14,"column":45}},"loc":{"start":{"line":14,"column":89},"end":{"line":22,"column":1}},"line":14},"5":{"name":"adopt","decl":{"start":{"line":15,"column":13},"end":{"line":15,"column":18}},"loc":{"start":{"line":15,"column":26},"end":{"line":15,"column":112}},"line":15},"6":{"name":"(anonymous_6)","decl":{"start":{"line":15,"column":70},"end":{"line":15,"column":71}},"loc":{"start":{"line":15,"column":89},"end":{"line":15,"column":108}},"line":15},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":36},"end":{"line":16,"column":37}},"loc":{"start":{"line":16,"column":63},"end":{"line":21,"column":5}},"line":16},"8":{"name":"fulfilled","decl":{"start":{"line":17,"column":17},"end":{"line":17,"column":26}},"loc":{"start":{"line":17,"column":34},"end":{"line":17,"column":99}},"line":17},"9":{"name":"rejected","decl":{"start":{"line":18,"column":17},"end":{"line":18,"column":25}},"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":102}},"line":18},"10":{"name":"step","decl":{"start":{"line":19,"column":17},"end":{"line":19,"column":21}},"loc":{"start":{"line":19,"column":30},"end":{"line":19,"column":118}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":33,"column":1},"end":{"line":33,"column":2}},"loc":{"start":{"line":33,"column":23},"end":{"line":37,"column":1}},"line":33},"12":{"name":"(anonymous_12)","decl":{"start":{"line":42,"column":4},"end":{"line":42,"column":5}},"loc":{"start":{"line":42,"column":34},"end":{"line":45,"column":5}},"line":42},"13":{"name":"(anonymous_13)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":26},"end":{"line":65,"column":5}},"line":58},"14":{"name":"(anonymous_14)","decl":{"start":{"line":59,"column":47},"end":{"line":59,"column":48}},"loc":{"start":{"line":59,"column":60},"end":{"line":64,"column":9}},"line":59},"15":{"name":"(anonymous_15)","decl":{"start":{"line":78,"column":4},"end":{"line":78,"column":5}},"loc":{"start":{"line":78,"column":30},"end":{"line":89,"column":5}},"line":78},"16":{"name":"(anonymous_16)","decl":{"start":{"line":79,"column":47},"end":{"line":79,"column":48}},"loc":{"start":{"line":79,"column":60},"end":{"line":88,"column":9}},"line":79},"17":{"name":"(anonymous_17)","decl":{"start":{"line":93,"column":4},"end":{"line":93,"column":5}},"loc":{"start":{"line":93,"column":22},"end":{"line":143,"column":5}},"line":93},"18":{"name":"(anonymous_18)","decl":{"start":{"line":95,"column":47},"end":{"line":95,"column":48}},"loc":{"start":{"line":95,"column":60},"end":{"line":142,"column":9}},"line":95},"19":{"name":"(anonymous_19)","decl":{"start":{"line":150,"column":4},"end":{"line":150,"column":5}},"loc":{"start":{"line":150,"column":56},"end":{"line":199,"column":5}},"line":150},"20":{"name":"(anonymous_20)","decl":{"start":{"line":151,"column":47},"end":{"line":151,"column":48}},"loc":{"start":{"line":151,"column":60},"end":{"line":198,"column":9}},"line":151}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":15},"end":{"line":11,"column":19}},{"start":{"line":11,"column":23},"end":{"line":11,"column":35}},{"start":{"line":11,"column":40},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":17},"end":{"line":14,"column":21}},{"start":{"line":14,"column":25},"end":{"line":14,"column":39}},{"start":{"line":14,"column":44},"end":{"line":22,"column":1}}],"line":14},"15":{"loc":{"start":{"line":15,"column":35},"end":{"line":15,"column":109}},"type":"cond-expr","locations":[{"start":{"line":15,"column":56},"end":{"line":15,"column":61}},{"start":{"line":15,"column":64},"end":{"line":15,"column":109}}],"line":15},"16":{"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":34}},"type":"binary-expr","locations":[{"start":{"line":16,"column":16},"end":{"line":16,"column":17}},{"start":{"line":16,"column":22},"end":{"line":16,"column":33}}],"line":16},"17":{"loc":{"start":{"line":19,"column":32},"end":{"line":19,"column":115}},"type":"cond-expr","locations":[{"start":{"line":19,"column":46},"end":{"line":19,"column":67}},{"start":{"line":19,"column":70},"end":{"line":19,"column":115}}],"line":19},"18":{"loc":{"start":{"line":20,"column":51},"end":{"line":20,"column":67}},"type":"binary-expr","locations":[{"start":{"line":20,"column":51},"end":{"line":20,"column":61}},{"start":{"line":20,"column":65},"end":{"line":20,"column":67}}],"line":20},"19":{"loc":{"start":{"line":37,"column":3},"end":{"line":37,"column":34}},"type":"binary-expr","locations":[{"start":{"line":37,"column":3},"end":{"line":37,"column":13}},{"start":{"line":37,"column":18},"end":{"line":37,"column":33}}],"line":37},"20":{"loc":{"start":{"line":61,"column":28},"end":{"line":61,"column":121}},"type":"cond-expr","locations":[{"start":{"line":61,"column":75},"end":{"line":61,"column":105}},{"start":{"line":61,"column":108},"end":{"line":61,"column":121}}],"line":61},"21":{"loc":{"start":{"line":81,"column":28},"end":{"line":81,"column":121}},"type":"cond-expr","locations":[{"start":{"line":81,"column":75},"end":{"line":81,"column":105}},{"start":{"line":81,"column":108},"end":{"line":81,"column":121}}],"line":81},"22":{"loc":{"start":{"line":100,"column":34},"end":{"line":100,"column":124}},"type":"cond-expr","locations":[{"start":{"line":100,"column":110},"end":{"line":100,"column":112}},{"start":{"line":100,"column":115},"end":{"line":100,"column":124}}],"line":100},"23":{"loc":{"start":{"line":100,"column":34},"end":{"line":100,"column":107}},"type":"binary-expr","locations":[{"start":{"line":100,"column":34},"end":{"line":100,"column":90}},{"start":{"line":100,"column":94},"end":{"line":100,"column":107}}],"line":100},"24":{"loc":{"start":{"line":123,"column":20},"end":{"line":130,"column":21}},"type":"if","locations":[{"start":{"line":123,"column":20},"end":{"line":130,"column":21}},{"start":{"line":123,"column":20},"end":{"line":130,"column":21}}],"line":123},"25":{"loc":{"start":{"line":124,"column":24},"end":{"line":126,"column":25}},"type":"if","locations":[{"start":{"line":124,"column":24},"end":{"line":126,"column":25}},{"start":{"line":124,"column":24},"end":{"line":126,"column":25}}],"line":124},"26":{"loc":{"start":{"line":127,"column":24},"end":{"line":129,"column":25}},"type":"if","locations":[{"start":{"line":127,"column":24},"end":{"line":129,"column":25}},{"start":{"line":127,"column":24},"end":{"line":129,"column":25}}],"line":127},"27":{"loc":{"start":{"line":164,"column":16},"end":{"line":178,"column":17}},"type":"if","locations":[{"start":{"line":164,"column":16},"end":{"line":178,"column":17}},{"start":{"line":164,"column":16},"end":{"line":178,"column":17}}],"line":164},"28":{"loc":{"start":{"line":167,"column":21},"end":{"line":178,"column":17}},"type":"if","locations":[{"start":{"line":167,"column":21},"end":{"line":178,"column":17}},{"start":{"line":167,"column":21},"end":{"line":178,"column":17}}],"line":167},"29":{"loc":{"start":{"line":170,"column":21},"end":{"line":178,"column":17}},"type":"if","locations":[{"start":{"line":170,"column":21},"end":{"line":178,"column":17}},{"start":{"line":170,"column":21},"end":{"line":178,"column":17}}],"line":170},"30":{"loc":{"start":{"line":173,"column":21},"end":{"line":178,"column":17}},"type":"if","locations":[{"start":{"line":173,"column":21},"end":{"line":178,"column":17}},{"start":{"line":173,"column":21},"end":{"line":178,"column":17}}],"line":173},"31":{"loc":{"start":{"line":193,"column":12},"end":{"line":197,"column":13}},"type":"if","locations":[{"start":{"line":193,"column":12},"end":{"line":197,"column":13}},{"start":{"line":193,"column":12},"end":{"line":197,"column":13}}],"line":193},"32":{"loc":{"start":{"line":217,"column":37},"end":{"line":217,"column":157}},"type":"cond-expr","locations":[{"start":{"line":217,"column":146},"end":{"line":217,"column":148}},{"start":{"line":217,"column":151},"end":{"line":217,"column":157}}],"line":217},"33":{"loc":{"start":{"line":217,"column":50},"end":{"line":217,"column":127}},"type":"binary-expr","locations":[{"start":{"line":217,"column":50},"end":{"line":217,"column":98}},{"start":{"line":217,"column":102},"end":{"line":217,"column":127}}],"line":217},"34":{"loc":{"start":{"line":217,"column":159},"end":{"line":217,"column":275}},"type":"cond-expr","locations":[{"start":{"line":217,"column":264},"end":{"line":217,"column":266}},{"start":{"line":217,"column":269},"end":{"line":217,"column":275}}],"line":217},"35":{"loc":{"start":{"line":217,"column":172},"end":{"line":217,"column":245}},"type":"binary-expr","locations":[{"start":{"line":217,"column":172},"end":{"line":217,"column":218}},{"start":{"line":217,"column":222},"end":{"line":217,"column":245}}],"line":217}},"s":{"0":1,"1":3,"2":3,"3":3,"4":3,"5":0,"6":0,"7":0,"8":0,"9":3,"10":1,"11":7,"12":7,"13":1,"14":2,"15":2,"16":1,"17":22,"18":0,"19":14,"20":22,"21":22,"22":0,"23":0,"24":0,"25":0,"26":36,"27":14,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":3,"42":3,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":2,"55":2,"56":2,"57":2,"58":2,"59":2,"60":2,"61":2,"62":2,"63":2,"64":2,"65":2,"66":2,"67":2,"68":2,"69":2,"70":2,"71":2,"72":2,"73":2,"74":2,"75":2,"76":2,"77":2,"78":2,"79":10,"80":10,"81":6,"82":10,"83":0,"84":2,"85":2,"86":0,"87":0,"88":0,"89":0,"90":0,"91":10,"92":10,"93":10,"94":10,"95":10,"96":10,"97":10,"98":10,"99":10,"100":10,"101":10,"102":2,"103":8,"104":2,"105":6,"106":2,"107":4,"108":2,"109":2,"110":10,"111":0,"112":0,"113":0,"114":0,"115":0,"116":10,"117":6,"118":6,"119":6,"120":1,"121":1,"122":1,"123":1},"f":{"0":3,"1":7,"2":2,"3":2,"4":14,"5":22,"6":0,"7":14,"8":22,"9":0,"10":36,"11":1,"12":3,"13":1,"14":1,"15":1,"16":1,"17":2,"18":2,"19":10,"20":10},"b":{"0":[1,1,1],"1":[1,2],"2":[2,0],"3":[3,0],"4":[3,3],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[3,2,2],"10":[1,1,1],"11":[7,0],"12":[7,7],"13":[1,1,1],"14":[1,1,1],"15":[22,0],"16":[14,14],"17":[14,22],"18":[14,14],"19":[1,1],"20":[0,1],"21":[0,1],"22":[0,2],"23":[2,2],"24":[10,0],"25":[6,4],"26":[0,10],"27":[2,8],"28":[2,6],"29":[2,4],"30":[2,2],"31":[6,4],"32":[0,1],"33":[1,0],"34":[0,1],"35":[1,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/HealthzController.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/HealthzController.ts"],"names":[],"mappings":"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","sourcesContent":["import { inject, injectable } from \"inversify\";\nimport { Controller, Get, interfaces } from \"inversify-restify-utils\";\nimport * as HttpStatus from \"http-status-codes\";\nimport { DataService } from \"../services/DataService\";\nimport { LogService } from \"../services/LogService\";\nimport { sqlGenres, webInstanceRole, version } from \"../config/constants\";\nimport { DateUtilities } from \"../utilities/dateUtilities\";\n\nenum IetfStatus {\n    pass = \"pass\",\n    warn = \"warn\",\n    fail = \"fail\",\n}\n\n/**\n * controller implementation for our healthz endpoint\n */\n@Controller(\"/healthz\")\n@injectable()\nexport class HealthzController implements interfaces.Controller {\n\n    constructor(@inject(\"DataService\") private cosmosDb: DataService, @inject(\"LogService\") private logger: LogService) {\n\n    }\n\n    /**\n     * @swagger\n     *\n     * /healthz:\n     *   get:\n     *     description: Returns a plain text health status (Healthy, Degraded or Unhealthy)\n     *     tags:\n     *       - Healthz\n     *     responses:\n     *       '200':\n     *         description: Returns a plain text health status as text/plain\n     */\n    @Get(\"/\")\n    public async healthCheck(req, res) {\n\n        const healthCheckResult = await this.runHealthChecks();\n        const resCode = healthCheckResult.status === IetfStatus.fail ? HttpStatus.SERVICE_UNAVAILABLE : HttpStatus.OK;\n\n        res.setHeader(\"Content-Type\", \"text/plain\");\n        return res.send(resCode, healthCheckResult.status);\n    }\n\n    /**\n     * @swagger\n     *\n     * /healthz/ietf:\n     *   get:\n     *     description: Returns an IETF (draft) health+json representation of the full Health Check\n     *     tags:\n     *       - Healthz\n     *     responses:\n     *       '200':\n     *         description: Returns an IETF (draft) health+json representation of the full Health Check\n     */\n    @Get(\"/ietf\")\n    public async healthCheckIetf(req, res) {\n        const healthCheckResult = await this.runHealthChecks();\n        const resCode = healthCheckResult.status === IetfStatus.fail ? HttpStatus.SERVICE_UNAVAILABLE : HttpStatus.OK;\n\n        res.setHeader(\"Content-Type\", \"application/health+json\");\n        res.writeHead(resCode, {\n            \"Content-Length\": Buffer.byteLength(JSON.stringify(healthCheckResult)),\n            \"Content-Type\": \"application/health+json\",\n        });\n        res.write(JSON.stringify(healthCheckResult));\n    }\n\n    /**\n     * Executes all health checks and builds the final ietf result\n     */\n    private async runHealthChecks() {\n        const ietfResult: {[k: string]: any} = {};\n        ietfResult.status = IetfStatus.pass;\n        ietfResult.serviceId =  \"helium-typescript\";\n        ietfResult.description = \"Helium Typescript Health Check\";\n        ietfResult.instance = process.env[webInstanceRole] ?? \"unknown\";\n        ietfResult.version = version;\n\n        // Declare health checks\n        const healthChecks: {[k: string]: any} = {};\n        const getGenres: {[k: string]: any} = {};\n        const getActorById: {[k: string]: any} = {};\n        const getMovieById: {[k: string]: any} = {};\n        const searchMovies: {[k: string]: any} = {};\n        const searchActors: {[k: string]: any} = {};\n\n        try {\n            healthChecks.getGenres = getGenres;\n            await this.runHealthCheck(\"/api/genres\", 400, healthChecks.getGenres);\n\n            healthChecks.getActorById = getActorById;\n            await this.runHealthCheck(\"/api/actors/nm0000173\", 250, healthChecks.getActorById);\n\n            healthChecks.getMovieById = getMovieById;\n            await this.runHealthCheck(\"/api/movies/tt0133093\", 250, healthChecks.getMovieById);\n\n            healthChecks.searchMovies = searchMovies;\n            await this.runHealthCheck(\"/api/movies?q=ring\", 400, healthChecks.searchMovies);\n\n            healthChecks.searchActors = searchActors;\n            await this.runHealthCheck(\"/api/actors?q=nicole\", 400, healthChecks.searchActors);\n\n            // if any health check has a warn or down status\n            // set overall status to the worst status\n            for (const check in healthChecks) {\n                if (healthChecks.hasOwnProperty(check)) {\n                    if (!(healthChecks[check].status === IetfStatus.pass)) {\n                        ietfResult.status = healthChecks[check].status;\n                    }\n\n                    if (ietfResult.status === IetfStatus.fail) {\n                        break;\n                    }\n                }\n            }\n\n            ietfResult.checks = healthChecks;\n            return ietfResult;\n        } catch (err) {\n            this.logger.error(Error(), \"CosmosException: Healthz: \" + err);\n            ietfResult.status = IetfStatus.fail;\n            ietfResult.cosmosException = err;\n            ietfResult.checks = healthChecks;\n            return ietfResult;\n        }\n    }\n\n    /**\n     * Executes a health check and builds the result\n     * @param endpoint The affected endpoint for the health check to run.\n     * @param target The target duration for the health check endpoint call.\n     * @param healthCheckResult The health check entry to update.\n     */\n    private async runHealthCheck(endpoint: string, target: number, healthCheckResult: any) {\n        // start tracking time\n        const startDate = new Date();\n        const start = process.hrtime();\n\n        // build health check result following ietf standard\n        healthCheckResult.status = IetfStatus.pass;\n        healthCheckResult.componentType = \"CosmosDB\";\n        healthCheckResult.observedUnit = \"ms\";\n        healthCheckResult.observedValue = 0;\n        healthCheckResult.targetValue = target;\n        healthCheckResult.time = startDate.toISOString();\n\n        try {\n            // execute health check query based on endpoint\n            if (endpoint === \"/api/genres\") {\n                await this.cosmosDb.queryDocuments(sqlGenres);\n            } else if (endpoint === \"/api/actors/nm0000173\") {\n                await this.cosmosDb.getDocument(\"nm0000173\");\n            } else if (endpoint === \"/api/movies/tt0133093\") {\n                await this.cosmosDb.getDocument(\"tt0133093\");\n            } else if (endpoint === \"/api/movies?q=ring\") {\n                await this.cosmosDb.queryMovies({q: \"ring\"});\n            } else {\n                await this.cosmosDb.queryActors({q: \"nicole\"});\n            }\n\n            // calculate duration in ms\n            healthCheckResult.observedValue = DateUtilities.getDurationMS(process.hrtime(start));\n        } catch (e) {\n            // calculate duration\n            // log exception and fail status, and re-throw exception\n            healthCheckResult.observedValue = DateUtilities.getDurationMS(process.hrtime(start));\n            healthCheckResult.status = IetfStatus.fail;\n            healthCheckResult.affectedEndpoints = [ endpoint ];\n            healthCheckResult.message = e;\n\n            throw e;\n        }\n\n        // set to warn if target duration is not met\n        // only log affected endpoints if warn or fail status\n        if (healthCheckResult.observedValue > healthCheckResult.targetValue) {\n            healthCheckResult.status = IetfStatus.warn;\n            healthCheckResult.affectedEndpoints = [ endpoint ];\n            healthCheckResult.message = \"Request exceeded expected duration\";\n        }\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3da8ed71f7389bd4370331adee9b44d9cfbad2f1"},"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/dateUtilities.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/dateUtilities.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":8,"column":22},"end":{"line":8,"column":32}},"2":{"start":{"line":9,"column":8},"end":{"line":9,"column":40}},"3":{"start":{"line":9,"column":21},"end":{"line":9,"column":39}},"4":{"start":{"line":14,"column":25},"end":{"line":14,"column":62}},"5":{"start":{"line":15,"column":8},"end":{"line":15,"column":35}},"6":{"start":{"line":18,"column":0},"end":{"line":18,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":22},"end":{"line":10,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":15},"end":{"line":9,"column":16}},"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":39}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":33},"end":{"line":16,"column":5}},"line":12}},"branchMap":{},"s":{"0":1,"1":0,"2":0,"3":0,"4":10,"5":10,"6":1},"f":{"0":0,"1":0,"2":10},"b":{},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/dateUtilities.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/dateUtilities.ts"],"names":[],"mappings":";;AAAA;;GAEG;AACH,MAAa,aAAa;IAEf,MAAM,CAAC,QAAQ;QAClB,MAAM,KAAK,GAAW,IAAI,CAAC,GAAG,EAAE,CAAC;QACjC,OAAO,GAAG,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC;IACpC,CAAC;IAED,sDAAsD;IAC/C,MAAM,CAAC,aAAa,CAAC,MAAwB;QAEhD,0BAA0B;QAC1B,MAAM,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QAEvD,OAAO,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAC/B,CAAC;CACJ;AAfD,sCAeC","sourcesContent":["/**\n * Utilities for date/time functions.\n */\nexport class DateUtilities {\n\n    public static getTimer() {\n        const start: number = Date.now();\n        return () => Date.now() - start;\n    }\n\n    // Calculate duration (in ms) from node process hrtime\n    public static getDurationMS(hrtime: [number, number]): string {\n\n        // convert to milliseconds\n        const duration = ((hrtime[0] * 1e9) + hrtime[1]) / 1e6;\n\n        return duration.toFixed(0);\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cfbe01a2f837fad760cbf13977b7cb3510034fae"},"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/MovieController.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/MovieController.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":73}},"15":{"start":{"line":12,"column":36},"end":{"line":12,"column":71}},"16":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"17":{"start":{"line":15,"column":28},"end":{"line":15,"column":110}},"18":{"start":{"line":15,"column":91},"end":{"line":15,"column":106}},"19":{"start":{"line":16,"column":4},"end":{"line":21,"column":7}},"20":{"start":{"line":17,"column":36},"end":{"line":17,"column":97}},"21":{"start":{"line":17,"column":42},"end":{"line":17,"column":70}},"22":{"start":{"line":17,"column":85},"end":{"line":17,"column":95}},"23":{"start":{"line":18,"column":35},"end":{"line":18,"column":100}},"24":{"start":{"line":18,"column":41},"end":{"line":18,"column":73}},"25":{"start":{"line":18,"column":88},"end":{"line":18,"column":98}},"26":{"start":{"line":19,"column":32},"end":{"line":19,"column":116}},"27":{"start":{"line":20,"column":8},"end":{"line":20,"column":78}},"28":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"29":{"start":{"line":25,"column":20},"end":{"line":25,"column":40}},"30":{"start":{"line":26,"column":34},"end":{"line":26,"column":68}},"31":{"start":{"line":27,"column":19},"end":{"line":27,"column":47}},"32":{"start":{"line":28,"column":22},"end":{"line":28,"column":56}},"33":{"start":{"line":29,"column":21},"end":{"line":29,"column":54}},"34":{"start":{"line":30,"column":16},"end":{"line":30,"column":42}},"35":{"start":{"line":31,"column":30},"end":{"line":31,"column":73}},"36":{"start":{"line":35,"column":22},"end":{"line":173,"column":1}},"37":{"start":{"line":37,"column":8},"end":{"line":37,"column":33}},"38":{"start":{"line":38,"column":8},"end":{"line":38,"column":29}},"39":{"start":{"line":99,"column":8},"end":{"line":117,"column":11}},"40":{"start":{"line":101,"column":63},"end":{"line":101,"column":130}},"41":{"start":{"line":102,"column":12},"end":{"line":106,"column":13}},"42":{"start":{"line":103,"column":16},"end":{"line":103,"column":60}},"43":{"start":{"line":104,"column":16},"end":{"line":104,"column":88}},"44":{"start":{"line":105,"column":16},"end":{"line":105,"column":65}},"45":{"start":{"line":107,"column":26},"end":{"line":107,"column":39}},"46":{"start":{"line":110,"column":12},"end":{"line":115,"column":13}},"47":{"start":{"line":111,"column":16},"end":{"line":111,"column":69}},"48":{"start":{"line":114,"column":16},"end":{"line":114,"column":59}},"49":{"start":{"line":116,"column":12},"end":{"line":116,"column":46}},"50":{"start":{"line":147,"column":8},"end":{"line":171,"column":11}},"51":{"start":{"line":149,"column":28},"end":{"line":149,"column":41}},"52":{"start":{"line":150,"column":63},"end":{"line":150,"column":129}},"53":{"start":{"line":151,"column":12},"end":{"line":155,"column":13}},"54":{"start":{"line":152,"column":16},"end":{"line":152,"column":60}},"55":{"start":{"line":153,"column":16},"end":{"line":153,"column":77}},"56":{"start":{"line":154,"column":16},"end":{"line":154,"column":65}},"57":{"start":{"line":156,"column":26},"end":{"line":156,"column":39}},"58":{"start":{"line":158,"column":12},"end":{"line":169,"column":13}},"59":{"start":{"line":159,"column":16},"end":{"line":159,"column":85}},"60":{"start":{"line":162,"column":16},"end":{"line":162,"column":40}},"61":{"start":{"line":163,"column":16},"end":{"line":168,"column":17}},"62":{"start":{"line":164,"column":20},"end":{"line":164,"column":51}},"63":{"start":{"line":167,"column":20},"end":{"line":167,"column":63}},"64":{"start":{"line":170,"column":12},"end":{"line":170,"column":45}},"65":{"start":{"line":174,"column":0},"end":{"line":179,"column":52}},"66":{"start":{"line":180,"column":0},"end":{"line":185,"column":52}},"67":{"start":{"line":186,"column":0},"end":{"line":191,"column":20}},"68":{"start":{"line":192,"column":0},"end":{"line":192,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":40},"end":{"line":11,"column":41}},"loc":{"start":{"line":11,"column":73},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":11},"end":{"line":12,"column":12}},"loc":{"start":{"line":12,"column":34},"end":{"line":12,"column":73}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":44},"end":{"line":14,"column":45}},"loc":{"start":{"line":14,"column":89},"end":{"line":22,"column":1}},"line":14},"5":{"name":"adopt","decl":{"start":{"line":15,"column":13},"end":{"line":15,"column":18}},"loc":{"start":{"line":15,"column":26},"end":{"line":15,"column":112}},"line":15},"6":{"name":"(anonymous_6)","decl":{"start":{"line":15,"column":70},"end":{"line":15,"column":71}},"loc":{"start":{"line":15,"column":89},"end":{"line":15,"column":108}},"line":15},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":36},"end":{"line":16,"column":37}},"loc":{"start":{"line":16,"column":63},"end":{"line":21,"column":5}},"line":16},"8":{"name":"fulfilled","decl":{"start":{"line":17,"column":17},"end":{"line":17,"column":26}},"loc":{"start":{"line":17,"column":34},"end":{"line":17,"column":99}},"line":17},"9":{"name":"rejected","decl":{"start":{"line":18,"column":17},"end":{"line":18,"column":25}},"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":102}},"line":18},"10":{"name":"step","decl":{"start":{"line":19,"column":17},"end":{"line":19,"column":21}},"loc":{"start":{"line":19,"column":30},"end":{"line":19,"column":118}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":34},"end":{"line":39,"column":5}},"line":36},"12":{"name":"(anonymous_12)","decl":{"start":{"line":98,"column":4},"end":{"line":98,"column":5}},"loc":{"start":{"line":98,"column":27},"end":{"line":118,"column":5}},"line":98},"13":{"name":"(anonymous_13)","decl":{"start":{"line":99,"column":47},"end":{"line":99,"column":48}},"loc":{"start":{"line":99,"column":60},"end":{"line":117,"column":9}},"line":99},"14":{"name":"(anonymous_14)","decl":{"start":{"line":146,"column":4},"end":{"line":146,"column":5}},"loc":{"start":{"line":146,"column":27},"end":{"line":172,"column":5}},"line":146},"15":{"name":"(anonymous_15)","decl":{"start":{"line":147,"column":47},"end":{"line":147,"column":48}},"loc":{"start":{"line":147,"column":60},"end":{"line":171,"column":9}},"line":147}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":15},"end":{"line":11,"column":19}},{"start":{"line":11,"column":23},"end":{"line":11,"column":35}},{"start":{"line":11,"column":40},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":17},"end":{"line":14,"column":21}},{"start":{"line":14,"column":25},"end":{"line":14,"column":39}},{"start":{"line":14,"column":44},"end":{"line":22,"column":1}}],"line":14},"15":{"loc":{"start":{"line":15,"column":35},"end":{"line":15,"column":109}},"type":"cond-expr","locations":[{"start":{"line":15,"column":56},"end":{"line":15,"column":61}},{"start":{"line":15,"column":64},"end":{"line":15,"column":109}}],"line":15},"16":{"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":34}},"type":"binary-expr","locations":[{"start":{"line":16,"column":16},"end":{"line":16,"column":17}},{"start":{"line":16,"column":22},"end":{"line":16,"column":33}}],"line":16},"17":{"loc":{"start":{"line":19,"column":32},"end":{"line":19,"column":115}},"type":"cond-expr","locations":[{"start":{"line":19,"column":46},"end":{"line":19,"column":67}},{"start":{"line":19,"column":70},"end":{"line":19,"column":115}}],"line":19},"18":{"loc":{"start":{"line":20,"column":51},"end":{"line":20,"column":67}},"type":"binary-expr","locations":[{"start":{"line":20,"column":51},"end":{"line":20,"column":61}},{"start":{"line":20,"column":65},"end":{"line":20,"column":67}}],"line":20},"19":{"loc":{"start":{"line":102,"column":12},"end":{"line":106,"column":13}},"type":"if","locations":[{"start":{"line":102,"column":12},"end":{"line":106,"column":13}},{"start":{"line":102,"column":12},"end":{"line":106,"column":13}}],"line":102},"20":{"loc":{"start":{"line":151,"column":12},"end":{"line":155,"column":13}},"type":"if","locations":[{"start":{"line":151,"column":12},"end":{"line":155,"column":13}},{"start":{"line":151,"column":12},"end":{"line":155,"column":13}}],"line":151},"21":{"loc":{"start":{"line":163,"column":16},"end":{"line":168,"column":17}},"type":"if","locations":[{"start":{"line":163,"column":16},"end":{"line":168,"column":17}},{"start":{"line":163,"column":16},"end":{"line":168,"column":17}}],"line":163},"22":{"loc":{"start":{"line":190,"column":37},"end":{"line":190,"column":157}},"type":"cond-expr","locations":[{"start":{"line":190,"column":146},"end":{"line":190,"column":148}},{"start":{"line":190,"column":151},"end":{"line":190,"column":157}}],"line":190},"23":{"loc":{"start":{"line":190,"column":50},"end":{"line":190,"column":127}},"type":"binary-expr","locations":[{"start":{"line":190,"column":50},"end":{"line":190,"column":98}},{"start":{"line":190,"column":102},"end":{"line":190,"column":127}}],"line":190},"24":{"loc":{"start":{"line":190,"column":159},"end":{"line":190,"column":275}},"type":"cond-expr","locations":[{"start":{"line":190,"column":264},"end":{"line":190,"column":266}},{"start":{"line":190,"column":269},"end":{"line":190,"column":275}}],"line":190},"25":{"loc":{"start":{"line":190,"column":172},"end":{"line":190,"column":245}},"type":"binary-expr","locations":[{"start":{"line":190,"column":172},"end":{"line":190,"column":218}},{"start":{"line":190,"column":222},"end":{"line":190,"column":245}}],"line":190}},"s":{"0":1,"1":3,"2":3,"3":3,"4":3,"5":0,"6":0,"7":0,"8":0,"9":3,"10":1,"11":7,"12":7,"13":1,"14":2,"15":2,"16":1,"17":11,"18":0,"19":45,"20":10,"21":10,"22":0,"23":1,"24":1,"25":0,"26":56,"27":45,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":46,"38":46,"39":37,"40":37,"41":37,"42":28,"43":28,"44":28,"45":9,"46":9,"47":9,"48":0,"49":9,"50":8,"51":8,"52":8,"53":8,"54":6,"55":6,"56":6,"57":2,"58":2,"59":2,"60":1,"61":1,"62":1,"63":0,"64":2,"65":1,"66":1,"67":1,"68":1},"f":{"0":3,"1":7,"2":2,"3":2,"4":45,"5":11,"6":0,"7":45,"8":10,"9":1,"10":56,"11":46,"12":37,"13":37,"14":8,"15":8},"b":{"0":[1,1,1],"1":[1,2],"2":[2,0],"3":[3,0],"4":[3,3],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[3,2,2],"10":[1,1,1],"11":[7,0],"12":[7,7],"13":[1,1,1],"14":[1,1,1],"15":[11,0],"16":[45,45],"17":[45,11],"18":[45,45],"19":[28,9],"20":[6,2],"21":[1,0],"22":[0,1],"23":[1,0],"24":[0,1],"25":[1,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/MovieController.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/controllers/MovieController.ts"],"names":[],"mappings":"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","sourcesContent":["import { inject, injectable } from \"inversify\";\nimport { Controller, Get, interfaces } from \"inversify-restify-utils\";\nimport * as HttpStatus from \"http-status-codes\";\nimport { DataService } from \"../services/DataService\";\nimport { LogService } from \"../services/LogService\";\nimport { Movie } from \"../models/Movie\";\nimport { ValidationUtilities } from \"../utilities/validationUtilities\";\n\n/**\n * controller implementation for our movies endpoint\n */\n@Controller(\"/api/movies\")\n@injectable()\nexport class MovieController implements interfaces.Controller {\n\n    constructor(@inject(\"DataService\") private cosmosDb: DataService, @inject(\"LogService\") private logger: LogService) {\n        \n    }\n\n    /**\n     * @swagger\n     *\n     * /api/movies:\n     *   get:\n     *     description: Retrieve and return all movies!\n     *     tags:\n     *       - Movies\n     *     parameters:\n     *       - name: q\n     *         description: The term used to search by movie title (rings)\n     *         in: query\n     *         schema:\n     *           type: string\n     *       - name: genre\n     *         description: Movies of a genre (Action)\n     *         in: query\n     *         schema:\n     *           type: string\n     *       - name: year\n     *         description: Get movies by year (2005)\n     *         in: query\n     *         schema:\n     *           type: string\n     *       - name: rating\n     *         description: Get movies with a rating >= rating (8.5)\n     *         in: query\n     *         schema:\n     *           type: string\n     *       - name: actorid\n     *         description: Get movies by Actor Id (nm0000704)\n     *         in: query\n     *         schema:\n     *           type: string\n     *       - name: pageNumber\n     *         description: 1 based page index\n     *         in: query\n     *         schema:\n     *           type: integer\n     *           default: 1\n     *       - name: pageSize\n     *         description: page size (1000 max)\n     *         in: query\n     *         schema:\n     *           type: integer\n     *           default: 100\n     *     responses:\n     *       '200':\n     *         description: JSON of movie objects\n     *         content:\n     *           application/json:\n     *             schema:\n     *               type: array\n     *               items:\n     *                 $ref: '#/components/schemas/Movie'\n     *       default:\n     *         description: Unexpected error\n     */\n    @Get(\"/\")\n    public async getAllMovies(req, res) {\n        // Validate query parameters\n        const { validated: validated, message: message } = ValidationUtilities.validateMovies(req.query);\n        \n        if (!validated) {\n            res.setHeader(\"Content-Type\", \"text/plain\");\n            this.logger.trace(\"InvalidParameter|\" + \"getAllMovies\" + \"|\" + message);\n            return res.send(HttpStatus.BAD_REQUEST, message);\n        }\n\n        let resCode: number = HttpStatus.OK;\n        let results: Movie[];\n\n        // Execute query\n        try {\n            results = await this.cosmosDb.queryMovies(req.query);\n        } catch (err) {\n            resCode = HttpStatus.INTERNAL_SERVER_ERROR;\n        }\n\n        return res.send(resCode, results);\n    }\n\n    /**\n     * @swagger\n     *\n     * /api/movies/{id}:\n     *   get:\n     *     description: Retrieve and return a single movie by movie ID.\n     *     tags:\n     *       - Movies\n     *     parameters:\n     *       - name: id\n     *         description: The ID of the movie to look for.\n     *         in: path\n     *         required: true\n     *         schema:\n     *           type: string\n     *     responses:\n     *       '200':\n     *         description: The movie object\n     *         content:\n     *           application/json:\n     *             schema:\n     *               $ref: '#/components/schemas/Movie'\n     *       '404':\n     *         description: A movie with the specified ID was not found.\n     *       default:\n     *         description: Unexpected error\n     */\n    @Get(\"/:id\")\n    public async getMovieById(req, res) {\n        // Validate Movie Id parameter\n        const movieId: string = req.params.id;\n        const { validated: validated, message: message } = ValidationUtilities.validateMovieId(movieId);\n\n        if (!validated) {\n            res.setHeader(\"Content-Type\", \"text/plain\");\n            this.logger.trace(\"getMovieById|\" + movieId + \"|\" + message);\n            return res.send(HttpStatus.BAD_REQUEST, message);\n        }\n\n        let resCode: number = HttpStatus.OK;\n        let result: Movie;\n        try {\n            result = new Movie(await this.cosmosDb.getDocument(movieId));\n        } catch (err) {\n            result = err.toString();\n\n            if (err.toString().includes(\"404\")) {\n                resCode = HttpStatus.NOT_FOUND;\n            } else {\n                resCode = HttpStatus.INTERNAL_SERVER_ERROR;\n            }\n        }\n\n        return res.send(resCode, result);\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"031bb931c22a829b319f085e600e1f676f36ac55"},"/mnt/c/code/retaildevcrews/helium-typescript/src/models/Movie.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/models/Movie.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":51,"column":8},"end":{"line":65,"column":9}},"2":{"start":{"line":52,"column":12},"end":{"line":52,"column":30}},"3":{"start":{"line":53,"column":12},"end":{"line":53,"column":40}},"4":{"start":{"line":54,"column":12},"end":{"line":54,"column":36}},"5":{"start":{"line":55,"column":12},"end":{"line":55,"column":46}},"6":{"start":{"line":56,"column":12},"end":{"line":56,"column":34}},"7":{"start":{"line":57,"column":12},"end":{"line":57,"column":50}},"8":{"start":{"line":58,"column":12},"end":{"line":58,"column":34}},"9":{"start":{"line":59,"column":12},"end":{"line":59,"column":40}},"10":{"start":{"line":60,"column":12},"end":{"line":60,"column":38}},"11":{"start":{"line":61,"column":12},"end":{"line":61,"column":36}},"12":{"start":{"line":62,"column":12},"end":{"line":62,"column":46}},"13":{"start":{"line":63,"column":12},"end":{"line":63,"column":38}},"14":{"start":{"line":64,"column":12},"end":{"line":64,"column":36}},"15":{"start":{"line":68,"column":0},"end":{"line":68,"column":22}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":50,"column":4},"end":{"line":50,"column":5}},"loc":{"start":{"line":50,"column":22},"end":{"line":66,"column":5}},"line":50}},"branchMap":{"0":{"loc":{"start":{"line":51,"column":8},"end":{"line":65,"column":9}},"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":65,"column":9}},{"start":{"line":51,"column":8},"end":{"line":65,"column":9}}],"line":51}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1},"f":{"0":1},"b":{"0":[1,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/models/Movie.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/models/Movie.ts"],"names":[],"mappings":";;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA6CG;AACH,MAAa,KAAK;IAgBd,YAAY,IAAU;QAClB,IAAI,IAAI,EAAE;YACN,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;YAClB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAClC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACtB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YACtC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACtB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YAC5B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC1B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YAClC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC1B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;SAC3B;IACL,CAAC;CACJ;AAjCD,sBAiCC","sourcesContent":["import { Actor } from \"./Actor\";\n\n/**\n * @swagger\n *\n * components:\n *   schemas:\n *     Movie:\n *       type: object\n *       required:\n *         - id\n *         - movieId\n *         - textSearch\n *         - title\n *         - type\n *         - partitionKey\n *       properties:\n *         id:\n *           type: string\n *         movieId:\n *           type: string\n *         textSearch:\n *           type: string\n *         title:\n *           type: string\n *         type:\n *           type: string\n *           enum:\n *             - Movie\n *         partitionKey:\n *           type: string\n *         year:\n *           type: number\n *         runtime:\n *           type: number\n *         rating:\n *           type: number\n *         votes:\n *           type: number\n *         genres:\n *           type: array\n *           items:\n *             type: string\n *         roles:\n *           type: array\n *           items:\n *             $ref: '#/components/schemas/Actor'\n */\nexport class Movie {\n\n    public id: string;\n    public movieId: string;\n    public title: string;\n    public textSearch: string;\n    public type: string;\n    public partitionKey: string;\n    public year?: number;\n    public runtime?: number;\n    public rating?: number;\n    public votes?: number;\n    public totalScore?: number;\n    public genres?: string[];\n    public roles?: Actor[];\n\n    constructor(data?: any) {\n        if (data) {\n            this.id = data.id;\n            this.movieId = data.movieId;\n            this.title = data.title;\n            this.textSearch = data.textSearch;\n            this.type = data.type;\n            this.partitionKey = data.partitionKey;\n            this.year = data.year;\n            this.runtime = data.runtime;\n            this.rating = data.rating;\n            this.votes = data.votes;\n            this.totalScore = data.totalScore;\n            this.genres = data.genres;\n            this.roles = data.roles;\n        }\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b1a591b7fdb7dfe88e0ab4961dab117968b286aa"},"/mnt/c/code/retaildevcrews/helium-typescript/src/HeliumServer.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/HeliumServer.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":19},"end":{"line":12,"column":41}},"14":{"start":{"line":13,"column":0},"end":{"line":13,"column":28}},"15":{"start":{"line":14,"column":25},"end":{"line":14,"column":63}},"16":{"start":{"line":15,"column":34},"end":{"line":15,"column":68}},"17":{"start":{"line":16,"column":23},"end":{"line":16,"column":48}},"18":{"start":{"line":17,"column":21},"end":{"line":17,"column":55}},"19":{"start":{"line":18,"column":20},"end":{"line":18,"column":49}},"20":{"start":{"line":19,"column":16},"end":{"line":19,"column":34}},"21":{"start":{"line":22,"column":8},"end":{"line":22,"column":35}},"22":{"start":{"line":23,"column":8},"end":{"line":23,"column":100}},"23":{"start":{"line":24,"column":8},"end":{"line":25,"column":51}},"24":{"start":{"line":25,"column":12},"end":{"line":25,"column":51}},"25":{"start":{"line":26,"column":8},"end":{"line":26,"column":61}},"26":{"start":{"line":27,"column":8},"end":{"line":27,"column":59}},"27":{"start":{"line":28,"column":8},"end":{"line":28,"column":63}},"28":{"start":{"line":29,"column":8},"end":{"line":29,"column":41}},"29":{"start":{"line":32,"column":8},"end":{"line":61,"column":19}},"30":{"start":{"line":34,"column":12},"end":{"line":40,"column":63}},"31":{"start":{"line":42,"column":12},"end":{"line":45,"column":16}},"32":{"start":{"line":46,"column":12},"end":{"line":53,"column":15}},"33":{"start":{"line":47,"column":16},"end":{"line":50,"column":19}},"34":{"start":{"line":51,"column":16},"end":{"line":51,"column":47}},"35":{"start":{"line":52,"column":16},"end":{"line":52,"column":26}},"36":{"start":{"line":54,"column":12},"end":{"line":56,"column":16}},"37":{"start":{"line":57,"column":12},"end":{"line":60,"column":15}},"38":{"start":{"line":58,"column":16},"end":{"line":58,"column":60}},"39":{"start":{"line":59,"column":16},"end":{"line":59,"column":46}},"40":{"start":{"line":64,"column":8},"end":{"line":71,"column":11}},"41":{"start":{"line":65,"column":12},"end":{"line":70,"column":15}},"42":{"start":{"line":66,"column":16},"end":{"line":69,"column":19}},"43":{"start":{"line":67,"column":20},"end":{"line":67,"column":99}},"44":{"start":{"line":68,"column":20},"end":{"line":68,"column":30}},"45":{"start":{"line":74,"column":8},"end":{"line":75,"column":32}},"46":{"start":{"line":75,"column":12},"end":{"line":75,"column":32}},"47":{"start":{"line":78,"column":0},"end":{"line":78,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":27},"end":{"line":30,"column":5}},"line":21},"8":{"name":"(anonymous_8)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":18},"end":{"line":62,"column":5}},"line":31},"9":{"name":"(anonymous_9)","decl":{"start":{"line":32,"column":46},"end":{"line":32,"column":47}},"loc":{"start":{"line":32,"column":53},"end":{"line":61,"column":9}},"line":32},"10":{"name":"(anonymous_10)","decl":{"start":{"line":46,"column":25},"end":{"line":46,"column":26}},"loc":{"start":{"line":46,"column":39},"end":{"line":53,"column":13}},"line":46},"11":{"name":"(anonymous_11)","decl":{"start":{"line":57,"column":32},"end":{"line":57,"column":33}},"loc":{"start":{"line":57,"column":46},"end":{"line":60,"column":13}},"line":57},"12":{"name":"(anonymous_12)","decl":{"start":{"line":63,"column":4},"end":{"line":63,"column":5}},"loc":{"start":{"line":63,"column":12},"end":{"line":72,"column":5}},"line":63},"13":{"name":"(anonymous_13)","decl":{"start":{"line":64,"column":47},"end":{"line":64,"column":48}},"loc":{"start":{"line":64,"column":60},"end":{"line":71,"column":9}},"line":64},"14":{"name":"(anonymous_14)","decl":{"start":{"line":65,"column":31},"end":{"line":65,"column":32}},"loc":{"start":{"line":65,"column":42},"end":{"line":70,"column":13}},"line":65},"15":{"name":"(anonymous_15)","decl":{"start":{"line":66,"column":59},"end":{"line":66,"column":60}},"loc":{"start":{"line":66,"column":65},"end":{"line":69,"column":17}},"line":66},"16":{"name":"(anonymous_16)","decl":{"start":{"line":73,"column":4},"end":{"line":73,"column":5}},"loc":{"start":{"line":73,"column":11},"end":{"line":76,"column":5}},"line":73}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":24,"column":8},"end":{"line":25,"column":51}},"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":25,"column":51}},{"start":{"line":24,"column":8},"end":{"line":25,"column":51}}],"line":24},"6":{"loc":{"start":{"line":74,"column":8},"end":{"line":75,"column":32}},"type":"if","locations":[{"start":{"line":74,"column":8},"end":{"line":75,"column":32}},{"start":{"line":74,"column":8},"end":{"line":75,"column":32}}],"line":74}},"s":{"0":1,"1":0,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":0,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":0,"34":0,"35":0,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1},"f":{"0":1,"1":0,"2":0,"3":1,"4":0,"5":0,"6":1,"7":1,"8":1,"9":1,"10":0,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"b":{"0":[1,1,1],"1":[0,0],"2":[1,1],"3":[1,0],"4":[1,1],"5":[0,1],"6":[1,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/HeliumServer.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/HeliumServer.ts"],"names":[],"mappings":"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","sourcesContent":["import * as bodyParser from \"body-parser\";\nimport \"reflect-metadata\";\nimport EndpointLogger from \"./middleware/EndpointLogger\";\nimport { DataService, TelemetryService, LogService } from \"./services\";\nimport { Container } from \"inversify\";\nimport { InversifyRestifyServer } from \"inversify-restify-utils\";\nimport { ConfigValues } from \"./config/config\";\nimport { html } from \"./swagger-html\";\nimport { robotsHandler } from \"./middleware/robotsText\";\nimport { version } from \"./config/constants\";\nimport restify = require(\"restify\");\n\nexport class HeliumServer {\n    private server: restify.Server;\n    private inversifyServer: InversifyRestifyServer;\n    private telemetryService: TelemetryService;\n    private dataService: DataService;\n    private logService: LogService;\n    private configValues: ConfigValues;\n\n    constructor(private container: Container) {\n        this.inversifyServer = new InversifyRestifyServer(this.container);\n        if(this.container.isBound(\"TelemetryService\"))\n            this.container.get<TelemetryService>(\"TelemetryService\")\n        this.dataService = this.container.get<DataService>(\"DataService\");\n        this.logService = this.container.get<LogService>(\"LogService\");\n        this.configValues = this.container.get<ConfigValues>(\"ConfigValues\");\n        this.server = this.serverSetup();\n    }\n\n    serverSetup() {\n        return this.inversifyServer.setConfig(app => {\n            // middleware\n            app\n                .use(bodyParser.urlencoded({ extended: true }))\n                .pre(robotsHandler)\n                .use(restify.plugins.queryParser({ mapParams: false }))\n                .use(bodyParser.json())\n                .use(restify.plugins.requestLogger())\n                .use(EndpointLogger(this.container));\n\n            // routes\n            app.get(\"/swagger/*\", restify.plugins.serveStatic({\n                directory: __dirname + \"/..\",\n                default: \"swagger.json\",\n            }));\n\n            app.get(\"/\", (req, res) => {\n                res.writeHead(200, {\n                    \"Content-Length\": Buffer.byteLength(html),\n                    \"Content-Type\": \"text/html\",\n                });\n                res.write(html);\n                res.end();\n            });\n\n            app.get(\"/node_modules/swagger-ui-dist/*\", restify.plugins.serveStatic({\n                directory: __dirname + \"/..\",\n            }));\n\n            app.get(\"/version\", (req, res) => {\n                res.setHeader(\"Content-Type\", \"text/plain\");\n                res.send(version);\n            });\n        }).build();\n    }\n\n    public async start() {\n        return new Promise(resolve => {\n            this.server.listen(this.configValues.port, () => {\n                this.logService.trace(`Server is listening on port ${this.configValues.port}`);\n                resolve();\n            });\n        });\n    }\n\n    public stop() {\n        if (this.server) this.server.close();\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7cf09d451b01414bc5bc213ee6fa01e3db865ff1"},"/mnt/c/code/retaildevcrews/helium-typescript/src/middleware/EndpointLogger.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/middleware/EndpointLogger.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":10,"column":16},"end":{"line":10,"column":43}},"2":{"start":{"line":12,"column":4},"end":{"line":23,"column":6}},"3":{"start":{"line":14,"column":8},"end":{"line":20,"column":12}},"4":{"start":{"line":15,"column":12},"end":{"line":19,"column":13}},"5":{"start":{"line":17,"column":32},"end":{"line":17,"column":58}},"6":{"start":{"line":18,"column":16},"end":{"line":18,"column":80}},"7":{"start":{"line":22,"column":8},"end":{"line":22,"column":15}},"8":{"start":{"line":25,"column":0},"end":{"line":25,"column":35}}},"fnMap":{"0":{"name":"responseDuration","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":25}},"loc":{"start":{"line":8,"column":37},"end":{"line":24,"column":1}},"line":8},"1":{"name":"responseStatus","decl":{"start":{"line":12,"column":20},"end":{"line":12,"column":34}},"loc":{"start":{"line":12,"column":51},"end":{"line":23,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":26},"end":{"line":14,"column":27}},"loc":{"start":{"line":14,"column":32},"end":{"line":20,"column":9}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":12},"end":{"line":19,"column":13}},"type":"if","locations":[{"start":{"line":15,"column":12},"end":{"line":19,"column":13}},{"start":{"line":15,"column":12},"end":{"line":19,"column":13}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":73,"4":71,"5":54,"6":54,"7":73,"8":1},"f":{"0":1,"1":73,"2":71},"b":{"0":[54,17]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/middleware/EndpointLogger.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/middleware/EndpointLogger.ts"],"names":[],"mappings":";;AAIA;;;;GAIG;AACH,SAAwB,gBAAgB,CAAC,SAAoB;IACzD,qBAAqB;IACrB,MAAM,GAAG,GAAe,SAAS,CAAC,GAAG,CAAa,YAAY,CAAC,CAAC;IAEhE,0DAA0D;IAC1D,OAAO,SAAS,cAAc,CAAC,GAAoB,EAAE,GAAqB,EAAE,IAAI;QAE5E,+CAA+C;QAC/C,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,GAAG,EAAE;YACnB,IAAI,GAAG,CAAC,UAAU,GAAG,GAAG,EAAE;gBACtB,uDAAuD;gBACvD,MAAM,OAAO,GAAG,GAAG,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,GAAG,EAAE,CAAC;gBAC3C,GAAG,CAAC,KAAK,CAAC,OAAO,GAAG,YAAY,GAAG,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC;aACnE;QACL,CAAC,CAAC,CAAC,CAAC;QAEJ,uBAAuB;QACvB,IAAI,EAAE,CAAC;IACX,CAAC,CAAC;AACN,CAAC;AAnBD,mCAmBC","sourcesContent":["import * as restify from \"restify\";\nimport { Container } from \"inversify\";\nimport { LogService } from \"../services/LogService\";\n\n/**\n * Endpoint logger\n * Adds failure logs to every endpoint\n * @param container The inversify container with the logger client\n */\nexport default function responseDuration(container: Container) {\n    // get the log client\n    const log: LogService = container.get<LogService>(\"LogService\");\n\n    // return a function with the correct middleware signature\n    return function responseStatus(req: restify.Request, res: restify.Response, next) {\n\n        // hook into response finish to log call result\n        res.on(\"finish\", (() => {\n            if (res.statusCode > 399) {\n                // create string unique to this action at this endpoint\n                const apiName = `${req.method} ${req.url}`;\n                log.trace(apiName + \"  Result: \" + res.statusCode, req.getId());\n            }\n        }));\n\n        // call next middleware\n        next();\n    };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"81db5f37ef1912c0aeed4266725d792a51f51fa3"},"/mnt/c/code/retaildevcrews/helium-typescript/src/swagger-html.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/swagger-html.ts","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":62}},"1":{"start":{"line":4,"column":0},"end":{"line":64,"column":25}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/swagger-html.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/swagger-html.ts"],"names":[],"mappings":";AAAA,sBAAsB;;AAET,QAAA,IAAI,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wBA4DI,CAAC","sourcesContent":["// HTML for Swagger UI\n\nexport const html = `<!DOCTYPE html>\n                <html lang=\"en\">\n                <head>\n                    <meta charset=\"UTF-8\">\n                    <title>Swagger UI</title>\n                    <link rel=\"stylesheet\" type=\"text/css\" href=\"/node_modules/swagger-ui-dist/swagger-ui.css\" >\n                    <link rel=\"icon\" type=\"image/png\"\n                    href=\"/node_modules/swagger-ui-dist/favicon-32x32.png\" sizes=\"32x32\" />\n                    <link rel=\"icon\" type=\"image/png\"\n                    href=\"/node_modules/swagger-ui-dist/favicon-16x16.png\" sizes=\"16x16\" />\n                    <style>\n                    html\n                    {\n                        box-sizing: border-box;\n                        overflow: -moz-scrollbars-vertical;\n                        overflow-y: scroll;\n                    }\n\n                    *,\n                    *:before,\n                    *:after\n                    {\n                        box-sizing: inherit;\n                    }\n\n                    body\n                    {\n                        margin:0;\n                        background: #fafafa;\n                    }\n                    </style>\n                </head>\n\n                <body>\n                    <div id=\"swagger-ui\"></div>\n\n                    <script src=\"/node_modules/swagger-ui-dist/swagger-ui-bundle.js\"> </script>\n                    <script src=\"/node_modules/swagger-ui-dist/swagger-ui-standalone-preset.js\"> </script>\n                    <script>\n                    window.onload = function() {\n                        // Begin Swagger UI call region\n                        const ui = SwaggerUIBundle({\n                            url: '/swagger/swagger.json',\n                            dom_id: '#swagger-ui',\n                            deepLinking: true,\n                            presets: [\n                            SwaggerUIBundle.presets.apis,\n                            SwaggerUIStandalonePreset\n                            ],\n                            plugins: [\n                            SwaggerUIBundle.plugins.DownloadUrl\n                            ],\n                            layout: \"StandaloneLayout\"\n                        })\n                        // End Swagger UI call region\n\n                        window.ui = ui\n                    }\n                </script>\n                </body>\n                </html>`;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"00b6e44a620c73efa2d5064f3cafc085b90a1906"},"/mnt/c/code/retaildevcrews/helium-typescript/src/middleware/robotsText.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/middleware/robotsText.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":10,"column":27},"end":{"line":10,"column":83}},"2":{"start":{"line":11,"column":17},"end":{"line":11,"column":37}},"3":{"start":{"line":12,"column":4},"end":{"line":21,"column":5}},"4":{"start":{"line":13,"column":8},"end":{"line":16,"column":11}},"5":{"start":{"line":17,"column":8},"end":{"line":17,"column":34}},"6":{"start":{"line":20,"column":8},"end":{"line":20,"column":15}},"7":{"start":{"line":23,"column":0},"end":{"line":23,"column":38}}},"fnMap":{"0":{"name":"robotsHandler","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":22}},"loc":{"start":{"line":9,"column":39},"end":{"line":22,"column":1}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":4},"end":{"line":21,"column":5}},"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":21,"column":5}},{"start":{"line":12,"column":4},"end":{"line":21,"column":5}}],"line":12},"1":{"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":121}},"type":"binary-expr","locations":[{"start":{"line":12,"column":8},"end":{"line":12,"column":27}},{"start":{"line":12,"column":31},"end":{"line":12,"column":76}},{"start":{"line":12,"column":80},"end":{"line":12,"column":121}}],"line":12}},"s":{"0":1,"1":77,"2":77,"3":77,"4":2,"5":2,"6":75,"7":1},"f":{"0":77},"b":{"0":[2,75],"1":[77,4,2]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/middleware/robotsText.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/middleware/robotsText.ts"],"names":[],"mappings":";;AAAA;;;;;GAKG;AACH,SAAgB,aAAa,CAAC,GAAQ,EAAE,GAAQ,EAAE,IAAI;IAClD,MAAM,cAAc,GAAG,wDAAwD,CAAC;IAChF,MAAM,IAAI,GAAW,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IAE1C,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAG;QACpH,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE;YACf,gBAAgB,EAAE,MAAM,CAAC,UAAU,CAAC,cAAc,CAAC;YACnD,cAAc,EAAE,YAAY;SAC/B,CAAC,CAAC;QACH,GAAG,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;KAC7B;SAAM;QACH,IAAI,EAAE,CAAC;KACV;AACL,CAAC;AAbD,sCAaC","sourcesContent":["/**\n * Handles /robots*.txt requests\n * App Service sends a warmup request of /robots8327.txt (where 8327 is a random number)\n * this causes a 404 error which appears in Azure Monitor as a false issue\n * this also handles a real /robots.txt request to prevent indexing\n */\nexport function robotsHandler(req: any, res: any, next) {\n    const robotsResponse = \"# Prevent indexing\\r\\nUser-agent: *\\r\\nDisallow: /\\r\\n\";\n    const path: string = req.url.substring(1);\n\n    if (!path.includes(\"/\") && path.toLocaleLowerCase().startsWith(\"robots\") && path.toLocaleLowerCase().endsWith(\".txt\") ) {\n        res.writeHead(200, {\n            \"Content-Length\": Buffer.byteLength(robotsResponse),\n            \"Content-Type\": \"text/plain\",\n        });\n        res.write(robotsResponse);\n    } else {\n        next();\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"be89428f2c4c98534f904d252f05e1c3bc307de7"},"/mnt/c/code/retaildevcrews/helium-typescript/src/config/config.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/config/config.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":26},"end":{"line":12,"column":64}},"14":{"start":{"line":13,"column":20},"end":{"line":13,"column":42}},"15":{"start":{"line":16,"column":4},"end":{"line":60,"column":7}},"16":{"start":{"line":18,"column":21},"end":{"line":18,"column":45}},"17":{"start":{"line":26,"column":8},"end":{"line":33,"column":9}},"18":{"start":{"line":27,"column":12},"end":{"line":27,"column":89}},"19":{"start":{"line":28,"column":12},"end":{"line":28,"column":33}},"20":{"start":{"line":31,"column":12},"end":{"line":31,"column":62}},"21":{"start":{"line":32,"column":12},"end":{"line":32,"column":19}},"22":{"start":{"line":35,"column":8},"end":{"line":44,"column":9}},"23":{"start":{"line":36,"column":12},"end":{"line":36,"column":74}},"24":{"start":{"line":37,"column":12},"end":{"line":37,"column":74}},"25":{"start":{"line":38,"column":12},"end":{"line":38,"column":76}},"26":{"start":{"line":39,"column":12},"end":{"line":39,"column":80}},"27":{"start":{"line":42,"column":12},"end":{"line":42,"column":89}},"28":{"start":{"line":43,"column":12},"end":{"line":43,"column":19}},"29":{"start":{"line":46,"column":8},"end":{"line":51,"column":9}},"30":{"start":{"line":47,"column":12},"end":{"line":47,"column":79}},"31":{"start":{"line":50,"column":12},"end":{"line":50,"column":59}},"32":{"start":{"line":52,"column":8},"end":{"line":59,"column":10}},"33":{"start":{"line":62,"column":0},"end":{"line":62,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"getConfigValues","decl":{"start":{"line":15,"column":9},"end":{"line":15,"column":24}},"loc":{"start":{"line":15,"column":53},"end":{"line":61,"column":1}},"line":15},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":43},"end":{"line":16,"column":44}},"loc":{"start":{"line":16,"column":56},"end":{"line":60,"column":5}},"line":16}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":6,"2":0,"3":1,"4":6,"5":6,"6":0,"7":0,"8":0,"9":0,"10":7,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":0,"22":1,"23":1,"24":1,"25":1,"26":1,"27":0,"28":0,"29":1,"30":1,"31":0,"32":1,"33":1},"f":{"0":1,"1":6,"2":0,"3":1,"4":6,"5":0,"6":7,"7":1,"8":1},"b":{"0":[1,1,1],"1":[6,0],"2":[1,1],"3":[1,6],"4":[1,1]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/config/config.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/config/config.ts"],"names":[],"mappings":";;;;;;;;;;;AACA,iEAA8D;AAC9D,2CAGqB;AAErB,uFAAuF;AACvF,SAAsB,eAAe,CACjC,WAAmB,EACnB,QAAgB,EAChB,GAAe;;QAGf,kCAAkC;QAClC,MAAM,IAAI,GAAG,wBAAY,CAAC;QAE1B,uCAAuC;QACvC,IAAI,WAAmB,CAAC;QACxB,IAAI,WAAmB,CAAC;QACxB,IAAI,QAAgB,CAAC;QACrB,IAAI,UAAkB,CAAC;QACvB,IAAI,WAAmB,CAAC;QAExB,IAAI,QAAyB,CAAC;QAC9B,IAAI;YACA,QAAQ,GAAG,IAAI,iCAAe,CAAC,WAAW,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC;YAC3D,MAAM,QAAQ,CAAC,KAAK,CAAC;SACxB;QAAC,OAAO,GAAG,EAAE;YACV,GAAG,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,uBAAuB,GAAG,GAAG,CAAC,CAAC;YAClD,OAAO;SACV;QAED,gCAAgC;QAChC,IAAI;YACA,WAAW,GAAG,MAAM,QAAQ,CAAC,SAAS,CAAC,qBAAS,CAAC,CAAC;YAClD,WAAW,GAAG,MAAM,QAAQ,CAAC,SAAS,CAAC,qBAAS,CAAC,CAAC;YAClD,QAAQ,GAAG,MAAM,QAAQ,CAAC,SAAS,CAAC,0BAAc,CAAC,CAAC;YACpD,UAAU,GAAG,MAAM,QAAQ,CAAC,SAAS,CAAC,4BAAgB,CAAC,CAAC;SAC3D;QAAC,WAAM;YACJ,GAAG,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,wDAAwD,CAAC,CAAC;YAC7E,OAAO;SACV;QAED,gCAAgC;QAChC,IAAI;YACA,WAAW,GAAG,MAAM,QAAQ,CAAC,SAAS,CAAC,0BAAc,CAAC,CAAC;SAC1D;QAAC,WAAM;YACJ,GAAG,CAAC,KAAK,CAAC,mCAAmC,CAAC,CAAC;SAClD;QAED,OAAO;YACH,IAAI;YACJ,WAAW;YACX,WAAW;YACX,QAAQ;YACR,UAAU;YACV,WAAW;SACd,CAAC;IACN,CAAC;CAAA;AAnDD,0CAmDC","sourcesContent":["import { LogService } from \"../services/LogService\";\nimport { KeyVaultService } from \"../services/KeyVaultService\";\nimport {\n    cosmosCollection, cosmosDatabase, cosmosKey, cosmosUrl,\n    appInsightsKey, portConstant,\n} from \"./constants\";\n\n// Gets configuration details needed to connect to KeyVault, CosmosDB, and AppInsights.\nexport async function getConfigValues(\n    keyVaultUrl: string,\n    authType: string,\n    log: LogService\n): Promise<ConfigValues> {\n\n    // use default port from constants\n    const port = portConstant;\n\n    // cosmos db secrets come from KeyVault\n    let cosmosDbKey: string;\n    let cosmosDbUrl: string;\n    let database: string;\n    let collection: string;\n    let insightsKey: string;\n\n    let keyvault: KeyVaultService;\n    try {\n        keyvault = new KeyVaultService(keyVaultUrl, authType, log);\n        await keyvault.ready;\n    } catch (err) {\n        log.error(Error(), \"Key Vault Exception: \" + err);\n        return;\n    }\n\n    // get Cosmos DB related secrets\n    try {\n        cosmosDbKey = await keyvault.getSecret(cosmosKey);\n        cosmosDbUrl = await keyvault.getSecret(cosmosUrl);\n        database = await keyvault.getSecret(cosmosDatabase);\n        collection = await keyvault.getSecret(cosmosCollection);\n    } catch {\n        log.error(Error(), \"Failed to get required Cosmos DB secrets from KeyVault\");\n        return;\n    }\n\n    // get optional App Insights Key\n    try {\n        insightsKey = await keyvault.getSecret(appInsightsKey);\n    } catch {\n        log.trace(\"Application Insights key not set.\");\n    }\n\n    return {\n        port,\n        cosmosDbKey,\n        cosmosDbUrl,\n        database,\n        collection,\n        insightsKey,\n    };\n}\n\nexport interface ConfigValues {\n    port: string;\n    cosmosDbKey: string;\n    cosmosDbUrl: string;\n    database: string;\n    collection: string;\n    insightsKey: string;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"69977b87d04c2001386206e188d843e5fa5dfd3f"},"/mnt/c/code/retaildevcrews/helium-typescript/src/services/KeyVaultService.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/KeyVaultService.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":73}},"15":{"start":{"line":12,"column":36},"end":{"line":12,"column":71}},"16":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"17":{"start":{"line":15,"column":28},"end":{"line":15,"column":110}},"18":{"start":{"line":15,"column":91},"end":{"line":15,"column":106}},"19":{"start":{"line":16,"column":4},"end":{"line":21,"column":7}},"20":{"start":{"line":17,"column":36},"end":{"line":17,"column":97}},"21":{"start":{"line":17,"column":42},"end":{"line":17,"column":70}},"22":{"start":{"line":17,"column":85},"end":{"line":17,"column":95}},"23":{"start":{"line":18,"column":35},"end":{"line":18,"column":100}},"24":{"start":{"line":18,"column":41},"end":{"line":18,"column":73}},"25":{"start":{"line":18,"column":88},"end":{"line":18,"column":98}},"26":{"start":{"line":19,"column":32},"end":{"line":19,"column":116}},"27":{"start":{"line":20,"column":8},"end":{"line":20,"column":78}},"28":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"29":{"start":{"line":25,"column":27},"end":{"line":25,"column":61}},"30":{"start":{"line":26,"column":20},"end":{"line":26,"column":40}},"31":{"start":{"line":27,"column":21},"end":{"line":27,"column":44}},"32":{"start":{"line":28,"column":23},"end":{"line":28,"column":57}},"33":{"start":{"line":32,"column":22},"end":{"line":83,"column":1}},"34":{"start":{"line":38,"column":8},"end":{"line":38,"column":23}},"35":{"start":{"line":39,"column":8},"end":{"line":39,"column":33}},"36":{"start":{"line":40,"column":8},"end":{"line":40,"column":29}},"37":{"start":{"line":41,"column":8},"end":{"line":48,"column":9}},"38":{"start":{"line":42,"column":12},"end":{"line":42,"column":43}},"39":{"start":{"line":45,"column":30},"end":{"line":45,"column":95}},"40":{"start":{"line":46,"column":12},"end":{"line":46,"column":44}},"41":{"start":{"line":47,"column":12},"end":{"line":47,"column":39}},"42":{"start":{"line":55,"column":8},"end":{"line":71,"column":11}},"43":{"start":{"line":56,"column":12},"end":{"line":56,"column":29}},"44":{"start":{"line":57,"column":12},"end":{"line":70,"column":13}},"45":{"start":{"line":58,"column":42},"end":{"line":58,"column":75}},"46":{"start":{"line":59,"column":16},"end":{"line":59,"column":30}},"47":{"start":{"line":62,"column":16},"end":{"line":69,"column":17}},"48":{"start":{"line":63,"column":20},"end":{"line":63,"column":66}},"49":{"start":{"line":64,"column":20},"end":{"line":64,"column":31}},"50":{"start":{"line":67,"column":20},"end":{"line":67,"column":92}},"51":{"start":{"line":68,"column":20},"end":{"line":68,"column":69}},"52":{"start":{"line":74,"column":8},"end":{"line":81,"column":11}},"53":{"start":{"line":76,"column":26},"end":{"line":78,"column":104}},"54":{"start":{"line":79,"column":12},"end":{"line":79,"column":79}},"55":{"start":{"line":80,"column":12},"end":{"line":80,"column":19}},"56":{"start":{"line":84,"column":0},"end":{"line":88,"column":20}},"57":{"start":{"line":89,"column":0},"end":{"line":89,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":40},"end":{"line":11,"column":41}},"loc":{"start":{"line":11,"column":73},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":11},"end":{"line":12,"column":12}},"loc":{"start":{"line":12,"column":34},"end":{"line":12,"column":73}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":44},"end":{"line":14,"column":45}},"loc":{"start":{"line":14,"column":89},"end":{"line":22,"column":1}},"line":14},"5":{"name":"adopt","decl":{"start":{"line":15,"column":13},"end":{"line":15,"column":18}},"loc":{"start":{"line":15,"column":26},"end":{"line":15,"column":112}},"line":15},"6":{"name":"(anonymous_6)","decl":{"start":{"line":15,"column":70},"end":{"line":15,"column":71}},"loc":{"start":{"line":15,"column":89},"end":{"line":15,"column":108}},"line":15},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":36},"end":{"line":16,"column":37}},"loc":{"start":{"line":16,"column":63},"end":{"line":21,"column":5}},"line":16},"8":{"name":"fulfilled","decl":{"start":{"line":17,"column":17},"end":{"line":17,"column":26}},"loc":{"start":{"line":17,"column":34},"end":{"line":17,"column":99}},"line":17},"9":{"name":"rejected","decl":{"start":{"line":18,"column":17},"end":{"line":18,"column":25}},"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":102}},"line":18},"10":{"name":"step","decl":{"start":{"line":19,"column":17},"end":{"line":19,"column":21}},"loc":{"start":{"line":19,"column":30},"end":{"line":19,"column":118}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":39},"end":{"line":49,"column":5}},"line":37},"12":{"name":"(anonymous_12)","decl":{"start":{"line":54,"column":4},"end":{"line":54,"column":5}},"loc":{"start":{"line":54,"column":20},"end":{"line":72,"column":5}},"line":54},"13":{"name":"(anonymous_13)","decl":{"start":{"line":55,"column":47},"end":{"line":55,"column":48}},"loc":{"start":{"line":55,"column":60},"end":{"line":71,"column":9}},"line":55},"14":{"name":"(anonymous_14)","decl":{"start":{"line":73,"column":4},"end":{"line":73,"column":5}},"loc":{"start":{"line":73,"column":17},"end":{"line":82,"column":5}},"line":73},"15":{"name":"(anonymous_15)","decl":{"start":{"line":74,"column":47},"end":{"line":74,"column":48}},"loc":{"start":{"line":74,"column":60},"end":{"line":81,"column":9}},"line":74}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":15},"end":{"line":11,"column":19}},{"start":{"line":11,"column":23},"end":{"line":11,"column":35}},{"start":{"line":11,"column":40},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":17},"end":{"line":14,"column":21}},{"start":{"line":14,"column":25},"end":{"line":14,"column":39}},{"start":{"line":14,"column":44},"end":{"line":22,"column":1}}],"line":14},"15":{"loc":{"start":{"line":15,"column":35},"end":{"line":15,"column":109}},"type":"cond-expr","locations":[{"start":{"line":15,"column":56},"end":{"line":15,"column":61}},{"start":{"line":15,"column":64},"end":{"line":15,"column":109}}],"line":15},"16":{"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":34}},"type":"binary-expr","locations":[{"start":{"line":16,"column":16},"end":{"line":16,"column":17}},{"start":{"line":16,"column":22},"end":{"line":16,"column":33}}],"line":16},"17":{"loc":{"start":{"line":19,"column":32},"end":{"line":19,"column":115}},"type":"cond-expr","locations":[{"start":{"line":19,"column":46},"end":{"line":19,"column":67}},{"start":{"line":19,"column":70},"end":{"line":19,"column":115}}],"line":19},"18":{"loc":{"start":{"line":20,"column":51},"end":{"line":20,"column":67}},"type":"binary-expr","locations":[{"start":{"line":20,"column":51},"end":{"line":20,"column":61}},{"start":{"line":20,"column":65},"end":{"line":20,"column":67}}],"line":20},"19":{"loc":{"start":{"line":62,"column":16},"end":{"line":69,"column":17}},"type":"if","locations":[{"start":{"line":62,"column":16},"end":{"line":69,"column":17}},{"start":{"line":62,"column":16},"end":{"line":69,"column":17}}],"line":62},"20":{"loc":{"start":{"line":76,"column":26},"end":{"line":78,"column":104}},"type":"cond-expr","locations":[{"start":{"line":77,"column":16},"end":{"line":77,"column":100}},{"start":{"line":78,"column":16},"end":{"line":78,"column":104}}],"line":76},"21":{"loc":{"start":{"line":87,"column":53},"end":{"line":87,"column":169}},"type":"cond-expr","locations":[{"start":{"line":87,"column":158},"end":{"line":87,"column":160}},{"start":{"line":87,"column":163},"end":{"line":87,"column":169}}],"line":87},"22":{"loc":{"start":{"line":87,"column":66},"end":{"line":87,"column":139}},"type":"binary-expr","locations":[{"start":{"line":87,"column":66},"end":{"line":87,"column":112}},{"start":{"line":87,"column":116},"end":{"line":87,"column":139}}],"line":87}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":11,"18":0,"19":6,"20":11,"21":11,"22":0,"23":0,"24":0,"25":0,"26":17,"27":6,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":0,"40":0,"41":0,"42":5,"43":5,"44":5,"45":5,"46":5,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":6,"5":11,"6":0,"7":6,"8":11,"9":0,"10":17,"11":1,"12":5,"13":5,"14":1,"15":1},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[1,0],"4":[1,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[1,0,0],"10":[1,1,1],"11":[1,0],"12":[1,1],"13":[1,1,1],"14":[1,1,1],"15":[11,0],"16":[6,6],"17":[6,11],"18":[6,6],"19":[0,0],"20":[0,1],"21":[0,1],"22":[1,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/KeyVaultService.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/services/KeyVaultService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,8DAAuD;AACvD,yCAA+C;AAC/C,6CAA0C;AAC1C,0DAA0D;AAE1D;;GAEG;AAEH,IAAa,eAAe,GAA5B,MAAa,eAAe;IAMxB;;;OAGG;IACH,YAAoB,GAAW,EAAU,QAAgB,EAAgC,MAAkB;QAAvF,QAAG,GAAH,GAAG,CAAQ;QAAU,aAAQ,GAAR,QAAQ,CAAQ;QAAgC,WAAM,GAAN,MAAM,CAAY;QACvG,IAAI;YACA,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;SAClC;QACD,OAAO,CAAC,EAAE;YACN,MAAM,SAAS,GAAG,iEAAiE,CAAC;YACpF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;YAChC,MAAM,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC;SAC9B;IACL,CAAC;IAED;;;OAGG;IACU,SAAS,CAAC,IAAY;;YAC/B,MAAM,IAAI,CAAC,KAAK,CAAC;YAEjB,IAAI;gBACA,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBAC5D,OAAO,MAAgB,CAAC;aAC3B;YAAC,OAAO,GAAG,EAAE;gBACV,IAAI,IAAI,KAAK,gBAAgB,EAAE;oBAC3B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;oBAC9C,OAAO,GAAG,CAAC;iBACd;qBAAM;oBACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,wBAAwB,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;oBACxE,MAAM,IAAI,KAAK,CAAC,yBAAyB,IAAI,EAAE,CAAC,CAAC;iBACpD;aACJ;QACL,CAAC;KAAA;IAEa,UAAU;;YAEpB,wDAAwD;YACxD,MAAM,KAAK,GAAQ,IAAI,CAAC,QAAQ,KAAK,KAAK,CAAC,CAAC;gBACxC,MAAM,cAAc,CAAC,sBAAsB,CAAC,EAAE,QAAQ,EAAE,yBAAyB,EAAE,CAAC,CAAC,CAAC;gBACtF,MAAM,cAAc,CAAC,mBAAmB,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,yBAAyB,EAAE,CAAC,CAAC;YAE7F,IAAI,CAAC,MAAM,GAAG,IAAI,+BAAY,CAAC,IAAI,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YAChD,OAAO;QACX,CAAC;KAAA;CACJ,CAAA;AApDY,eAAe;IAD3B,sBAAU,EAAE;IAWmD,WAAA,kBAAM,CAAC,YAAY,CAAC,CAAA;yEAAiB,uBAAU,oBAAV,uBAAU;GAVlG,eAAe,CAoD3B;AApDY,0CAAe","sourcesContent":["import { SecretClient } from \"@azure/keyvault-secrets\";\nimport { inject, injectable } from \"inversify\";\nimport { LogService } from \"./LogService\";\nimport * as msRestNodeAuth from \"@azure/ms-rest-nodeauth\";\n\n/**\n * Handles accessing secrets from Azure Key vault.\n */\n@injectable()\nexport class KeyVaultService {\n    private client: SecretClient;\n\n    // ready will resolve when the KeyVaultProvider has been initialized and is ready to use\n    public ready: Promise<void>;\n\n    /**\n     * Creates a new instance of the KeyVaultService class.\n     * @param url The KeyVault testing action URL\n     */\n    constructor(private url: string, private authType: string, @inject(\"LogService\") private logger: LogService) {\n        try {\n            this.ready = this.initialize();\n        }\n        catch (e) {\n            const errorText = \"An error occurred attempting to connect to the Azure Key vault.\";\n            this.logger.error(e, errorText);\n            throw new Error(errorText);\n        }\n    }\n\n    /**\n     * Returns the latest version of the names secret.\n     * @param name The name of the secret.\n     */\n    public async getSecret(name: string): Promise<string> {\n        await this.ready;\n\n        try {\n            const { value: secret } = await this.client.getSecret(name);\n            return secret as string;\n        } catch (err) {\n            if (name === \"AppInsightsKey\") {\n                this.logger.trace(\"App Insights Key not set\");\n                return \" \";\n            } else {\n                this.logger.error(Error(), \"Unable to find secret \" + name + \" \" + err);\n                throw new Error(`Unable to find secret ${name}`);\n            }\n        }\n    }\n\n    private async initialize() {\n\n        // Use specified authentication type (either MSI or CLI)\n        const creds: any = this.authType === \"MSI\" ?\n            await msRestNodeAuth.loginWithAppServiceMSI({ resource: \"https://vault.azure.net\" }) :\n            await msRestNodeAuth.AzureCliCredentials.create({ resource: \"https://vault.azure.net\" });\n\n        this.client = new SecretClient(this.url, creds);\n        return;\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f14765085131a6462dba7957636fb326b870a157"},"/mnt/c/code/retaildevcrews/helium-typescript/src/services/index.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":19},"end":{"line":4,"column":42}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}},"3":{"start":{"line":6,"column":25},"end":{"line":6,"column":54}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":63}},"5":{"start":{"line":8,"column":26},"end":{"line":8,"column":56}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":66}},"7":{"start":{"line":11,"column":24},"end":{"line":11,"column":52}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":60}},"9":{"start":{"line":14,"column":20},"end":{"line":14,"column":44}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":48}},"11":{"start":{"line":16,"column":24},"end":{"line":16,"column":52}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":60}},"13":{"start":{"line":18,"column":24},"end":{"line":18,"column":52}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":60}},"15":{"start":{"line":21,"column":25},"end":{"line":21,"column":54}},"16":{"start":{"line":22,"column":0},"end":{"line":22,"column":63}},"17":{"start":{"line":23,"column":27},"end":{"line":23,"column":58}},"18":{"start":{"line":24,"column":0},"end":{"line":24,"column":69}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/index.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/services/index.ts"],"names":[],"mappings":";;AAAA,UAAU;AACV,2CAA0C;AAAjC,kCAAA,UAAU,CAAA;AACnB,uDAAsD;AAA7C,8CAAA,gBAAgB,CAAA;AACzB,yDAAwD;AAA/C,gDAAA,iBAAiB,CAAA;AAE1B,UAAU;AACV,qDAAoD;AAA3C,4CAAA,eAAe,CAAA;AAExB,OAAO;AACP,6CAA4C;AAAnC,oCAAA,WAAW,CAAA;AACpB,qDAAoD;AAA3C,4CAAA,eAAe,CAAA;AACxB,qDAAoD;AAA3C,4CAAA,eAAe,CAAA;AAExB,YAAY;AACZ,uDAAsD;AAA7C,8CAAA,gBAAgB,CAAA;AACzB,2DAA0D;AAAjD,kDAAA,kBAAkB,CAAA","sourcesContent":["// logging\nexport { LogService } from \"./LogService\";\nexport { BunyanLogService } from \"./BunyanLogService\";\nexport { ConsoleLogService } from \"./ConsoleLogService\";\n\n// secrets\nexport { KeyVaultService } from \"./KeyVaultService\";\n\n// data\nexport { DataService } from \"./DataService\";\nexport { CosmosDBService } from \"./CosmosDBService\";\nexport { JsonDataService } from \"./JsonDataService\";\n\n// telemetry\nexport { TelemetryService } from \"./TelemetryService\";\nexport { AppInsightsService } from \"./AppInsightsService\";\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"91198842313592f8dc9a04816f4dd953ba4a9337"},"/mnt/c/code/retaildevcrews/helium-typescript/src/services/BunyanLogService.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/BunyanLogService.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"14":{"start":{"line":12,"column":15},"end":{"line":12,"column":32}},"15":{"start":{"line":13,"column":20},"end":{"line":13,"column":40}},"16":{"start":{"line":14,"column":15},"end":{"line":14,"column":30}},"17":{"start":{"line":15,"column":23},"end":{"line":73,"column":1}},"18":{"start":{"line":37,"column":8},"end":{"line":53,"column":11}},"19":{"start":{"line":54,"column":8},"end":{"line":54,"column":42}},"20":{"start":{"line":57,"column":8},"end":{"line":68,"column":9}},"21":{"start":{"line":58,"column":12},"end":{"line":63,"column":13}},"22":{"start":{"line":59,"column":16},"end":{"line":59,"column":83}},"23":{"start":{"line":62,"column":16},"end":{"line":62,"column":108}},"24":{"start":{"line":66,"column":12},"end":{"line":66,"column":31}},"25":{"start":{"line":67,"column":12},"end":{"line":67,"column":104}},"26":{"start":{"line":71,"column":8},"end":{"line":71,"column":117}},"27":{"start":{"line":74,"column":0},"end":{"line":77,"column":21}},"28":{"start":{"line":78,"column":0},"end":{"line":78,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":36,"column":4},"end":{"line":36,"column":5}},"loc":{"start":{"line":36,"column":18},"end":{"line":55,"column":5}},"line":36},"3":{"name":"(anonymous_3)","decl":{"start":{"line":56,"column":4},"end":{"line":56,"column":5}},"loc":{"start":{"line":56,"column":23},"end":{"line":69,"column":5}},"line":56},"4":{"name":"(anonymous_4)","decl":{"start":{"line":70,"column":4},"end":{"line":70,"column":5}},"loc":{"start":{"line":70,"column":31},"end":{"line":72,"column":5}},"line":70}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":57,"column":8},"end":{"line":68,"column":9}},"type":"if","locations":[{"start":{"line":57,"column":8},"end":{"line":68,"column":9}},{"start":{"line":57,"column":8},"end":{"line":68,"column":9}}],"line":57},"14":{"loc":{"start":{"line":58,"column":12},"end":{"line":63,"column":13}},"type":"if","locations":[{"start":{"line":58,"column":12},"end":{"line":63,"column":13}},{"start":{"line":58,"column":12},"end":{"line":63,"column":13}}],"line":58}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[1,0],"4":[1,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[1,0,0],"10":[1,1,1],"11":[1,0],"12":[1,1],"13":[0,0],"14":[0,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/BunyanLogService.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/services/BunyanLogService.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,iCAAiC;AACjC,yCAAuC;AACvC,+BAA0B;AAI1B,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;IAK3B;;OAEG;IAEH;;;;;;;;;;;;;;;;OAgBG;IACH;QACE,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,YAAY,CAAC;YAChC,IAAI,EAAE,WAAW;YACjB,WAAW,EAAE;gBACX,GAAG,EAAE,MAAM,CAAC,cAAc,CAAC,GAAG;gBAC9B,GAAG,EAAE,MAAM,CAAC,cAAc,CAAC,GAAG;aAC/B;YACD,OAAO,EAAE;gBACP;oBACE,KAAK,EAAE,MAAM,CAAC,KAAK;oBACnB,MAAM,EAAE,OAAO,CAAC,MAAM;iBACvB;gBACD;oBACE,KAAK,EAAE,MAAM,CAAC,KAAK;oBACnB,MAAM,EAAE,OAAO,CAAC,MAAM;iBACvB;aACF;SACF,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,GAAG,SAAE,EAAE,CAAC;IAC7B,CAAC;IAEM,KAAK,CAAC,OAAe,EAAE,EAAW;QACvC,IAAI,EAAE,IAAI,IAAI,EAAE;YACd,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;gBACzB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,aAAa,EAAE,IAAI,CAAC,cAAc,EAAE,EAAE,OAAO,CAAC,CAAC;aACpE;iBAAM;gBACL,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,aAAa,EAAE,IAAI,CAAC,cAAc,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,OAAO,CAAC,CAAC;aAC7F;SACF;aAAM;YACL,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,aAAa,EAAE,IAAI,CAAC,cAAc,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,OAAO,CAAC,CAAC;SAC7F;IACH,CAAC;IAEM,KAAK,CAAC,KAAY,EAAE,YAAoB;QAC7C,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,aAAa,EAAE,IAAI,CAAC,cAAc,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,YAAY,CAAC,CAAC;IAC/G,CAAC;CACF,CAAA;AA/DY,gBAAgB;IAD5B,sBAAU,EAAE;;GACA,gBAAgB,CA+D5B;AA/DY,4CAAgB","sourcesContent":["import * as bunyan from \"bunyan\";\nimport { injectable } from \"inversify\";\nimport { v4 } from \"uuid\";\nimport { LogService } from \"./LogService\";\n\n@injectable()\nexport class BunyanLogService implements LogService {\n  private logger: bunyan;\n  private uniqueServerId: string;\n  private customId: string;\n\n  /**\n   * Creates a new instance of the Bunyan Logger.\n   */\n\n  /**\n   * Log levels:\n   * -----------\n   * \"fatal\" (60):\n   *   The service/app is going to stop or become unusable now. An operator should definitely look into this soon.\n   * \"error\" (50):\n   *   Fatal for a particular request, but the service/app continues servicing other requests.\n   *   An operator should look at this soon(ish).\n   * \"warn\" (40):\n   *   A note on something that should probably be looked at by an operator eventually.\n   * \"info\" (30):\n   *   Detail on regular operation.\n   * \"debug\" (20):\n   *   Anything else, i.e. too verbose to be included in \"info\" level.\n   * \"trace\" (10):\n   *   Logging from external libraries used by your app or very detailed application logging.\n   */\n  constructor() {\n    this.logger = bunyan.createLogger({\n      name: \"bunyanLog\",\n      serializers: {\n        req: bunyan.stdSerializers.req,\n        res: bunyan.stdSerializers.res,\n      },\n      streams: [\n        {\n          level: bunyan.TRACE,  // logs \"trace\" level and everything above\n          stream: process.stdout,\n        },\n        {\n          level: bunyan.ERROR,\n          stream: process.stderr, // logs \"error\" and \"fatal\" levels\n        },\n      ],\n    });\n    this.uniqueServerId = v4();\n  }\n\n  public trace(message: string, id?: string) {\n    if (id == null) {\n      if (this.customId == null) {\n        this.logger.trace({ correlationID: this.uniqueServerId }, message);\n      } else {\n        this.logger.trace({ correlationID: this.uniqueServerId, customID: this.customId }, message);\n      }\n    } else {\n      this.customId = id;\n      this.logger.trace({ correlationID: this.uniqueServerId, customID: this.customId }, message);\n    }\n  }\n\n  public error(error: Error, errorMessage: string) {\n    this.logger.error({ err: error, correlationID: this.uniqueServerId, customID: this.customId }, errorMessage);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2d7b105821a04ccbc80af6e069a448bd6026c48b"},"/mnt/c/code/retaildevcrews/helium-typescript/src/services/ConsoleLogService.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/ConsoleLogService.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":0},"end":{"line":8,"column":62}},"11":{"start":{"line":9,"column":20},"end":{"line":9,"column":40}},"12":{"start":{"line":10,"column":24},"end":{"line":18,"column":1}},"13":{"start":{"line":12,"column":8},"end":{"line":12,"column":11}},"14":{"start":{"line":13,"column":8},"end":{"line":13,"column":45}},"15":{"start":{"line":16,"column":8},"end":{"line":16,"column":52}},"16":{"start":{"line":19,"column":0},"end":{"line":21,"column":22}},"17":{"start":{"line":22,"column":0},"end":{"line":22,"column":46}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":23},"end":{"line":14,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":31},"end":{"line":17,"column":5}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":1,"13":108,"14":108,"15":2,"16":1,"17":1},"f":{"0":1,"1":108,"2":2},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[1,0],"4":[1,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[1,0,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/ConsoleLogService.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/services/ConsoleLogService.ts"],"names":[],"mappings":";;;;;;;;AACA,yCAAuC;AAGvC,IAAa,iBAAiB,GAA9B,MAAa,iBAAiB;IAC1B,KAAK,CAAC,OAAe,EAAE,EAAW;QAC9B,EAAE,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,cAAc,OAAO,EAAE,CAAC,CAAC;IACzC,CAAC;IACD,KAAK,CAAC,KAAY,EAAE,YAAoB;QACpC,OAAO,CAAC,KAAK,CAAC,cAAc,YAAY,EAAE,CAAC,CAAC;IAChD,CAAC;CACJ,CAAA;AARY,iBAAiB;IAD7B,sBAAU,EAAE;GACA,iBAAiB,CAQ7B;AARY,8CAAiB","sourcesContent":["import { LogService } from \"./LogService\";\nimport { injectable } from \"inversify\";\n\n@injectable()\nexport class ConsoleLogService implements LogService {\n    trace(message: string, id?: string): void {\n        id;\n        console.log(`LOG TRACE: ${message}`);\n    }\n    error(error: Error, errorMessage: string): void {\n        console.error(`LOG ERROR: ${errorMessage}`);\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b6d127425efba2459f5ca14537b075ec62ed3aee"},"/mnt/c/code/retaildevcrews/helium-typescript/src/services/CosmosDBService.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/CosmosDBService.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":73}},"15":{"start":{"line":12,"column":36},"end":{"line":12,"column":71}},"16":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"17":{"start":{"line":15,"column":28},"end":{"line":15,"column":110}},"18":{"start":{"line":15,"column":91},"end":{"line":15,"column":106}},"19":{"start":{"line":16,"column":4},"end":{"line":21,"column":7}},"20":{"start":{"line":17,"column":36},"end":{"line":17,"column":97}},"21":{"start":{"line":17,"column":42},"end":{"line":17,"column":70}},"22":{"start":{"line":17,"column":85},"end":{"line":17,"column":95}},"23":{"start":{"line":18,"column":35},"end":{"line":18,"column":100}},"24":{"start":{"line":18,"column":41},"end":{"line":18,"column":73}},"25":{"start":{"line":18,"column":88},"end":{"line":18,"column":98}},"26":{"start":{"line":19,"column":32},"end":{"line":19,"column":116}},"27":{"start":{"line":20,"column":8},"end":{"line":20,"column":78}},"28":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"29":{"start":{"line":25,"column":17},"end":{"line":25,"column":41}},"30":{"start":{"line":26,"column":20},"end":{"line":26,"column":40}},"31":{"start":{"line":27,"column":21},"end":{"line":27,"column":44}},"32":{"start":{"line":28,"column":25},"end":{"line":28,"column":63}},"33":{"start":{"line":29,"column":20},"end":{"line":29,"column":50}},"34":{"start":{"line":30,"column":17},"end":{"line":30,"column":44}},"35":{"start":{"line":34,"column":22},"end":{"line":216,"column":1}},"36":{"start":{"line":42,"column":8},"end":{"line":42,"column":29}},"37":{"start":{"line":43,"column":8},"end":{"line":43,"column":29}},"38":{"start":{"line":44,"column":8},"end":{"line":44,"column":50}},"39":{"start":{"line":45,"column":8},"end":{"line":45,"column":113}},"40":{"start":{"line":46,"column":8},"end":{"line":46,"column":39}},"41":{"start":{"line":53,"column":8},"end":{"line":62,"column":11}},"42":{"start":{"line":54,"column":12},"end":{"line":54,"column":65}},"43":{"start":{"line":55,"column":12},"end":{"line":60,"column":13}},"44":{"start":{"line":56,"column":16},"end":{"line":56,"column":128}},"45":{"start":{"line":59,"column":16},"end":{"line":59,"column":51}},"46":{"start":{"line":61,"column":12},"end":{"line":61,"column":19}},"47":{"start":{"line":69,"column":8},"end":{"line":79,"column":11}},"48":{"start":{"line":70,"column":12},"end":{"line":70,"column":29}},"49":{"start":{"line":71,"column":12},"end":{"line":78,"column":13}},"50":{"start":{"line":72,"column":52},"end":{"line":72,"column":126}},"51":{"start":{"line":73,"column":16},"end":{"line":73,"column":36}},"52":{"start":{"line":76,"column":16},"end":{"line":76,"column":51}},"53":{"start":{"line":77,"column":16},"end":{"line":77,"column":33}},"54":{"start":{"line":86,"column":8},"end":{"line":98,"column":11}},"55":{"start":{"line":87,"column":12},"end":{"line":97,"column":13}},"56":{"start":{"line":88,"column":65},"end":{"line":88,"column":176}},"57":{"start":{"line":89,"column":16},"end":{"line":91,"column":17}},"58":{"start":{"line":90,"column":20},"end":{"line":90,"column":34}},"59":{"start":{"line":92,"column":16},"end":{"line":92,"column":55}},"60":{"start":{"line":95,"column":16},"end":{"line":95,"column":51}},"61":{"start":{"line":96,"column":16},"end":{"line":96,"column":26}},"62":{"start":{"line":105,"column":8},"end":{"line":141,"column":11}},"63":{"start":{"line":106,"column":33},"end":{"line":106,"column":184}},"64":{"start":{"line":107,"column":35},"end":{"line":107,"column":59}},"65":{"start":{"line":108,"column":22},"end":{"line":108,"column":34}},"66":{"start":{"line":109,"column":27},"end":{"line":109,"column":30}},"67":{"start":{"line":110,"column":29},"end":{"line":110,"column":30}},"68":{"start":{"line":111,"column":28},"end":{"line":111,"column":41}},"69":{"start":{"line":114,"column":12},"end":{"line":114,"column":80}},"70":{"start":{"line":115,"column":12},"end":{"line":115,"column":88}},"71":{"start":{"line":116,"column":12},"end":{"line":121,"column":13}},"72":{"start":{"line":117,"column":16},"end":{"line":117,"column":55}},"73":{"start":{"line":119,"column":17},"end":{"line":121,"column":13}},"74":{"start":{"line":120,"column":16},"end":{"line":120,"column":51}},"75":{"start":{"line":122,"column":12},"end":{"line":122,"column":25}},"76":{"start":{"line":123,"column":12},"end":{"line":125,"column":13}},"77":{"start":{"line":124,"column":16},"end":{"line":124,"column":31}},"78":{"start":{"line":126,"column":32},"end":{"line":126,"column":97}},"79":{"start":{"line":128,"column":12},"end":{"line":133,"column":13}},"80":{"start":{"line":129,"column":16},"end":{"line":129,"column":78}},"81":{"start":{"line":130,"column":16},"end":{"line":132,"column":17}},"82":{"start":{"line":131,"column":20},"end":{"line":131,"column":78}},"83":{"start":{"line":134,"column":12},"end":{"line":134,"column":48}},"84":{"start":{"line":135,"column":12},"end":{"line":140,"column":13}},"85":{"start":{"line":136,"column":16},"end":{"line":136,"column":54}},"86":{"start":{"line":139,"column":16},"end":{"line":139,"column":51}},"87":{"start":{"line":148,"column":8},"end":{"line":214,"column":11}},"88":{"start":{"line":149,"column":33},"end":{"line":149,"column":206}},"89":{"start":{"line":150,"column":35},"end":{"line":150,"column":59}},"90":{"start":{"line":151,"column":22},"end":{"line":151,"column":34}},"91":{"start":{"line":152,"column":27},"end":{"line":152,"column":30}},"92":{"start":{"line":153,"column":29},"end":{"line":153,"column":30}},"93":{"start":{"line":159,"column":12},"end":{"line":159,"column":80}},"94":{"start":{"line":160,"column":12},"end":{"line":160,"column":88}},"95":{"start":{"line":161,"column":12},"end":{"line":166,"column":13}},"96":{"start":{"line":162,"column":16},"end":{"line":162,"column":55}},"97":{"start":{"line":164,"column":17},"end":{"line":166,"column":13}},"98":{"start":{"line":165,"column":16},"end":{"line":165,"column":51}},"99":{"start":{"line":167,"column":12},"end":{"line":167,"column":25}},"100":{"start":{"line":168,"column":12},"end":{"line":170,"column":13}},"101":{"start":{"line":169,"column":16},"end":{"line":169,"column":31}},"102":{"start":{"line":171,"column":32},"end":{"line":171,"column":97}},"103":{"start":{"line":173,"column":12},"end":{"line":178,"column":13}},"104":{"start":{"line":174,"column":16},"end":{"line":174,"column":83}},"105":{"start":{"line":175,"column":16},"end":{"line":177,"column":17}},"106":{"start":{"line":176,"column":20},"end":{"line":176,"column":80}},"107":{"start":{"line":179,"column":12},"end":{"line":181,"column":13}},"108":{"start":{"line":180,"column":16},"end":{"line":180,"column":65}},"109":{"start":{"line":182,"column":12},"end":{"line":184,"column":13}},"110":{"start":{"line":183,"column":16},"end":{"line":183,"column":70}},"111":{"start":{"line":185,"column":12},"end":{"line":192,"column":13}},"112":{"start":{"line":186,"column":16},"end":{"line":186,"column":86}},"113":{"start":{"line":187,"column":16},"end":{"line":191,"column":17}},"114":{"start":{"line":188,"column":20},"end":{"line":188,"column":71}},"115":{"start":{"line":189,"column":20},"end":{"line":189,"column":35}},"116":{"start":{"line":190,"column":20},"end":{"line":190,"column":41}},"117":{"start":{"line":193,"column":12},"end":{"line":206,"column":13}},"118":{"start":{"line":195,"column":16},"end":{"line":204,"column":17}},"119":{"start":{"line":196,"column":20},"end":{"line":196,"column":97}},"120":{"start":{"line":197,"column":20},"end":{"line":197,"column":46}},"121":{"start":{"line":200,"column":20},"end":{"line":203,"column":21}},"122":{"start":{"line":202,"column":24},"end":{"line":202,"column":34}},"123":{"start":{"line":205,"column":16},"end":{"line":205,"column":72}},"124":{"start":{"line":207,"column":12},"end":{"line":207,"column":48}},"125":{"start":{"line":208,"column":12},"end":{"line":213,"column":13}},"126":{"start":{"line":209,"column":16},"end":{"line":209,"column":54}},"127":{"start":{"line":212,"column":16},"end":{"line":212,"column":51}},"128":{"start":{"line":217,"column":0},"end":{"line":221,"column":20}},"129":{"start":{"line":222,"column":0},"end":{"line":222,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":40},"end":{"line":11,"column":41}},"loc":{"start":{"line":11,"column":73},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":11},"end":{"line":12,"column":12}},"loc":{"start":{"line":12,"column":34},"end":{"line":12,"column":73}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":44},"end":{"line":14,"column":45}},"loc":{"start":{"line":14,"column":89},"end":{"line":22,"column":1}},"line":14},"5":{"name":"adopt","decl":{"start":{"line":15,"column":13},"end":{"line":15,"column":18}},"loc":{"start":{"line":15,"column":26},"end":{"line":15,"column":112}},"line":15},"6":{"name":"(anonymous_6)","decl":{"start":{"line":15,"column":70},"end":{"line":15,"column":71}},"loc":{"start":{"line":15,"column":89},"end":{"line":15,"column":108}},"line":15},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":36},"end":{"line":16,"column":37}},"loc":{"start":{"line":16,"column":63},"end":{"line":21,"column":5}},"line":16},"8":{"name":"fulfilled","decl":{"start":{"line":17,"column":17},"end":{"line":17,"column":26}},"loc":{"start":{"line":17,"column":34},"end":{"line":17,"column":99}},"line":17},"9":{"name":"rejected","decl":{"start":{"line":18,"column":17},"end":{"line":18,"column":25}},"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":102}},"line":18},"10":{"name":"step","decl":{"start":{"line":19,"column":17},"end":{"line":19,"column":21}},"loc":{"start":{"line":19,"column":30},"end":{"line":19,"column":118}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":41,"column":4},"end":{"line":41,"column":5}},"loc":{"start":{"line":41,"column":32},"end":{"line":47,"column":5}},"line":41},"12":{"name":"(anonymous_12)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":17},"end":{"line":63,"column":5}},"line":52},"13":{"name":"(anonymous_13)","decl":{"start":{"line":53,"column":47},"end":{"line":53,"column":48}},"loc":{"start":{"line":53,"column":60},"end":{"line":62,"column":9}},"line":53},"14":{"name":"(anonymous_14)","decl":{"start":{"line":68,"column":4},"end":{"line":68,"column":5}},"loc":{"start":{"line":68,"column":26},"end":{"line":80,"column":5}},"line":68},"15":{"name":"(anonymous_15)","decl":{"start":{"line":69,"column":47},"end":{"line":69,"column":48}},"loc":{"start":{"line":69,"column":60},"end":{"line":79,"column":9}},"line":69},"16":{"name":"(anonymous_16)","decl":{"start":{"line":85,"column":4},"end":{"line":85,"column":5}},"loc":{"start":{"line":85,"column":28},"end":{"line":99,"column":5}},"line":85},"17":{"name":"(anonymous_17)","decl":{"start":{"line":86,"column":47},"end":{"line":86,"column":48}},"loc":{"start":{"line":86,"column":60},"end":{"line":98,"column":9}},"line":86},"18":{"name":"(anonymous_18)","decl":{"start":{"line":104,"column":4},"end":{"line":104,"column":5}},"loc":{"start":{"line":104,"column":29},"end":{"line":142,"column":5}},"line":104},"19":{"name":"(anonymous_19)","decl":{"start":{"line":105,"column":47},"end":{"line":105,"column":48}},"loc":{"start":{"line":105,"column":60},"end":{"line":141,"column":9}},"line":105},"20":{"name":"(anonymous_20)","decl":{"start":{"line":147,"column":4},"end":{"line":147,"column":5}},"loc":{"start":{"line":147,"column":29},"end":{"line":215,"column":5}},"line":147},"21":{"name":"(anonymous_21)","decl":{"start":{"line":148,"column":47},"end":{"line":148,"column":48}},"loc":{"start":{"line":148,"column":60},"end":{"line":214,"column":9}},"line":148}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":15},"end":{"line":11,"column":19}},{"start":{"line":11,"column":23},"end":{"line":11,"column":35}},{"start":{"line":11,"column":40},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":17},"end":{"line":14,"column":21}},{"start":{"line":14,"column":25},"end":{"line":14,"column":39}},{"start":{"line":14,"column":44},"end":{"line":22,"column":1}}],"line":14},"15":{"loc":{"start":{"line":15,"column":35},"end":{"line":15,"column":109}},"type":"cond-expr","locations":[{"start":{"line":15,"column":56},"end":{"line":15,"column":61}},{"start":{"line":15,"column":64},"end":{"line":15,"column":109}}],"line":15},"16":{"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":34}},"type":"binary-expr","locations":[{"start":{"line":16,"column":16},"end":{"line":16,"column":17}},{"start":{"line":16,"column":22},"end":{"line":16,"column":33}}],"line":16},"17":{"loc":{"start":{"line":19,"column":32},"end":{"line":19,"column":115}},"type":"cond-expr","locations":[{"start":{"line":19,"column":46},"end":{"line":19,"column":67}},{"start":{"line":19,"column":70},"end":{"line":19,"column":115}}],"line":19},"18":{"loc":{"start":{"line":20,"column":51},"end":{"line":20,"column":67}},"type":"binary-expr","locations":[{"start":{"line":20,"column":51},"end":{"line":20,"column":61}},{"start":{"line":20,"column":65},"end":{"line":20,"column":67}}],"line":20},"19":{"loc":{"start":{"line":89,"column":16},"end":{"line":91,"column":17}},"type":"if","locations":[{"start":{"line":89,"column":16},"end":{"line":91,"column":17}},{"start":{"line":89,"column":16},"end":{"line":91,"column":17}}],"line":89},"20":{"loc":{"start":{"line":114,"column":23},"end":{"line":114,"column":79}},"type":"cond-expr","locations":[{"start":{"line":114,"column":48},"end":{"line":114,"column":68}},{"start":{"line":114,"column":71},"end":{"line":114,"column":79}}],"line":114},"21":{"loc":{"start":{"line":115,"column":25},"end":{"line":115,"column":87}},"type":"cond-expr","locations":[{"start":{"line":115,"column":52},"end":{"line":115,"column":74}},{"start":{"line":115,"column":77},"end":{"line":115,"column":87}}],"line":115},"22":{"loc":{"start":{"line":116,"column":12},"end":{"line":121,"column":13}},"type":"if","locations":[{"start":{"line":116,"column":12},"end":{"line":121,"column":13}},{"start":{"line":116,"column":12},"end":{"line":121,"column":13}}],"line":116},"23":{"loc":{"start":{"line":119,"column":17},"end":{"line":121,"column":13}},"type":"if","locations":[{"start":{"line":119,"column":17},"end":{"line":121,"column":13}},{"start":{"line":119,"column":17},"end":{"line":121,"column":13}}],"line":119},"24":{"loc":{"start":{"line":123,"column":12},"end":{"line":125,"column":13}},"type":"if","locations":[{"start":{"line":123,"column":12},"end":{"line":125,"column":13}},{"start":{"line":123,"column":12},"end":{"line":125,"column":13}}],"line":123},"25":{"loc":{"start":{"line":128,"column":12},"end":{"line":133,"column":13}},"type":"if","locations":[{"start":{"line":128,"column":12},"end":{"line":133,"column":13}},{"start":{"line":128,"column":12},"end":{"line":133,"column":13}}],"line":128},"26":{"loc":{"start":{"line":130,"column":16},"end":{"line":132,"column":17}},"type":"if","locations":[{"start":{"line":130,"column":16},"end":{"line":132,"column":17}},{"start":{"line":130,"column":16},"end":{"line":132,"column":17}}],"line":130},"27":{"loc":{"start":{"line":159,"column":23},"end":{"line":159,"column":79}},"type":"cond-expr","locations":[{"start":{"line":159,"column":48},"end":{"line":159,"column":68}},{"start":{"line":159,"column":71},"end":{"line":159,"column":79}}],"line":159},"28":{"loc":{"start":{"line":160,"column":25},"end":{"line":160,"column":87}},"type":"cond-expr","locations":[{"start":{"line":160,"column":52},"end":{"line":160,"column":74}},{"start":{"line":160,"column":77},"end":{"line":160,"column":87}}],"line":160},"29":{"loc":{"start":{"line":161,"column":12},"end":{"line":166,"column":13}},"type":"if","locations":[{"start":{"line":161,"column":12},"end":{"line":166,"column":13}},{"start":{"line":161,"column":12},"end":{"line":166,"column":13}}],"line":161},"30":{"loc":{"start":{"line":164,"column":17},"end":{"line":166,"column":13}},"type":"if","locations":[{"start":{"line":164,"column":17},"end":{"line":166,"column":13}},{"start":{"line":164,"column":17},"end":{"line":166,"column":13}}],"line":164},"31":{"loc":{"start":{"line":168,"column":12},"end":{"line":170,"column":13}},"type":"if","locations":[{"start":{"line":168,"column":12},"end":{"line":170,"column":13}},{"start":{"line":168,"column":12},"end":{"line":170,"column":13}}],"line":168},"32":{"loc":{"start":{"line":173,"column":12},"end":{"line":178,"column":13}},"type":"if","locations":[{"start":{"line":173,"column":12},"end":{"line":178,"column":13}},{"start":{"line":173,"column":12},"end":{"line":178,"column":13}}],"line":173},"33":{"loc":{"start":{"line":175,"column":16},"end":{"line":177,"column":17}},"type":"if","locations":[{"start":{"line":175,"column":16},"end":{"line":177,"column":17}},{"start":{"line":175,"column":16},"end":{"line":177,"column":17}}],"line":175},"34":{"loc":{"start":{"line":179,"column":12},"end":{"line":181,"column":13}},"type":"if","locations":[{"start":{"line":179,"column":12},"end":{"line":181,"column":13}},{"start":{"line":179,"column":12},"end":{"line":181,"column":13}}],"line":179},"35":{"loc":{"start":{"line":182,"column":12},"end":{"line":184,"column":13}},"type":"if","locations":[{"start":{"line":182,"column":12},"end":{"line":184,"column":13}},{"start":{"line":182,"column":12},"end":{"line":184,"column":13}}],"line":182},"36":{"loc":{"start":{"line":185,"column":12},"end":{"line":192,"column":13}},"type":"if","locations":[{"start":{"line":185,"column":12},"end":{"line":192,"column":13}},{"start":{"line":185,"column":12},"end":{"line":192,"column":13}}],"line":185},"37":{"loc":{"start":{"line":187,"column":16},"end":{"line":191,"column":17}},"type":"if","locations":[{"start":{"line":187,"column":16},"end":{"line":191,"column":17}},{"start":{"line":187,"column":16},"end":{"line":191,"column":17}}],"line":187},"38":{"loc":{"start":{"line":193,"column":12},"end":{"line":206,"column":13}},"type":"if","locations":[{"start":{"line":193,"column":12},"end":{"line":206,"column":13}},{"start":{"line":193,"column":12},"end":{"line":206,"column":13}}],"line":193},"39":{"loc":{"start":{"line":200,"column":20},"end":{"line":203,"column":21}},"type":"if","locations":[{"start":{"line":200,"column":20},"end":{"line":203,"column":21}},{"start":{"line":200,"column":20},"end":{"line":203,"column":21}}],"line":200},"40":{"loc":{"start":{"line":220,"column":37},"end":{"line":220,"column":149}},"type":"cond-expr","locations":[{"start":{"line":220,"column":138},"end":{"line":220,"column":140}},{"start":{"line":220,"column":143},"end":{"line":220,"column":149}}],"line":220},"41":{"loc":{"start":{"line":220,"column":50},"end":{"line":220,"column":119}},"type":"binary-expr","locations":[{"start":{"line":220,"column":50},"end":{"line":220,"column":94}},{"start":{"line":220,"column":98},"end":{"line":220,"column":119}}],"line":220},"42":{"loc":{"start":{"line":220,"column":151},"end":{"line":220,"column":267}},"type":"cond-expr","locations":[{"start":{"line":220,"column":256},"end":{"line":220,"column":258}},{"start":{"line":220,"column":261},"end":{"line":220,"column":267}}],"line":220},"43":{"loc":{"start":{"line":220,"column":164},"end":{"line":220,"column":237}},"type":"binary-expr","locations":[{"start":{"line":220,"column":164},"end":{"line":220,"column":210}},{"start":{"line":220,"column":214},"end":{"line":220,"column":237}}],"line":220}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":1,"13":1,"14":2,"15":2,"16":1,"17":65,"18":1,"19":45,"20":65,"21":65,"22":2,"23":0,"24":0,"25":0,"26":108,"27":45,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":0,"46":1,"47":19,"48":19,"49":19,"50":19,"51":19,"52":0,"53":0,"54":10,"55":10,"56":10,"57":10,"58":8,"59":2,"60":2,"61":2,"62":4,"63":4,"64":4,"65":4,"66":4,"67":4,"68":4,"69":4,"70":4,"71":4,"72":0,"73":4,"74":0,"75":4,"76":4,"77":0,"78":4,"79":4,"80":3,"81":3,"82":3,"83":4,"84":4,"85":4,"86":0,"87":11,"88":11,"89":11,"90":11,"91":11,"92":11,"93":11,"94":11,"95":11,"96":0,"97":11,"98":0,"99":11,"100":11,"101":0,"102":11,"103":11,"104":3,"105":3,"106":3,"107":11,"108":3,"109":11,"110":1,"111":11,"112":2,"113":2,"114":2,"115":2,"116":2,"117":11,"118":1,"119":1,"120":1,"121":0,"122":0,"123":1,"124":11,"125":11,"126":11,"127":0,"128":1,"129":1},"f":{"0":1,"1":1,"2":2,"3":2,"4":45,"5":65,"6":1,"7":45,"8":65,"9":0,"10":108,"11":1,"12":1,"13":1,"14":19,"15":19,"16":10,"17":10,"18":4,"19":4,"20":11,"21":11},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[1,0],"4":[1,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[1,0,0],"10":[1,1,1],"11":[1,0],"12":[1,1],"13":[1,1,1],"14":[1,1,1],"15":[64,1],"16":[45,45],"17":[43,65],"18":[45,45],"19":[8,2],"20":[0,4],"21":[0,4],"22":[0,4],"23":[0,4],"24":[0,4],"25":[3,1],"26":[3,0],"27":[0,11],"28":[0,11],"29":[0,11],"30":[0,11],"31":[0,11],"32":[3,8],"33":[3,0],"34":[3,8],"35":[1,10],"36":[2,9],"37":[2,0],"38":[1,10],"39":[0,0],"40":[0,1],"41":[1,0],"42":[0,1],"43":[1,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/CosmosDBService.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/services/CosmosDBService.ts"],"names":[],"mappings":"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","sourcesContent":["import { CosmosClient, Container, FeedOptions } from \"@azure/cosmos\";\nimport { inject, injectable } from \"inversify\";\nimport { LogService } from \"./LogService\";\nimport { QueryUtilities } from \"../utilities/queryUtilities\";\nimport { Actor, Movie } from \"../models\";\nimport { defaultPageSize, maxPageSize } from \"../config/constants\";\nimport { DataService } from \"./DataService\";\nimport { ConfigValues } from \"../config/config\";\n\n/**\n * Handles executing queries against CosmosDB\n */\n@injectable()\nexport class CosmosDBService implements DataService {\n\n    private cosmosClient: CosmosClient;\n    private cosmosContainer: Container;\n    private feedOptions: FeedOptions = { maxItemCount: 2000 };\n\n    public ready: Promise<void>;\n\n    /**\n     * Creates a new instance of the CosmosDB class.\n     * @param url The url of the CosmosDB.\n     * @param accessKey The CosmosDB access key (primary of secondary).\n     * @param logger Logging service user for tracing/logging.\n     */\n    constructor(@inject(\"ConfigValues\") private config: ConfigValues, @inject(\"LogService\") private logger: LogService) {\n        this.cosmosClient = new CosmosClient({ endpoint: config.cosmosDbUrl, key: config.cosmosDbKey });\n        this.ready = this.initialize();\n    }\n\n    /**\n     * Initialize the Cosmos DB Container.\n     * This is handled in a separate method to avoid calling async operations in the constructor.\n     */\n    public async initialize(): Promise<void> {\n\n        this.logger.trace(\"Initializing CosmosDB Container\");\n        try {\n            this.cosmosContainer = await this.cosmosClient.database(this.config.database).container(this.config.collection);\n        } catch (err) {\n            this.logger.error(Error(err), err);\n        }\n        return;\n    }\n\n    /**\n     * Runs the given query against CosmosDB.\n     * @param query The query to select the documents.\n     */\n    public async queryDocuments(query: string): Promise<any> {\n        await this.ready;        \n        try {\n            const { resources: queryResults } = await this.cosmosContainer.items.query(query, this.feedOptions).fetchAll();\n            return queryResults;\n        } catch (err) {\n            this.logger.error(Error(err), err);\n            throw Error(err);\n        }\n    }\n\n    /**\n     * Retrieves a specific document by Id.\n     * @param documentId The id of the document to query.\n     */\n    public async getDocument(documentId: string): Promise<any> {\n        try {\n            const { resource: result, statusCode: status }\n                = await this.cosmosContainer.item(documentId, QueryUtilities.getPartitionKey(documentId)).read();\n            if (status === 200) {\n                return result;\n            }\n\n            throw Error(\"Cosmos Error: \" + status);\n\n        } catch (err) {\n            this.logger.error(Error(err), err);\n            throw err;\n        }\n    }\n\n    /**\n     * Runs the given query for actors against the database.\n     * @param queryParams The query params used to select the actor documents.\n     */\n    public async queryActors(queryParams: any): Promise<Actor[]> {\n        const ACTOR_SELECT = \"select m.id, m.partitionKey, m.actorId, m.type, m.name, m.birthYear, m.deathYear, m.profession, m.textSearch, m.movies from m where m.type = 'Actor' \";\n        const ACTOR_ORDER_BY = \" order by m.textSearch\";\n\n        let sql = ACTOR_SELECT;\n\n        let pageSize = 100;\n        let pageNumber = 1;\n        let actorName: string = queryParams.q;\n\n        // handle paging parameters\n        // fall back to default values if none provided in query\n        pageSize = (queryParams.pageSize) ? queryParams.pageSize : pageSize;\n        pageNumber = (queryParams.pageNumber) ? queryParams.pageNumber : pageNumber;\n\n        if (pageSize < 1) {\n            pageSize = defaultPageSize;\n        } else if (pageSize > maxPageSize) {\n            pageSize = maxPageSize;\n        }\n\n        pageNumber--;\n\n        if (pageNumber < 0) {\n            pageNumber = 0;\n        }\n\n        const offsetLimit = \" offset \" + (pageNumber * pageSize) + \" limit \" + pageSize + \" \";\n\n        // apply search term if provided in query\n        if (actorName) {\n            actorName = actorName.trim().toLowerCase().replace(\"'\", \"''\");\n\n            if (actorName) {\n                sql += \" and contains(m.textSearch, '\" + actorName + \"')\";\n            }\n        }\n\n        sql += ACTOR_ORDER_BY + offsetLimit;\n\n        try {\n            return await this.queryDocuments(sql);\n        } catch (err) {\n            this.logger.error(Error(err), err);\n        }\n    }\n\n    /**\n     * Runs the given query for movies against the database.\n     * @param queryParams The query params used to select the movie documents.\n     */\n    public async queryMovies(queryParams: any): Promise<Movie[]> {\n        const MOVIE_SELECT = \"select m.id, m.partitionKey, m.movieId, m.type, m.textSearch, m.title, m.year, m.runtime, m.rating, m.votes, m.totalScore, m.genres, m.roles from m where m.type = 'Movie' \";\n        const MOVIE_ORDER_BY = \" order by m.textSearch\";\n\n        let sql: string = MOVIE_SELECT;\n\n        let pageSize = 100;\n        let pageNumber = 1;\n        let queryParam: string;\n        let actorId: string;\n        let genre: string;\n\n        // handle paging parameters\n        // fall back to default values if none provided in query\n        pageSize = (queryParams.pageSize) ? queryParams.pageSize : pageSize;\n        pageNumber = (queryParams.pageNumber) ? queryParams.pageNumber : pageNumber;\n\n        if (pageSize < 1) {\n            pageSize = defaultPageSize;\n        } else if (pageSize > maxPageSize) {\n            pageSize = maxPageSize;\n        }\n\n        pageNumber--;\n\n        if (pageNumber < 0) {\n            pageNumber = 0;\n        }\n\n        const offsetLimit = \" offset \" + (pageNumber * pageSize) + \" limit \" + pageSize + \" \";\n\n        // handle query parameters and build sql query\n        if (queryParams.q) {\n            queryParam = queryParams.q.trim().toLowerCase().replace(\"'\", \"''\");\n            if (queryParam) {\n                sql += \" and contains(m.textSearch, '\" + queryParam + \"') \";\n            }\n        }\n\n        if (queryParams.year > 0) {\n            sql += \" and m.year = \" + queryParams.year + \" \";\n        }\n\n        if (queryParams.rating > 0) {\n            sql += \" and m.rating >= \" + queryParams.rating + \" \";\n        }\n\n        if (queryParams.actorId) {\n            actorId = queryParams.actorId.trim().toLowerCase().replace(\"'\", \"''\");\n\n            if (actorId) {\n                sql += \" and array_contains(m.roles, { actorId: '\";\n                sql += actorId;\n                sql += \"' }, true) \";\n            }\n        }\n\n        if (queryParams.genre) {\n            let genreResult: any;\n\n            try {\n                genreResult = await this.getDocument(queryParams.genre.trim().toLowerCase());\n                genre = genreResult.genre;\n            } catch (e) {\n                if (e.toString().includes(\"404\")) {\n                    // return empty array if no genre found\n                    return [];\n                }\n            }\n\n            sql += \" and array_contains(m.genres, '\" + genre + \"')\";\n        }\n\n        sql += MOVIE_ORDER_BY + offsetLimit;\n\n        try {\n            return await this.queryDocuments(sql);\n        } catch (err) {\n            this.logger.error(Error(err), err);\n        }\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"99911574f31814317c8d5edad116a60c4fb1d9b7"},"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/queryUtilities.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/queryUtilities.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":11,"column":20},"end":{"line":11,"column":21}},"2":{"start":{"line":12,"column":8},"end":{"line":15,"column":9}},"3":{"start":{"line":13,"column":12},"end":{"line":13,"column":50}},"4":{"start":{"line":14,"column":12},"end":{"line":14,"column":64}},"5":{"start":{"line":16,"column":8},"end":{"line":16,"column":32}},"6":{"start":{"line":19,"column":0},"end":{"line":19,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":31},"end":{"line":17,"column":5}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":8},"end":{"line":15,"column":9}},"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":15,"column":9}},{"start":{"line":12,"column":8},"end":{"line":15,"column":9}}],"line":12},"1":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":73}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":25}},{"start":{"line":12,"column":30},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":72}}],"line":12},"2":{"loc":{"start":{"line":14,"column":19},"end":{"line":14,"column":63}},"type":"cond-expr","locations":[{"start":{"line":14,"column":34},"end":{"line":14,"column":37}},{"start":{"line":14,"column":40},"end":{"line":14,"column":63}}],"line":14}},"s":{"0":1,"1":10,"2":10,"3":9,"4":9,"5":1,"6":1},"f":{"0":10},"b":{"0":[9,1],"1":[10,10,5],"2":[0,9]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/queryUtilities.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/queryUtilities.ts"],"names":[],"mappings":";;AAAA;;GAEG;AACH,MAAa,cAAc;IAEvB,4DAA4D;IAC5D,gFAAgF;IAChF,yBAAyB;IAClB,MAAM,CAAC,eAAe,CAAC,EAAU;QACpC,IAAI,KAAK,GAAG,CAAC,CAAC;QAEd,IAAK,EAAE,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,EAAE;YAChE,KAAK,GAAG,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YACtC,OAAO,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC;SACvD;QAED,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC;IAC5B,CAAC;CACJ;AAfD,wCAeC","sourcesContent":["/**\n * Utilities for querying from CosmosDB.\n */\nexport class QueryUtilities {\n\n    // Compute the partition key based on the movieId or actorId\n    // For this sample, the partition key is mod 10 of the numeric portion of the id\n    // Returns \"0\" by default\n    public static getPartitionKey(id: string): string {\n        let idInt = 0;\n\n        if ( id.length > 5 && (id.startsWith(\"tt\") || id.startsWith(\"nm\"))) {\n            idInt = parseInt(id.substring(2), 10);\n            return isNaN(idInt) ? \"0\" : (idInt % 10).toString();\n        }\n\n        return idInt.toString();\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4ba6987149cd7de00a79c9618994dcec9512b4af"},"/mnt/c/code/retaildevcrews/helium-typescript/src/services/JsonDataService.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/JsonDataService.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":73}},"15":{"start":{"line":12,"column":36},"end":{"line":12,"column":71}},"16":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"17":{"start":{"line":15,"column":28},"end":{"line":15,"column":110}},"18":{"start":{"line":15,"column":91},"end":{"line":15,"column":106}},"19":{"start":{"line":16,"column":4},"end":{"line":21,"column":7}},"20":{"start":{"line":17,"column":36},"end":{"line":17,"column":97}},"21":{"start":{"line":17,"column":42},"end":{"line":17,"column":70}},"22":{"start":{"line":17,"column":85},"end":{"line":17,"column":95}},"23":{"start":{"line":18,"column":35},"end":{"line":18,"column":100}},"24":{"start":{"line":18,"column":41},"end":{"line":18,"column":73}},"25":{"start":{"line":18,"column":88},"end":{"line":18,"column":98}},"26":{"start":{"line":19,"column":32},"end":{"line":19,"column":116}},"27":{"start":{"line":20,"column":8},"end":{"line":20,"column":78}},"28":{"start":{"line":24,"column":0},"end":{"line":24,"column":62}},"29":{"start":{"line":26,"column":20},"end":{"line":26,"column":40}},"30":{"start":{"line":28,"column":11},"end":{"line":28,"column":23}},"31":{"start":{"line":32,"column":22},"end":{"line":75,"column":1}},"32":{"start":{"line":34,"column":8},"end":{"line":34,"column":23}},"33":{"start":{"line":35,"column":8},"end":{"line":35,"column":29}},"34":{"start":{"line":36,"column":8},"end":{"line":36,"column":39}},"35":{"start":{"line":39,"column":8},"end":{"line":46,"column":11}},"36":{"start":{"line":40,"column":12},"end":{"line":40,"column":64}},"37":{"start":{"line":41,"column":12},"end":{"line":45,"column":13}},"38":{"start":{"line":44,"column":16},"end":{"line":44,"column":51}},"39":{"start":{"line":49,"column":8},"end":{"line":58,"column":11}},"40":{"start":{"line":50,"column":12},"end":{"line":57,"column":13}},"41":{"start":{"line":55,"column":16},"end":{"line":55,"column":51}},"42":{"start":{"line":56,"column":16},"end":{"line":56,"column":33}},"43":{"start":{"line":61,"column":8},"end":{"line":63,"column":11}},"44":{"start":{"line":62,"column":12},"end":{"line":62,"column":54}},"45":{"start":{"line":66,"column":8},"end":{"line":68,"column":11}},"46":{"start":{"line":67,"column":12},"end":{"line":67,"column":54}},"47":{"start":{"line":71,"column":8},"end":{"line":73,"column":11}},"48":{"start":{"line":72,"column":12},"end":{"line":72,"column":54}},"49":{"start":{"line":76,"column":0},"end":{"line":81,"column":20}},"50":{"start":{"line":82,"column":0},"end":{"line":82,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":40},"end":{"line":11,"column":41}},"loc":{"start":{"line":11,"column":73},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":11},"end":{"line":12,"column":12}},"loc":{"start":{"line":12,"column":34},"end":{"line":12,"column":73}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":14,"column":44},"end":{"line":14,"column":45}},"loc":{"start":{"line":14,"column":89},"end":{"line":22,"column":1}},"line":14},"5":{"name":"adopt","decl":{"start":{"line":15,"column":13},"end":{"line":15,"column":18}},"loc":{"start":{"line":15,"column":26},"end":{"line":15,"column":112}},"line":15},"6":{"name":"(anonymous_6)","decl":{"start":{"line":15,"column":70},"end":{"line":15,"column":71}},"loc":{"start":{"line":15,"column":89},"end":{"line":15,"column":108}},"line":15},"7":{"name":"(anonymous_7)","decl":{"start":{"line":16,"column":36},"end":{"line":16,"column":37}},"loc":{"start":{"line":16,"column":63},"end":{"line":21,"column":5}},"line":16},"8":{"name":"fulfilled","decl":{"start":{"line":17,"column":17},"end":{"line":17,"column":26}},"loc":{"start":{"line":17,"column":34},"end":{"line":17,"column":99}},"line":17},"9":{"name":"rejected","decl":{"start":{"line":18,"column":17},"end":{"line":18,"column":25}},"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":102}},"line":18},"10":{"name":"step","decl":{"start":{"line":19,"column":17},"end":{"line":19,"column":21}},"loc":{"start":{"line":19,"column":30},"end":{"line":19,"column":118}},"line":19},"11":{"name":"(anonymous_11)","decl":{"start":{"line":33,"column":4},"end":{"line":33,"column":5}},"loc":{"start":{"line":33,"column":29},"end":{"line":37,"column":5}},"line":33},"12":{"name":"(anonymous_12)","decl":{"start":{"line":38,"column":4},"end":{"line":38,"column":5}},"loc":{"start":{"line":38,"column":17},"end":{"line":47,"column":5}},"line":38},"13":{"name":"(anonymous_13)","decl":{"start":{"line":39,"column":47},"end":{"line":39,"column":48}},"loc":{"start":{"line":39,"column":60},"end":{"line":46,"column":9}},"line":39},"14":{"name":"(anonymous_14)","decl":{"start":{"line":48,"column":4},"end":{"line":48,"column":5}},"loc":{"start":{"line":48,"column":26},"end":{"line":59,"column":5}},"line":48},"15":{"name":"(anonymous_15)","decl":{"start":{"line":49,"column":47},"end":{"line":49,"column":48}},"loc":{"start":{"line":49,"column":60},"end":{"line":58,"column":9}},"line":49},"16":{"name":"(anonymous_16)","decl":{"start":{"line":60,"column":4},"end":{"line":60,"column":5}},"loc":{"start":{"line":60,"column":28},"end":{"line":64,"column":5}},"line":60},"17":{"name":"(anonymous_17)","decl":{"start":{"line":61,"column":47},"end":{"line":61,"column":48}},"loc":{"start":{"line":61,"column":60},"end":{"line":63,"column":9}},"line":61},"18":{"name":"(anonymous_18)","decl":{"start":{"line":65,"column":4},"end":{"line":65,"column":5}},"loc":{"start":{"line":65,"column":29},"end":{"line":69,"column":5}},"line":65},"19":{"name":"(anonymous_19)","decl":{"start":{"line":66,"column":47},"end":{"line":66,"column":48}},"loc":{"start":{"line":66,"column":60},"end":{"line":68,"column":9}},"line":66},"20":{"name":"(anonymous_20)","decl":{"start":{"line":70,"column":4},"end":{"line":70,"column":5}},"loc":{"start":{"line":70,"column":29},"end":{"line":74,"column":5}},"line":70},"21":{"name":"(anonymous_21)","decl":{"start":{"line":71,"column":47},"end":{"line":71,"column":48}},"loc":{"start":{"line":71,"column":60},"end":{"line":73,"column":9}},"line":71}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":15},"end":{"line":11,"column":19}},{"start":{"line":11,"column":23},"end":{"line":11,"column":35}},{"start":{"line":11,"column":40},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":14,"column":16},"end":{"line":22,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":17},"end":{"line":14,"column":21}},{"start":{"line":14,"column":25},"end":{"line":14,"column":39}},{"start":{"line":14,"column":44},"end":{"line":22,"column":1}}],"line":14},"15":{"loc":{"start":{"line":15,"column":35},"end":{"line":15,"column":109}},"type":"cond-expr","locations":[{"start":{"line":15,"column":56},"end":{"line":15,"column":61}},{"start":{"line":15,"column":64},"end":{"line":15,"column":109}}],"line":15},"16":{"loc":{"start":{"line":16,"column":16},"end":{"line":16,"column":34}},"type":"binary-expr","locations":[{"start":{"line":16,"column":16},"end":{"line":16,"column":17}},{"start":{"line":16,"column":22},"end":{"line":16,"column":33}}],"line":16},"17":{"loc":{"start":{"line":19,"column":32},"end":{"line":19,"column":115}},"type":"cond-expr","locations":[{"start":{"line":19,"column":46},"end":{"line":19,"column":67}},{"start":{"line":19,"column":70},"end":{"line":19,"column":115}}],"line":19},"18":{"loc":{"start":{"line":20,"column":51},"end":{"line":20,"column":67}},"type":"binary-expr","locations":[{"start":{"line":20,"column":51},"end":{"line":20,"column":61}},{"start":{"line":20,"column":65},"end":{"line":20,"column":67}}],"line":20},"19":{"loc":{"start":{"line":80,"column":45},"end":{"line":80,"column":141}},"type":"cond-expr","locations":[{"start":{"line":80,"column":130},"end":{"line":80,"column":132}},{"start":{"line":80,"column":135},"end":{"line":80,"column":141}}],"line":80},"20":{"loc":{"start":{"line":80,"column":58},"end":{"line":80,"column":111}},"type":"binary-expr","locations":[{"start":{"line":80,"column":58},"end":{"line":80,"column":94}},{"start":{"line":80,"column":98},"end":{"line":80,"column":111}}],"line":80}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":1,"13":1,"14":3,"15":3,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":1,"30":1,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":1},"f":{"0":1,"1":1,"2":3,"3":3,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[1,0],"4":[1,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[1,0,0],"10":[1,1,1],"11":[1,0],"12":[1,1],"13":[1,1,1],"14":[1,1,1],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,1],"20":[1,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/JsonDataService.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/services/JsonDataService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,wEAAwE;AACxE,yCAAsD;AAItD,sEAAsE;AACtE,wBAA4C;AAE5C;;GAEG;AAEH,IAAa,eAAe,GAA5B,MAAa,eAAe;IAIxB,YAC4C,GAAW,EACrB,MAAkB;QADR,QAAG,GAAH,GAAG,CAAQ;QACrB,WAAM,GAAN,MAAM,CAAY;QAChD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;IACnC,CAAC;IAEY,UAAU;;YAEnB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gCAAgC,CAAC,CAAC;YACpD,IAAI;aAEH;YAAC,OAAO,GAAG,EAAE;gBACV,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;aACtC;QACL,CAAC;KAAA;IAEY,cAAc,CAAC,KAAa;;YACrC,IAAI;gBACA,gBAAgB;gBAChB,kBAAkB;aACrB;YAAC,OAAO,GAAG,EAAE;gBACV,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;gBACnC,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC;aACpB;QACL,CAAC;KAAA;IAEY,WAAW,CAAC,UAAkB;;YACvC,MAAM,KAAK,CAAC,4BAA4B,CAAC,CAAC;QAC9C,CAAC;KAAA;IAEY,WAAW,CAAC,WAAgB;;YACrC,MAAM,KAAK,CAAC,4BAA4B,CAAC,CAAC;QAC9C,CAAC;KAAA;IAEY,WAAW,CAAC,WAAgB;;YACrC,MAAM,KAAK,CAAC,4BAA4B,CAAC,CAAC;QAC9C,CAAC;KAAA;CACJ,CAAA;AAzCY,eAAe;IAD3B,sBAAU,EAAE;IAMJ,WAAA,kBAAM,CAAC,QAAQ,CAAC,CAAA,EAAE,WAAA,iBAAK,CAAC,KAAK,CAAC,CAAA;IAC9B,WAAA,kBAAM,CAAC,YAAY,CAAC,CAAA;iEAAiB,aAAU,oBAAV,aAAU;GAN3C,eAAe,CAyC3B;AAzCY,0CAAe","sourcesContent":["// import { CosmosClient, Container, FeedOptions } from \"@azure/cosmos\";\nimport { inject, injectable, named } from \"inversify\";\n// import { LogService } from \"./LogService\";\n// import { QueryUtilities } from \"../utilities/queryUtilities\";\nimport { Actor, Movie } from \"../models\";\n// import { defaultPageSize, maxPageSize } from \"../config/constants\";\nimport { DataService, LogService } from \".\";\n\n/**\n * Handles executing queries against CosmosDB\n */\n@injectable()\nexport class JsonDataService implements DataService {\n\n    ready: Promise<void>;\n\n    constructor(\n        @inject(\"string\") @named(\"url\") private url: string,\n        @inject(\"LogService\") private logger: LogService) {\n        this.ready = this.initialize();\n    }\n\n    public async initialize(): Promise<void> {\n\n        this.logger.trace(\"Initializing Json Data Service\");\n        try {\n\n        } catch (err) {\n            this.logger.error(Error(err), err);\n        }\n    }\n\n    public async queryDocuments(query: string): Promise<any> {\n        try {\n            // fetch results\n            // return results;\n        } catch (err) {\n            this.logger.error(Error(err), err);\n            throw Error(err);\n        }\n    }\n\n    public async getDocument(documentId: string): Promise<any> {\n        throw Error(\"Method not yet implemented\");\n    }\n    \n    public async queryActors(queryParams: any): Promise<Actor[]> {\n        throw Error(\"Method not yet implemented\");\n    }\n    \n    public async queryMovies(queryParams: any): Promise<Movie[]> {\n        throw Error(\"Method not yet implemented\");\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b5efa8e1539fac1c414e9b1121479763a37b7366"},"/mnt/c/code/retaildevcrews/helium-typescript/src/services/TelemetryService.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/TelemetryService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}}},"fnMap":{},"branchMap":{},"s":{"0":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/TelemetryService.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/services/TelemetryService.ts"],"names":[],"mappings":"","sourcesContent":["export interface TelemetryService {\n    /**\n     * Sends an event with the given name to App Insights\n     * @param eventName Name of event to track\n     */\n    trackEvent(eventName: string): void;\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cc83b62d5bae169bd3a04c66e649ef0f90fbf2e0"},"/mnt/c/code/retaildevcrews/helium-typescript/src/services/AppInsightsService.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/AppInsightsService.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"14":{"start":{"line":12,"column":4},"end":{"line":12,"column":73}},"15":{"start":{"line":12,"column":36},"end":{"line":12,"column":71}},"16":{"start":{"line":15,"column":0},"end":{"line":15,"column":62}},"17":{"start":{"line":16,"column":28},"end":{"line":16,"column":58}},"18":{"start":{"line":17,"column":20},"end":{"line":17,"column":40}},"19":{"start":{"line":18,"column":17},"end":{"line":18,"column":44}},"20":{"start":{"line":22,"column":25},"end":{"line":52,"column":1}},"21":{"start":{"line":28,"column":8},"end":{"line":41,"column":9}},"22":{"start":{"line":30,"column":12},"end":{"line":38,"column":25}},"23":{"start":{"line":40,"column":12},"end":{"line":40,"column":69}},"24":{"start":{"line":49,"column":8},"end":{"line":50,"column":65}},"25":{"start":{"line":50,"column":12},"end":{"line":50,"column":65}},"26":{"start":{"line":53,"column":0},"end":{"line":57,"column":23}},"27":{"start":{"line":58,"column":0},"end":{"line":58,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":40},"end":{"line":11,"column":41}},"loc":{"start":{"line":11,"column":73},"end":{"line":13,"column":1}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":12,"column":11},"end":{"line":12,"column":12}},"loc":{"start":{"line":12,"column":34},"end":{"line":12,"column":73}},"line":12},"4":{"name":"(anonymous_4)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":30},"end":{"line":42,"column":5}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":48,"column":4},"end":{"line":48,"column":5}},"loc":{"start":{"line":48,"column":26},"end":{"line":51,"column":5}},"line":48}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9},"13":{"loc":{"start":{"line":11,"column":14},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":15},"end":{"line":11,"column":19}},{"start":{"line":11,"column":23},"end":{"line":11,"column":35}},{"start":{"line":11,"column":40},"end":{"line":13,"column":1}}],"line":11},"14":{"loc":{"start":{"line":28,"column":8},"end":{"line":41,"column":9}},"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":41,"column":9}},{"start":{"line":28,"column":8},"end":{"line":41,"column":9}}],"line":28},"15":{"loc":{"start":{"line":49,"column":8},"end":{"line":50,"column":65}},"type":"if","locations":[{"start":{"line":49,"column":8},"end":{"line":50,"column":65}},{"start":{"line":49,"column":8},"end":{"line":50,"column":65}}],"line":49},"16":{"loc":{"start":{"line":56,"column":37},"end":{"line":56,"column":149}},"type":"cond-expr","locations":[{"start":{"line":56,"column":138},"end":{"line":56,"column":140}},{"start":{"line":56,"column":143},"end":{"line":56,"column":149}}],"line":56},"17":{"loc":{"start":{"line":56,"column":50},"end":{"line":56,"column":119}},"type":"binary-expr","locations":[{"start":{"line":56,"column":50},"end":{"line":56,"column":94}},{"start":{"line":56,"column":98},"end":{"line":56,"column":119}}],"line":56}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[1,0],"4":[1,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[1,0,0],"10":[1,1,1],"11":[1,0],"12":[1,1],"13":[1,1,1],"14":[0,0],"15":[0,0],"16":[0,1],"17":[1,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/services/AppInsightsService.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/services/AppInsightsService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,2DAA2D;AAC3D,yCAA+C;AAC/C,6CAAgD;AAEhD;;GAEG;AAEH,IAAa,kBAAkB,GAA/B,MAAa,kBAAkB;IAI3B;;;OAGG;IACH,YAAoC,YAA0B;QAC1D,IAAG,YAAY,CAAC,WAAW,EAAE;YACzB,2FAA2F;YAC3F,mBAAmB,CAAC,KAAK,CAAC,YAAY,CAAC,WAAW,CAAC;iBAC9C,4BAA4B,CAAC,IAAI,CAAC;iBAClC,sBAAsB,CAAC,IAAI,CAAC;iBAC5B,yBAAyB,CAAC,IAAI,CAAC;iBAC/B,wBAAwB,CAAC,IAAI,CAAC;iBAC9B,0BAA0B,CAAC,IAAI,CAAC;iBAChC,qBAAqB,CAAC,IAAI,CAAC;iBAC3B,sBAAsB,CAAC,IAAI,CAAC;iBAC5B,KAAK,EAAE,CAAC;YAEb,6EAA6E;YAC7E,IAAI,CAAC,eAAe,GAAG,mBAAmB,CAAC,aAAa,CAAC;SAC5D;IACL,CAAC;IAED;;;;OAIG;IACI,UAAU,CAAC,SAAiB;QAC/B,IAAG,IAAI,CAAC,eAAe;YACnB,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;IAC7D,CAAC;CACJ,CAAA;AAnCY,kBAAkB;IAD9B,sBAAU,EAAE;IASI,WAAA,kBAAM,CAAC,cAAc,CAAC,CAAA;yDAAe,qBAAY,oBAAZ,qBAAY;GARrD,kBAAkB,CAmC9B;AAnCY,gDAAkB","sourcesContent":["import * as ApplicationInsights from \"applicationinsights\";\nimport { inject, injectable } from \"inversify\";\nimport { ConfigValues } from \"../config/config\";\n\n/**\n * Handles sending telemetry data via AppInsights\n */\n@injectable()\nexport class AppInsightsService {\n\n    private telemetryClient: ApplicationInsights.TelemetryClient;\n\n    /**\n     * Creates a new instance of the App Insights client.\n     * @param instrumentationKey The key needed to register your app with App Insights\n     */\n    constructor(@inject(\"ConfigValues\") configValues: ConfigValues) {\n        if(configValues.insightsKey) {\n            // Setup Application insights with the automatic collection and dependency tracking enabled\n            ApplicationInsights.setup(configValues.insightsKey)\n                .setAutoDependencyCorrelation(true)\n                .setAutoCollectRequests(true)\n                .setAutoCollectPerformance(true)\n                .setAutoCollectExceptions(true)\n                .setAutoCollectDependencies(true)\n                .setAutoCollectConsole(true)\n                .setUseDiskRetryCaching(true)\n                .start();\n    \n            // Create the Application insights telemetry client to write custom events to\n            this.telemetryClient = ApplicationInsights.defaultClient;\n        }\n    }\n\n    /**\n     * Sends an event with the given name to App Insights\n     * Note: Currently unused, but will be used with Key Rotation\n     * @param eventName Name of event to track\n     */\n    public trackEvent(eventName: string) {\n        if(this.telemetryClient)\n            this.telemetryClient.trackEvent({ name: eventName });\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3462bb6f1bf64f3c78deb288a449aaad2b51c08c"},"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/index.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":29},"end":{"line":3,"column":62}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":75}},"3":{"start":{"line":5,"column":22},"end":{"line":5,"column":48}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":54}},"5":{"start":{"line":7,"column":23},"end":{"line":7,"column":50}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":57}},"7":{"start":{"line":9,"column":28},"end":{"line":9,"column":60}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":72}},"9":{"start":{"line":11,"column":25},"end":{"line":11,"column":54}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":63}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/index.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/index.ts"],"names":[],"mappings":";;AAAA,+DAA8D;AAArD,sDAAA,oBAAoB,CAAA;AAC7B,iDAAgD;AAAvC,wCAAA,aAAa,CAAA;AACtB,mDAAkD;AAAzC,0CAAA,cAAc,CAAA;AACvB,6DAA4D;AAAnD,oDAAA,mBAAmB,CAAA;AAC5B,uDAAsD;AAA7C,8CAAA,gBAAgB,CAAA","sourcesContent":["export { CommandLineUtilities } from \"./commandLineUtilities\";\nexport { DateUtilities } from \"./dateUtilities\";\nexport { QueryUtilities } from \"./queryUtilities\";\nexport { ValidationUtilities } from \"./validationUtilities\";\nexport { VersionUtilities } from \"./versionUtilities\";\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b3ec32c31097112fb0be6d1d79ee3c8d092f2426"},"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/commandLineUtilities.ts":{"path":"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/commandLineUtilities.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":50}},"2":{"start":{"line":4,"column":24},"end":{"line":4,"column":52}},"3":{"start":{"line":10,"column":37},"end":{"line":13,"column":9}},"4":{"start":{"line":14,"column":32},"end":{"line":18,"column":9}},"5":{"start":{"line":20,"column":23},"end":{"line":20,"column":111}},"6":{"start":{"line":22,"column":8},"end":{"line":23,"column":61}},"7":{"start":{"line":23,"column":12},"end":{"line":23,"column":61}},"8":{"start":{"line":24,"column":8},"end":{"line":25,"column":36}},"9":{"start":{"line":25,"column":12},"end":{"line":25,"column":36}},"10":{"start":{"line":26,"column":8},"end":{"line":27,"column":59}},"11":{"start":{"line":27,"column":12},"end":{"line":27,"column":59}},"12":{"start":{"line":28,"column":8},"end":{"line":29,"column":83}},"13":{"start":{"line":29,"column":12},"end":{"line":29,"column":83}},"14":{"start":{"line":30,"column":8},"end":{"line":30,"column":22}},"15":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"16":{"start":{"line":36,"column":12},"end":{"line":36,"column":33}},"17":{"start":{"line":38,"column":8},"end":{"line":38,"column":49}},"18":{"start":{"line":39,"column":8},"end":{"line":39,"column":33}},"19":{"start":{"line":40,"column":8},"end":{"line":40,"column":91}},"20":{"start":{"line":41,"column":8},"end":{"line":41,"column":93}},"21":{"start":{"line":42,"column":8},"end":{"line":42,"column":33}},"22":{"start":{"line":43,"column":8},"end":{"line":43,"column":68}},"23":{"start":{"line":44,"column":8},"end":{"line":44,"column":74}},"24":{"start":{"line":45,"column":8},"end":{"line":45,"column":61}},"25":{"start":{"line":46,"column":8},"end":{"line":46,"column":63}},"26":{"start":{"line":49,"column":0},"end":{"line":49,"column":52}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":28},"end":{"line":31,"column":5}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":26},"end":{"line":47,"column":5}},"line":34}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":8},"end":{"line":23,"column":61}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":23,"column":61}},{"start":{"line":22,"column":8},"end":{"line":23,"column":61}}],"line":22},"1":{"loc":{"start":{"line":24,"column":8},"end":{"line":25,"column":36}},"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":25,"column":36}},{"start":{"line":24,"column":8},"end":{"line":25,"column":36}}],"line":24},"2":{"loc":{"start":{"line":26,"column":8},"end":{"line":27,"column":59}},"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":27,"column":59}},{"start":{"line":26,"column":8},"end":{"line":27,"column":59}}],"line":26},"3":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":92}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":50}},{"start":{"line":26,"column":54},"end":{"line":26,"column":92}}],"line":26},"4":{"loc":{"start":{"line":28,"column":8},"end":{"line":29,"column":83}},"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":29,"column":83}},{"start":{"line":28,"column":8},"end":{"line":29,"column":83}}],"line":28},"5":{"loc":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},{"start":{"line":35,"column":8},"end":{"line":37,"column":9}}],"line":35}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":0,"10":1,"11":0,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1},"f":{"0":1,"1":0},"b":{"0":[0,1],"1":[0,1],"2":[0,1],"3":[1,1],"4":[1,0],"5":[0,0]},"inputSourceMap":{"version":3,"file":"/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/commandLineUtilities.ts","sources":["/mnt/c/code/retaildevcrews/helium-typescript/src/utilities/commandLineUtilities.ts"],"names":[],"mappings":";;AAAA,mDAAgE;AAChE,qDAAsD;AAEtD;;GAEG;AACH,MAAa,oBAAoB;IAEtB,MAAM,CAAC,cAAc;QACxB,MAAM,oBAAoB,GAAG;YACzB,YAAY,EAAE,OAAO,CAAC,GAAG,CAAC,wBAAY,CAAC;YACvC,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,uBAAW,CAAC;SACrC,CAAA;QAED,MAAM,eAAe,GAAG;YACpB,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,GAAG,EAAE;YACpC,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE;YAChC,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE;SAC/B,CAAC;QAEF,wCAAwC;QACxC,MAAM,MAAM,mCAAQ,oBAAoB,GAAK,eAAe,CAAC,eAAe,CAAC,CAAE,CAAC;QAEhF,qBAAqB;QACrB,IAAI,CAAC,MAAM,CAAC,YAAY;YACpB,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;QACrD,IAAI,CAAC,MAAM,CAAC,QAAQ;YAChB,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC;QAC5B,IAAI,MAAM,CAAC,QAAQ,CAAC,WAAW,EAAE,IAAI,KAAK,IAAI,MAAM,CAAC,QAAQ,CAAC,WAAW,EAAE,IAAI,KAAK;YAChF,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC,CAAC;QACnD,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC;YAC3C,MAAM,CAAC,YAAY,GAAG,WAAW,MAAM,CAAC,YAAY,kBAAkB,CAAC;QAE3E,OAAO,MAAM,CAAC;IAClB,CAAC;IAED,oDAAoD;IACpD,sDAAsD;IAC/C,MAAM,CAAC,KAAK,CAAC,OAAgB;QAChC,IAAI,OAAO,EAAE;YACT,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;SACxB;QAED,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;QACzC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACzB,OAAO,CAAC,GAAG,CAAC,qEAAqE,CAAC,CAAC;QACnF,OAAO,CAAC,GAAG,CAAC,uEAAuE,CAAC,CAAC;QACrF,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACzB,OAAO,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;QAC5D,OAAO,CAAC,GAAG,CAAC,oDAAoD,CAAC,CAAC;QAClE,OAAO,CAAC,GAAG,CAAC,uCAAuC,CAAC,CAAC;QACrD,OAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;IAC3D,CAAC;CACJ;AA/CD,oDA+CC","sourcesContent":["import { keyVaultName, authTypeEnv } from \"../config/constants\";\nimport commandLineArgs = require(\"command-line-args\");\n\n/**\n * Utilities for handling command line arguments.\n */\nexport class CommandLineUtilities {\n\n    public static parseArguments(): { authType: string; keyVaultName: string } {\n        const environmentVariables = {\n            keyVaultName: process.env[keyVaultName],\n            authType: process.env[authTypeEnv]\n        }\n\n        const argumentOptions = [\n            { name: \"keyVaultName\", alias: \"k\" },\n            { name: \"authType\", alias: \"a\" },\n            { name: \"help\", alias: \"h\" }\n        ];\n\n        // compose the args and the environment \n        const values = { ...environmentVariables, ...commandLineArgs(argumentOptions) };\n\n        // validate arguments\n        if (!values.keyVaultName)\n            throw new Error(\"Missing keyVaultName argument\");\n        if (!values.authType)\n            values.authType = \"MSI\";\n        if (values.authType.toUpperCase() != \"MSI\" && values.authType.toUpperCase() != \"CLI\")\n            throw new Error(\"Invalid authentication type\");\n        if (!values.keyVaultName.startsWith(\"https://\"))\n            values.keyVaultName = `https://${values.keyVaultName}.vault.azure.net`;\n\n        return values;\n    }\n\n    // Output CLI argument usage instructions to console\n    // Optional parameter to display error/context message\n    public static usage(message?: string) {\n        if (message) {\n            console.log(message);\n        }\n\n        console.log(\"\\nUsage: npm start -- ...\");\n        console.log(\"Required:\");\n        console.log(\"\\t--kvname Key Vault Name - name or full URL of the Azure Key Vault\");\n        console.log(\"\\t\\t(can alternatively be set with environment variable KeyVaultName)\");\n        console.log(\"Optional:\");\n        console.log(\"\\t[-h] [--help] - display command line usage\");\n        console.log(\"\\t[--authtype authentication type] - Valid types: \");\n        console.log(\"\\t\\t MSI - managed identity (default)\");\n        console.log(\"\\t\\t CLI - Azure CLI cached credentials\");\n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b68900611773478d2b3a865132ad3c2bf326d517"}}